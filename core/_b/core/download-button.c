/* download-button.c generated by valac 0.40.23, the Vala compiler
 * generated from download-button.vala, do not modify */

/*
 Copyright (C) 2018 Christian Dywan <christian@twotoats.de>

 This library is free software; you can redistribute it and/or
 modify it under the terms of the GNU Lesser General Public
 License as published by the Free Software Foundation; either
 version 2.1 of the License, or (at your option) any later version.

 See the file COPYING for the full license text.
*/


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>
#include "webkit2/webkit2.h"
#include <float.h>
#include <math.h>
#include <glib/gi18n-lib.h>


#define MIDORI_TYPE_DOWNLOAD_BUTTON (midori_download_button_get_type ())
#define MIDORI_DOWNLOAD_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_DOWNLOAD_BUTTON, MidoriDownloadButton))
#define MIDORI_DOWNLOAD_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_DOWNLOAD_BUTTON, MidoriDownloadButtonClass))
#define MIDORI_IS_DOWNLOAD_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_DOWNLOAD_BUTTON))
#define MIDORI_IS_DOWNLOAD_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_DOWNLOAD_BUTTON))
#define MIDORI_DOWNLOAD_BUTTON_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_DOWNLOAD_BUTTON, MidoriDownloadButtonClass))

typedef struct _MidoriDownloadButton MidoriDownloadButton;
typedef struct _MidoriDownloadButtonClass MidoriDownloadButtonClass;
typedef struct _MidoriDownloadButtonPrivate MidoriDownloadButtonPrivate;
enum  {
	MIDORI_DOWNLOAD_BUTTON_0_PROPERTY,
	MIDORI_DOWNLOAD_BUTTON_WEB_CONTEXT_PROPERTY,
	MIDORI_DOWNLOAD_BUTTON_NUM_PROPERTIES
};
static GParamSpec* midori_download_button_properties[MIDORI_DOWNLOAD_BUTTON_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

#define MIDORI_TYPE_DOWNLOAD_ITEM (midori_download_item_get_type ())
#define MIDORI_DOWNLOAD_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_DOWNLOAD_ITEM, MidoriDownloadItem))
#define MIDORI_DOWNLOAD_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_DOWNLOAD_ITEM, MidoriDownloadItemClass))
#define MIDORI_IS_DOWNLOAD_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_DOWNLOAD_ITEM))
#define MIDORI_IS_DOWNLOAD_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_DOWNLOAD_ITEM))
#define MIDORI_DOWNLOAD_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_DOWNLOAD_ITEM, MidoriDownloadItemClass))

typedef struct _MidoriDownloadItem MidoriDownloadItem;
typedef struct _MidoriDownloadItemClass MidoriDownloadItemClass;

#define MIDORI_TYPE_DOWNLOAD_ROW (midori_download_row_get_type ())
#define MIDORI_DOWNLOAD_ROW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_DOWNLOAD_ROW, MidoriDownloadRow))
#define MIDORI_DOWNLOAD_ROW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_DOWNLOAD_ROW, MidoriDownloadRowClass))
#define MIDORI_IS_DOWNLOAD_ROW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_DOWNLOAD_ROW))
#define MIDORI_IS_DOWNLOAD_ROW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_DOWNLOAD_ROW))
#define MIDORI_DOWNLOAD_ROW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_DOWNLOAD_ROW, MidoriDownloadRowClass))

typedef struct _MidoriDownloadRow MidoriDownloadRow;
typedef struct _MidoriDownloadRowClass MidoriDownloadRowClass;
enum  {
	MIDORI_DOWNLOAD_BUTTON_SHOW_DOWNLOADS_SIGNAL,
	MIDORI_DOWNLOAD_BUTTON_NUM_SIGNALS
};
static guint midori_download_button_signals[MIDORI_DOWNLOAD_BUTTON_NUM_SIGNALS] = {0};
typedef struct _MidoriDownloadItemPrivate MidoriDownloadItemPrivate;
enum  {
	MIDORI_DOWNLOAD_ITEM_0_PROPERTY,
	MIDORI_DOWNLOAD_ITEM_CONTENT_TYPE_PROPERTY,
	MIDORI_DOWNLOAD_ITEM_ICON_PROPERTY,
	MIDORI_DOWNLOAD_ITEM_FILENAME_PROPERTY,
	MIDORI_DOWNLOAD_ITEM_BASENAME_PROPERTY,
	MIDORI_DOWNLOAD_ITEM_PROGRESS_PROPERTY,
	MIDORI_DOWNLOAD_ITEM_DOWNLOAD_PROPERTY,
	MIDORI_DOWNLOAD_ITEM_LOADING_PROPERTY,
	MIDORI_DOWNLOAD_ITEM_ERROR_PROPERTY,
	MIDORI_DOWNLOAD_ITEM_NUM_PROPERTIES
};
static GParamSpec* midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_NUM_PROPERTIES];
typedef struct _Block10Data Block10Data;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
enum  {
	MIDORI_DOWNLOAD_ITEM_FINISHED_SIGNAL,
	MIDORI_DOWNLOAD_ITEM_NUM_SIGNALS
};
static guint midori_download_item_signals[MIDORI_DOWNLOAD_ITEM_NUM_SIGNALS] = {0};
typedef struct _MidoriDownloadRowPrivate MidoriDownloadRowPrivate;
enum  {
	MIDORI_DOWNLOAD_ROW_0_PROPERTY,
	MIDORI_DOWNLOAD_ROW_ITEM_PROPERTY,
	MIDORI_DOWNLOAD_ROW_NUM_PROPERTIES
};
static GParamSpec* midori_download_row_properties[MIDORI_DOWNLOAD_ROW_NUM_PROPERTIES];
typedef struct _Block11Data Block11Data;

#define MIDORI_TYPE_APP (midori_app_get_type ())
#define MIDORI_APP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_APP, MidoriApp))
#define MIDORI_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_APP, MidoriAppClass))
#define MIDORI_IS_APP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_APP))
#define MIDORI_IS_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_APP))
#define MIDORI_APP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_APP, MidoriAppClass))

typedef struct _MidoriApp MidoriApp;
typedef struct _MidoriAppClass MidoriAppClass;

struct _MidoriDownloadButton {
	GtkButton parent_instance;
	MidoriDownloadButtonPrivate * priv;
	GtkPopover* popover;
	GtkButton* clear;
	GtkListBox* listbox;
};

struct _MidoriDownloadButtonClass {
	GtkButtonClass parent_class;
	void (*show_downloads) (MidoriDownloadButton* self);
};

struct _MidoriDownloadButtonPrivate {
	gchar* cache;
	GListStore* model;
};

struct _MidoriDownloadItem {
	GObject parent_instance;
	MidoriDownloadItemPrivate * priv;
	gchar* mime_type;
};

struct _MidoriDownloadItemClass {
	GObjectClass parent_class;
};

struct _MidoriDownloadItemPrivate {
	gchar* _filename;
	gchar* _basename;
	gdouble _progress;
	WebKitDownload* _download;
	gboolean _loading;
	gchar* _error;
};

struct _Block10Data {
	int _ref_count_;
	MidoriDownloadItem* self;
	WebKitDownload* download;
};

struct _MidoriDownloadRow {
	GtkListBoxRow parent_instance;
	MidoriDownloadRowPrivate * priv;
	GtkImage* icon;
	GtkLabel* filename;
	GtkProgressBar* progress;
	GtkButton* cancel;
	GtkButton* open;
	GtkImage* error;
	GtkLabel* status;
};

struct _MidoriDownloadRowClass {
	GtkListBoxRowClass parent_class;
};

struct _MidoriDownloadRowPrivate {
	MidoriDownloadItem* _item;
};

struct _Block11Data {
	int _ref_count_;
	MidoriDownloadRow* self;
	MidoriDownloadItem* item;
};


static gpointer midori_download_button_parent_class = NULL;
static gpointer midori_download_item_parent_class = NULL;
static gpointer midori_download_row_parent_class = NULL;

GType midori_download_button_get_type (void) G_GNUC_CONST;
#define MIDORI_DOWNLOAD_BUTTON_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), MIDORI_TYPE_DOWNLOAD_BUTTON, MidoriDownloadButtonPrivate))
GType midori_download_item_get_type (void) G_GNUC_CONST;
static void midori_download_button_download_started (MidoriDownloadButton* self,
                                              WebKitDownload* download);
MidoriDownloadItem* midori_download_item_new_with_download (WebKitDownload* download);
MidoriDownloadItem* midori_download_item_construct_with_download (GType object_type,
                                                                  WebKitDownload* download);
static void __lambda54_ (MidoriDownloadButton* self);
static void ___lambda54__midori_download_item_finished (MidoriDownloadItem* _sender,
                                                 gpointer self);
GtkWidget* midori_download_button_create_row (MidoriDownloadButton* self,
                                              GObject* item);
MidoriDownloadRow* midori_download_row_new (MidoriDownloadItem* item);
MidoriDownloadRow* midori_download_row_construct (GType object_type,
                                                  MidoriDownloadItem* item);
GType midori_download_row_get_type (void) G_GNUC_CONST;
MidoriDownloadButton* midori_download_button_new (void);
MidoriDownloadButton* midori_download_button_construct (GType object_type);
void midori_download_button_set_web_context (MidoriDownloadButton* self,
                                             WebKitWebContext* value);
static void _midori_download_button_download_started_webkit_web_context_download_started (WebKitWebContext* _sender,
                                                                                   WebKitDownload* download,
                                                                                   gpointer self);
static void midori_download_button_real_show_downloads (MidoriDownloadButton* self);
static GObject * midori_download_button_constructor (GType type,
                                              guint n_construct_properties,
                                              GObjectConstructParam * construct_properties);
static GtkWidget* _midori_download_button_create_row_gtk_list_box_create_widget_func (GObject* item,
                                                                               gpointer self);
static void _midori_download_button___lambda58_ (MidoriDownloadButton* self);
static void __midori_download_button___lambda58__gtk_button_clicked (GtkButton* _sender,
                                                              gpointer self);
static void midori_download_button_finalize (GObject * obj);
static void _vala_midori_download_button_set_property (GObject * object,
                                                guint property_id,
                                                const GValue * value,
                                                GParamSpec * pspec);
#define MIDORI_DOWNLOAD_ITEM_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), MIDORI_TYPE_DOWNLOAD_ITEM, MidoriDownloadItemPrivate))
void midori_download_item_cancel (MidoriDownloadItem* self);
WebKitDownload* midori_download_item_get_download (MidoriDownloadItem* self);
void midori_download_item_set_download (MidoriDownloadItem* self,
                                        WebKitDownload* value);
void midori_download_item_set_loading (MidoriDownloadItem* self,
                                       gboolean value);
MidoriDownloadItem* midori_download_item_new (const gchar* filename);
MidoriDownloadItem* midori_download_item_construct (GType object_type,
                                                    const gchar* filename);
static Block10Data* block10_data_ref (Block10Data* _data10_);
static void block10_data_unref (void * _userdata_);
static void __lambda51_ (Block10Data* _data10_);
static void ___lambda51__webkit_download_finished (WebKitDownload* _sender,
                                            gpointer self);
static void __lambda52_ (MidoriDownloadItem* self,
                  GError* _error_);
void midori_download_item_set_error (MidoriDownloadItem* self,
                                     const gchar* value);
static void ___lambda52__webkit_download_failed (WebKitDownload* _sender,
                                          GError* _error_,
                                          gpointer self);
gchar* midori_download_item_get_content_type (MidoriDownloadItem* self);
const gchar* midori_download_item_get_filename (MidoriDownloadItem* self);
GIcon* midori_download_item_get_icon (MidoriDownloadItem* self);
void midori_download_item_set_filename (MidoriDownloadItem* self,
                                        const gchar* value);
const gchar* midori_download_item_get_basename (MidoriDownloadItem* self);
void midori_download_item_set_basename (MidoriDownloadItem* self,
                                        const gchar* value);
gdouble midori_download_item_get_progress (MidoriDownloadItem* self);
void midori_download_item_set_progress (MidoriDownloadItem* self,
                                        gdouble value);
gboolean midori_download_item_get_loading (MidoriDownloadItem* self);
const gchar* midori_download_item_get_error (MidoriDownloadItem* self);
static GObject * midori_download_item_constructor (GType type,
                                            guint n_construct_properties,
                                            GObjectConstructParam * construct_properties);
static void _midori_download_item___lambda53_ (MidoriDownloadItem* self,
                                        GParamSpec* pspec);
static void __midori_download_item___lambda53__g_object_notify (GObject* _sender,
                                                         GParamSpec* pspec,
                                                         gpointer self);
static void midori_download_item_finalize (GObject * obj);
static void _vala_midori_download_item_get_property (GObject * object,
                                              guint property_id,
                                              GValue * value,
                                              GParamSpec * pspec);
static void _vala_midori_download_item_set_property (GObject * object,
                                              guint property_id,
                                              const GValue * value,
                                              GParamSpec * pspec);
#define MIDORI_DOWNLOAD_ROW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), MIDORI_TYPE_DOWNLOAD_ROW, MidoriDownloadRowPrivate))
static Block11Data* block11_data_ref (Block11Data* _data11_);
static void block11_data_unref (void * _userdata_);
static void midori_download_row_update_buttons (MidoriDownloadRow* self);
static void _midori_download_row_update_buttons_g_object_notify (GObject* _sender,
                                                          GParamSpec* pspec,
                                                          gpointer self);
static void __lambda55_ (Block11Data* _data11_);
GType midori_app_get_type (void) G_GNUC_CONST;
static void ___lambda55__midori_download_item_finished (MidoriDownloadItem* _sender,
                                                 gpointer self);
MidoriDownloadItem* midori_download_row_get_item (MidoriDownloadRow* self);
void midori_download_row_set_item (MidoriDownloadRow* self,
                                   MidoriDownloadItem* value);
static GObject * midori_download_row_constructor (GType type,
                                           guint n_construct_properties,
                                           GObjectConstructParam * construct_properties);
static void _midori_download_row___lambda56_ (MidoriDownloadRow* self);
static void __midori_download_row___lambda56__gtk_button_clicked (GtkButton* _sender,
                                                           gpointer self);
static void _midori_download_row___lambda57_ (MidoriDownloadRow* self);
static void __midori_download_row___lambda57__gtk_button_clicked (GtkButton* _sender,
                                                           gpointer self);
static void midori_download_row_finalize (GObject * obj);
static void _vala_midori_download_row_get_property (GObject * object,
                                             guint property_id,
                                             GValue * value,
                                             GParamSpec * pspec);
static void _vala_midori_download_row_set_property (GObject * object,
                                             guint property_id,
                                             const GValue * value,
                                             GParamSpec * pspec);


static void
__lambda54_ (MidoriDownloadButton* self)
{
	GtkStyleContext* _tmp0_;
#line 52 "/home/test/core/core/download-button.vala"
	_tmp0_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 52 "/home/test/core/core/download-button.vala"
	gtk_style_context_add_class (_tmp0_, GTK_STYLE_CLASS_SUGGESTED_ACTION);
#line 318 "download-button.c"
}


static void
___lambda54__midori_download_item_finished (MidoriDownloadItem* _sender,
                                            gpointer self)
{
#line 51 "/home/test/core/core/download-button.vala"
	__lambda54_ ((MidoriDownloadButton*) self);
#line 328 "download-button.c"
}


static void
midori_download_button_download_started (MidoriDownloadButton* self,
                                         WebKitDownload* download)
{
	gboolean _tmp0_ = FALSE;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	MidoriDownloadItem* item = NULL;
	MidoriDownloadItem* _tmp6_;
	MidoriDownloadItem* _tmp7_;
	GListStore* _tmp8_;
	MidoriDownloadItem* _tmp9_;
#line 45 "/home/test/core/core/download-button.vala"
	g_return_if_fail (self != NULL);
#line 45 "/home/test/core/core/download-button.vala"
	g_return_if_fail (download != NULL);
#line 47 "/home/test/core/core/download-button.vala"
	_tmp1_ = webkit_download_get_destination (download);
#line 47 "/home/test/core/core/download-button.vala"
	_tmp2_ = _tmp1_;
#line 47 "/home/test/core/core/download-button.vala"
	if (_tmp2_ != NULL) {
#line 354 "download-button.c"
		const gchar* _tmp3_;
		const gchar* _tmp4_;
		const gchar* _tmp5_;
#line 47 "/home/test/core/core/download-button.vala"
		_tmp3_ = webkit_download_get_destination (download);
#line 47 "/home/test/core/core/download-button.vala"
		_tmp4_ = _tmp3_;
#line 47 "/home/test/core/core/download-button.vala"
		_tmp5_ = self->priv->cache;
#line 47 "/home/test/core/core/download-button.vala"
		_tmp0_ = g_str_has_prefix (_tmp4_, _tmp5_);
#line 366 "download-button.c"
	} else {
#line 47 "/home/test/core/core/download-button.vala"
		_tmp0_ = FALSE;
#line 370 "download-button.c"
	}
#line 47 "/home/test/core/core/download-button.vala"
	if (_tmp0_) {
#line 48 "/home/test/core/core/download-button.vala"
		return;
#line 376 "download-button.c"
	}
#line 50 "/home/test/core/core/download-button.vala"
	_tmp6_ = midori_download_item_new_with_download (download);
#line 50 "/home/test/core/core/download-button.vala"
	item = _tmp6_;
#line 51 "/home/test/core/core/download-button.vala"
	_tmp7_ = item;
#line 51 "/home/test/core/core/download-button.vala"
	g_signal_connect_object (_tmp7_, "finished", (GCallback) ___lambda54__midori_download_item_finished, self, 0);
#line 54 "/home/test/core/core/download-button.vala"
	_tmp8_ = self->priv->model;
#line 54 "/home/test/core/core/download-button.vala"
	_tmp9_ = item;
#line 54 "/home/test/core/core/download-button.vala"
	g_list_store_append (_tmp8_, (GObject*) _tmp9_);
#line 45 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (item);
#line 394 "download-button.c"
}


GtkWidget*
midori_download_button_create_row (MidoriDownloadButton* self,
                                   GObject* item)
{
	GtkWidget* result = NULL;
	MidoriDownloadRow* _tmp0_;
#line 57 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 57 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (item != NULL, NULL);
#line 58 "/home/test/core/core/download-button.vala"
	gtk_widget_set_visible ((GtkWidget*) self, TRUE);
#line 59 "/home/test/core/core/download-button.vala"
	_tmp0_ = midori_download_row_new (G_TYPE_CHECK_INSTANCE_CAST (item, MIDORI_TYPE_DOWNLOAD_ITEM, MidoriDownloadItem));
#line 59 "/home/test/core/core/download-button.vala"
	g_object_ref_sink (_tmp0_);
#line 59 "/home/test/core/core/download-button.vala"
	result = (GtkWidget*) _tmp0_;
#line 59 "/home/test/core/core/download-button.vala"
	return result;
#line 418 "download-button.c"
}


MidoriDownloadButton*
midori_download_button_construct (GType object_type)
{
	MidoriDownloadButton * self = NULL;
#line 14 "/home/test/core/core/download-button.vala"
	self = (MidoriDownloadButton*) g_object_new (object_type, NULL);
#line 14 "/home/test/core/core/download-button.vala"
	return self;
#line 430 "download-button.c"
}


MidoriDownloadButton*
midori_download_button_new (void)
{
#line 14 "/home/test/core/core/download-button.vala"
	return midori_download_button_construct (MIDORI_TYPE_DOWNLOAD_BUTTON);
#line 439 "download-button.c"
}


static void
_midori_download_button_download_started_webkit_web_context_download_started (WebKitWebContext* _sender,
                                                                              WebKitDownload* download,
                                                                              gpointer self)
{
#line 41 "/home/test/core/core/download-button.vala"
	midori_download_button_download_started ((MidoriDownloadButton*) self, download);
#line 450 "download-button.c"
}


void
midori_download_button_set_web_context (MidoriDownloadButton* self,
                                        WebKitWebContext* value)
{
#line 40 "/home/test/core/core/download-button.vala"
	g_return_if_fail (self != NULL);
#line 41 "/home/test/core/core/download-button.vala"
	g_signal_connect_object (value, "download-started", (GCallback) _midori_download_button_download_started_webkit_web_context_download_started, self, 0);
#line 40 "/home/test/core/core/download-button.vala"
	g_object_notify_by_pspec ((GObject *) self, midori_download_button_properties[MIDORI_DOWNLOAD_BUTTON_WEB_CONTEXT_PROPERTY]);
#line 464 "download-button.c"
}


static void
midori_download_button_real_show_downloads (MidoriDownloadButton* self)
{
	GtkStyleContext* _tmp0_;
	GtkPopover* _tmp1_;
#line 16 "/home/test/core/core/download-button.vala"
	_tmp0_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 16 "/home/test/core/core/download-button.vala"
	gtk_style_context_remove_class (_tmp0_, GTK_STYLE_CLASS_SUGGESTED_ACTION);
#line 17 "/home/test/core/core/download-button.vala"
	_tmp1_ = self->popover;
#line 17 "/home/test/core/core/download-button.vala"
	gtk_widget_show ((GtkWidget*) _tmp1_);
#line 481 "download-button.c"
}


static GtkWidget*
_midori_download_button_create_row_gtk_list_box_create_widget_func (GObject* item,
                                                                    gpointer self)
{
	GtkWidget* result;
	result = midori_download_button_create_row ((MidoriDownloadButton*) self, item);
#line 32 "/home/test/core/core/download-button.vala"
	return result;
#line 493 "download-button.c"
}


static void
_midori_download_button___lambda58_ (MidoriDownloadButton* self)
{
	GListStore* _tmp0_;
#line 35 "/home/test/core/core/download-button.vala"
	gtk_widget_hide ((GtkWidget*) self);
#line 36 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->model;
#line 36 "/home/test/core/core/download-button.vala"
	g_list_store_remove_all (_tmp0_);
#line 507 "download-button.c"
}


static void
__midori_download_button___lambda58__gtk_button_clicked (GtkButton* _sender,
                                                         gpointer self)
{
#line 34 "/home/test/core/core/download-button.vala"
	_midori_download_button___lambda58_ ((MidoriDownloadButton*) self);
#line 517 "download-button.c"
}


static GObject *
midori_download_button_constructor (GType type,
                                    guint n_construct_properties,
                                    GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	MidoriDownloadButton * self;
	GtkListBox* _tmp0_;
	GListStore* _tmp1_;
	GtkPopover* _tmp2_;
	GtkButton* _tmp3_;
#line 31 "/home/test/core/core/download-button.vala"
	parent_class = G_OBJECT_CLASS (midori_download_button_parent_class);
#line 31 "/home/test/core/core/download-button.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 31 "/home/test/core/core/download-button.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MIDORI_TYPE_DOWNLOAD_BUTTON, MidoriDownloadButton);
#line 32 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->listbox;
#line 32 "/home/test/core/core/download-button.vala"
	_tmp1_ = self->priv->model;
#line 32 "/home/test/core/core/download-button.vala"
	gtk_list_box_bind_model (_tmp0_, (GListModel*) _tmp1_, _midori_download_button_create_row_gtk_list_box_create_widget_func, g_object_ref (self), g_object_unref);
#line 33 "/home/test/core/core/download-button.vala"
	_tmp2_ = self->popover;
#line 33 "/home/test/core/core/download-button.vala"
	gtk_popover_set_relative_to (_tmp2_, (GtkWidget*) self);
#line 34 "/home/test/core/core/download-button.vala"
	_tmp3_ = self->clear;
#line 34 "/home/test/core/core/download-button.vala"
	g_signal_connect_object (_tmp3_, "clicked", (GCallback) __midori_download_button___lambda58__gtk_button_clicked, self, 0);
#line 31 "/home/test/core/core/download-button.vala"
	return obj;
#line 555 "download-button.c"
}


static void
midori_download_button_class_init (MidoriDownloadButtonClass * klass)
{
	gint MidoriDownloadButton_private_offset;
#line 14 "/home/test/core/core/download-button.vala"
	midori_download_button_parent_class = g_type_class_peek_parent (klass);
#line 14 "/home/test/core/core/download-button.vala"
	g_type_class_add_private (klass, sizeof (MidoriDownloadButtonPrivate));
#line 14 "/home/test/core/core/download-button.vala"
	((MidoriDownloadButtonClass *) klass)->show_downloads = midori_download_button_real_show_downloads;
#line 14 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_midori_download_button_set_property;
#line 14 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (klass)->constructor = midori_download_button_constructor;
#line 14 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (klass)->finalize = midori_download_button_finalize;
#line 14 "/home/test/core/core/download-button.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DOWNLOAD_BUTTON_WEB_CONTEXT_PROPERTY, midori_download_button_properties[MIDORI_DOWNLOAD_BUTTON_WEB_CONTEXT_PROPERTY] = g_param_spec_object ("web-context", "web-context", "web-context", webkit_web_context_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_WRITABLE));
#line 14 "/home/test/core/core/download-button.vala"
	MidoriDownloadButton_private_offset = g_type_class_get_instance_private_offset (klass);
#line 14 "/home/test/core/core/download-button.vala"
	gtk_widget_class_set_template_from_resource (GTK_WIDGET_CLASS (klass), "/ui/download-button.ui");
#line 14 "/home/test/core/core/download-button.vala"
	midori_download_button_signals[MIDORI_DOWNLOAD_BUTTON_SHOW_DOWNLOADS_SIGNAL] = g_signal_new ("show-downloads", MIDORI_TYPE_DOWNLOAD_BUTTON, G_SIGNAL_RUN_LAST, G_STRUCT_OFFSET (MidoriDownloadButtonClass, show_downloads), NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 14 "/home/test/core/core/download-button.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "popover", FALSE, G_STRUCT_OFFSET (MidoriDownloadButton, popover));
#line 14 "/home/test/core/core/download-button.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "clear", FALSE, G_STRUCT_OFFSET (MidoriDownloadButton, clear));
#line 14 "/home/test/core/core/download-button.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "listbox", FALSE, G_STRUCT_OFFSET (MidoriDownloadButton, listbox));
#line 589 "download-button.c"
}


static void
midori_download_button_instance_init (MidoriDownloadButton * self)
{
	const gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	GFile* _tmp3_;
	GFile* _tmp4_;
	gchar* _tmp5_;
	GListStore* _tmp6_;
#line 14 "/home/test/core/core/download-button.vala"
	self->priv = MIDORI_DOWNLOAD_BUTTON_GET_PRIVATE (self);
#line 27 "/home/test/core/core/download-button.vala"
	_tmp0_ = g_get_user_cache_dir ();
#line 27 "/home/test/core/core/download-button.vala"
	_tmp1_ = g_build_filename (_tmp0_, NULL);
#line 27 "/home/test/core/core/download-button.vala"
	_tmp2_ = _tmp1_;
#line 27 "/home/test/core/core/download-button.vala"
	_tmp3_ = g_file_new_for_path (_tmp2_);
#line 27 "/home/test/core/core/download-button.vala"
	_tmp4_ = _tmp3_;
#line 27 "/home/test/core/core/download-button.vala"
	_tmp5_ = g_file_get_uri (_tmp4_);
#line 27 "/home/test/core/core/download-button.vala"
	self->priv->cache = _tmp5_;
#line 27 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (_tmp4_);
#line 27 "/home/test/core/core/download-button.vala"
	_g_free0 (_tmp2_);
#line 29 "/home/test/core/core/download-button.vala"
	_tmp6_ = g_list_store_new (MIDORI_TYPE_DOWNLOAD_ITEM);
#line 29 "/home/test/core/core/download-button.vala"
	self->priv->model = _tmp6_;
#line 14 "/home/test/core/core/download-button.vala"
	gtk_widget_init_template (GTK_WIDGET (self));
#line 629 "download-button.c"
}


static void
midori_download_button_finalize (GObject * obj)
{
	MidoriDownloadButton * self;
#line 14 "/home/test/core/core/download-button.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MIDORI_TYPE_DOWNLOAD_BUTTON, MidoriDownloadButton);
#line 21 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->popover);
#line 23 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->clear);
#line 25 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->listbox);
#line 27 "/home/test/core/core/download-button.vala"
	_g_free0 (self->priv->cache);
#line 29 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->priv->model);
#line 14 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (midori_download_button_parent_class)->finalize (obj);
#line 651 "download-button.c"
}


GType
midori_download_button_get_type (void)
{
	static volatile gsize midori_download_button_type_id__volatile = 0;
	if (g_once_init_enter (&midori_download_button_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MidoriDownloadButtonClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) midori_download_button_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MidoriDownloadButton), 0, (GInstanceInitFunc) midori_download_button_instance_init, NULL };
		GType midori_download_button_type_id;
		midori_download_button_type_id = g_type_register_static (gtk_button_get_type (), "MidoriDownloadButton", &g_define_type_info, 0);
		g_once_init_leave (&midori_download_button_type_id__volatile, midori_download_button_type_id);
	}
	return midori_download_button_type_id__volatile;
}


static void
_vala_midori_download_button_set_property (GObject * object,
                                           guint property_id,
                                           const GValue * value,
                                           GParamSpec * pspec)
{
	MidoriDownloadButton * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MIDORI_TYPE_DOWNLOAD_BUTTON, MidoriDownloadButton);
#line 14 "/home/test/core/core/download-button.vala"
	switch (property_id) {
#line 14 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_BUTTON_WEB_CONTEXT_PROPERTY:
#line 14 "/home/test/core/core/download-button.vala"
		midori_download_button_set_web_context (self, g_value_get_object (value));
#line 14 "/home/test/core/core/download-button.vala"
		break;
#line 685 "download-button.c"
		default:
#line 14 "/home/test/core/core/download-button.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 14 "/home/test/core/core/download-button.vala"
		break;
#line 691 "download-button.c"
	}
}


void
midori_download_item_cancel (MidoriDownloadItem* self)
{
	WebKitDownload* _tmp0_;
#line 86 "/home/test/core/core/download-button.vala"
	g_return_if_fail (self != NULL);
#line 87 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->_download;
#line 87 "/home/test/core/core/download-button.vala"
	if (_tmp0_ != NULL) {
#line 706 "download-button.c"
		WebKitDownload* _tmp1_;
#line 88 "/home/test/core/core/download-button.vala"
		_tmp1_ = self->priv->_download;
#line 88 "/home/test/core/core/download-button.vala"
		webkit_download_cancel (_tmp1_);
#line 89 "/home/test/core/core/download-button.vala"
		midori_download_item_set_download (self, NULL);
#line 90 "/home/test/core/core/download-button.vala"
		midori_download_item_set_loading (self, FALSE);
#line 716 "download-button.c"
	}
}


MidoriDownloadItem*
midori_download_item_construct (GType object_type,
                                const gchar* filename)
{
	MidoriDownloadItem * self = NULL;
#line 108 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (filename != NULL, NULL);
#line 109 "/home/test/core/core/download-button.vala"
	self = (MidoriDownloadItem*) g_object_new (object_type, "filename", filename, NULL);
#line 108 "/home/test/core/core/download-button.vala"
	return self;
#line 732 "download-button.c"
}


MidoriDownloadItem*
midori_download_item_new (const gchar* filename)
{
#line 108 "/home/test/core/core/download-button.vala"
	return midori_download_item_construct (MIDORI_TYPE_DOWNLOAD_ITEM, filename);
#line 741 "download-button.c"
}


static gpointer
_g_object_ref0 (gpointer self)
{
#line 112 "/home/test/core/core/download-button.vala"
	return self ? g_object_ref (self) : NULL;
#line 750 "download-button.c"
}


static Block10Data*
block10_data_ref (Block10Data* _data10_)
{
#line 112 "/home/test/core/core/download-button.vala"
	g_atomic_int_inc (&_data10_->_ref_count_);
#line 112 "/home/test/core/core/download-button.vala"
	return _data10_;
#line 761 "download-button.c"
}


static void
block10_data_unref (void * _userdata_)
{
	Block10Data* _data10_;
	_data10_ = (Block10Data*) _userdata_;
#line 112 "/home/test/core/core/download-button.vala"
	if (g_atomic_int_dec_and_test (&_data10_->_ref_count_)) {
#line 772 "download-button.c"
		MidoriDownloadItem* self;
#line 112 "/home/test/core/core/download-button.vala"
		self = _data10_->self;
#line 112 "/home/test/core/core/download-button.vala"
		_g_object_unref0 (_data10_->download);
#line 112 "/home/test/core/core/download-button.vala"
		_g_object_unref0 (self);
#line 112 "/home/test/core/core/download-button.vala"
		g_slice_free (Block10Data, _data10_);
#line 782 "download-button.c"
	}
}


static void
__lambda51_ (Block10Data* _data10_)
{
	MidoriDownloadItem* self;
	WebKitDownload* _tmp0_;
#line 116 "/home/test/core/core/download-button.vala"
	self = _data10_->self;
#line 117 "/home/test/core/core/download-button.vala"
	_tmp0_ = _g_object_ref0 (NULL);
#line 117 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (_data10_->download);
#line 117 "/home/test/core/core/download-button.vala"
	_data10_->download = _tmp0_;
#line 118 "/home/test/core/core/download-button.vala"
	midori_download_item_set_loading (self, FALSE);
#line 119 "/home/test/core/core/download-button.vala"
	g_signal_emit (self, midori_download_item_signals[MIDORI_DOWNLOAD_ITEM_FINISHED_SIGNAL], 0);
#line 804 "download-button.c"
}


static void
___lambda51__webkit_download_finished (WebKitDownload* _sender,
                                       gpointer self)
{
#line 116 "/home/test/core/core/download-button.vala"
	__lambda51_ (self);
#line 814 "download-button.c"
}


static void
__lambda52_ (MidoriDownloadItem* self,
             GError* _error_)
{
	const gchar* _tmp0_;
#line 122 "/home/test/core/core/download-button.vala"
	midori_download_item_set_loading (self, FALSE);
#line 123 "/home/test/core/core/download-button.vala"
	_tmp0_ = _error_->message;
#line 123 "/home/test/core/core/download-button.vala"
	midori_download_item_set_error (self, _tmp0_);
#line 829 "download-button.c"
}


static void
___lambda52__webkit_download_failed (WebKitDownload* _sender,
                                     GError* _error_,
                                     gpointer self)
{
#line 121 "/home/test/core/core/download-button.vala"
	__lambda52_ ((MidoriDownloadItem*) self, _error_);
#line 840 "download-button.c"
}


MidoriDownloadItem*
midori_download_item_construct_with_download (GType object_type,
                                              WebKitDownload* download)
{
	MidoriDownloadItem * self = NULL;
	Block10Data* _data10_;
	WebKitDownload* _tmp0_;
#line 112 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (download != NULL, NULL);
#line 112 "/home/test/core/core/download-button.vala"
	_data10_ = g_slice_new0 (Block10Data);
#line 112 "/home/test/core/core/download-button.vala"
	_data10_->_ref_count_ = 1;
#line 112 "/home/test/core/core/download-button.vala"
	_tmp0_ = _g_object_ref0 (download);
#line 112 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (_data10_->download);
#line 112 "/home/test/core/core/download-button.vala"
	_data10_->download = _tmp0_;
#line 113 "/home/test/core/core/download-button.vala"
	self = (MidoriDownloadItem*) g_object_new (object_type, "download", _data10_->download, "loading", TRUE, NULL);
#line 113 "/home/test/core/core/download-button.vala"
	_data10_->self = g_object_ref (self);
#line 114 "/home/test/core/core/download-button.vala"
	g_object_bind_property_with_closures ((GObject*) _data10_->download, "destination", (GObject*) self, "filename", G_BINDING_SYNC_CREATE, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 115 "/home/test/core/core/download-button.vala"
	g_object_bind_property_with_closures ((GObject*) _data10_->download, "estimated-progress", (GObject*) self, "progress", G_BINDING_SYNC_CREATE, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 116 "/home/test/core/core/download-button.vala"
	g_signal_connect_data (_data10_->download, "finished", (GCallback) ___lambda51__webkit_download_finished, block10_data_ref (_data10_), (GClosureNotify) block10_data_unref, 0);
#line 121 "/home/test/core/core/download-button.vala"
	g_signal_connect_object (_data10_->download, "failed", (GCallback) ___lambda52__webkit_download_failed, self, 0);
#line 112 "/home/test/core/core/download-button.vala"
	block10_data_unref (_data10_);
#line 112 "/home/test/core/core/download-button.vala"
	_data10_ = NULL;
#line 112 "/home/test/core/core/download-button.vala"
	return self;
#line 881 "download-button.c"
}


MidoriDownloadItem*
midori_download_item_new_with_download (WebKitDownload* download)
{
#line 112 "/home/test/core/core/download-button.vala"
	return midori_download_item_construct_with_download (MIDORI_TYPE_DOWNLOAD_ITEM, download);
#line 890 "download-button.c"
}


gchar*
midori_download_item_get_content_type (MidoriDownloadItem* self)
{
	gchar* result;
	gchar* content_type = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp2_;
#line 65 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 66 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->_filename;
#line 66 "/home/test/core/core/download-button.vala"
	_tmp1_ = g_content_type_guess (_tmp0_, NULL, (gsize) 0, NULL);
#line 66 "/home/test/core/core/download-button.vala"
	content_type = _tmp1_;
#line 67 "/home/test/core/core/download-button.vala"
	_tmp2_ = content_type;
#line 67 "/home/test/core/core/download-button.vala"
	if (_tmp2_ == NULL) {
#line 914 "download-button.c"
		const gchar* _tmp3_;
		gchar* _tmp4_;
		const gchar* _tmp5_;
#line 68 "/home/test/core/core/download-button.vala"
		_tmp3_ = self->mime_type;
#line 68 "/home/test/core/core/download-button.vala"
		_tmp4_ = g_content_type_from_mime_type (_tmp3_);
#line 68 "/home/test/core/core/download-button.vala"
		_g_free0 (content_type);
#line 68 "/home/test/core/core/download-button.vala"
		content_type = _tmp4_;
#line 69 "/home/test/core/core/download-button.vala"
		_tmp5_ = content_type;
#line 69 "/home/test/core/core/download-button.vala"
		if (_tmp5_ == NULL) {
#line 930 "download-button.c"
			gchar* _tmp6_;
#line 70 "/home/test/core/core/download-button.vala"
			_tmp6_ = g_content_type_from_mime_type ("application/octet-stream");
#line 70 "/home/test/core/core/download-button.vala"
			_g_free0 (content_type);
#line 70 "/home/test/core/core/download-button.vala"
			content_type = _tmp6_;
#line 938 "download-button.c"
		}
	}
#line 72 "/home/test/core/core/download-button.vala"
	result = content_type;
#line 72 "/home/test/core/core/download-button.vala"
	return result;
#line 945 "download-button.c"
}


GIcon*
midori_download_item_get_icon (MidoriDownloadItem* self)
{
	GIcon* result;
	GThemedIcon* icon = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	GIcon* _tmp3_;
	GThemedIcon* _tmp4_;
	GThemedIcon* _tmp5_;
#line 74 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 75 "/home/test/core/core/download-button.vala"
	_tmp0_ = midori_download_item_get_content_type (self);
#line 75 "/home/test/core/core/download-button.vala"
	_tmp1_ = _tmp0_;
#line 75 "/home/test/core/core/download-button.vala"
	_tmp2_ = _tmp1_;
#line 75 "/home/test/core/core/download-button.vala"
	_tmp3_ = g_content_type_get_icon (_tmp2_);
#line 75 "/home/test/core/core/download-button.vala"
	_tmp4_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, g_themed_icon_get_type ()) ? ((GThemedIcon*) _tmp3_) : NULL;
#line 75 "/home/test/core/core/download-button.vala"
	if (_tmp4_ == NULL) {
#line 75 "/home/test/core/core/download-button.vala"
		_g_object_unref0 (_tmp3_);
#line 976 "download-button.c"
	}
#line 75 "/home/test/core/core/download-button.vala"
	_tmp5_ = _tmp4_;
#line 75 "/home/test/core/core/download-button.vala"
	_g_free0 (_tmp2_);
#line 75 "/home/test/core/core/download-button.vala"
	icon = _tmp5_;
#line 76 "/home/test/core/core/download-button.vala"
	g_themed_icon_append_name (icon, "text-html-symbolic");
#line 77 "/home/test/core/core/download-button.vala"
	result = (GIcon*) icon;
#line 77 "/home/test/core/core/download-button.vala"
	return result;
#line 990 "download-button.c"
}


const gchar*
midori_download_item_get_filename (MidoriDownloadItem* self)
{
	const gchar* result;
	const gchar* _tmp0_;
#line 80 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 80 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->_filename;
#line 80 "/home/test/core/core/download-button.vala"
	result = _tmp0_;
#line 80 "/home/test/core/core/download-button.vala"
	return result;
#line 1007 "download-button.c"
}


void
midori_download_item_set_filename (MidoriDownloadItem* self,
                                   const gchar* value)
{
#line 80 "/home/test/core/core/download-button.vala"
	g_return_if_fail (self != NULL);
#line 80 "/home/test/core/core/download-button.vala"
	if (g_strcmp0 (value, midori_download_item_get_filename (self)) != 0) {
#line 1019 "download-button.c"
		gchar* _tmp0_;
#line 80 "/home/test/core/core/download-button.vala"
		_tmp0_ = g_strdup (value);
#line 80 "/home/test/core/core/download-button.vala"
		_g_free0 (self->priv->_filename);
#line 80 "/home/test/core/core/download-button.vala"
		self->priv->_filename = _tmp0_;
#line 80 "/home/test/core/core/download-button.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_FILENAME_PROPERTY]);
#line 1029 "download-button.c"
	}
}


const gchar*
midori_download_item_get_basename (MidoriDownloadItem* self)
{
	const gchar* result;
	const gchar* _tmp0_;
#line 81 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 81 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->_basename;
#line 81 "/home/test/core/core/download-button.vala"
	result = _tmp0_;
#line 81 "/home/test/core/core/download-button.vala"
	return result;
#line 1047 "download-button.c"
}


void
midori_download_item_set_basename (MidoriDownloadItem* self,
                                   const gchar* value)
{
#line 81 "/home/test/core/core/download-button.vala"
	g_return_if_fail (self != NULL);
#line 81 "/home/test/core/core/download-button.vala"
	if (g_strcmp0 (value, midori_download_item_get_basename (self)) != 0) {
#line 1059 "download-button.c"
		gchar* _tmp0_;
#line 81 "/home/test/core/core/download-button.vala"
		_tmp0_ = g_strdup (value);
#line 81 "/home/test/core/core/download-button.vala"
		_g_free0 (self->priv->_basename);
#line 81 "/home/test/core/core/download-button.vala"
		self->priv->_basename = _tmp0_;
#line 81 "/home/test/core/core/download-button.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_BASENAME_PROPERTY]);
#line 1069 "download-button.c"
	}
}


gdouble
midori_download_item_get_progress (MidoriDownloadItem* self)
{
	gdouble result;
	gdouble _tmp0_;
#line 82 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (self != NULL, 0.0);
#line 82 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->_progress;
#line 82 "/home/test/core/core/download-button.vala"
	result = _tmp0_;
#line 82 "/home/test/core/core/download-button.vala"
	return result;
#line 1087 "download-button.c"
}


void
midori_download_item_set_progress (MidoriDownloadItem* self,
                                   gdouble value)
{
#line 82 "/home/test/core/core/download-button.vala"
	g_return_if_fail (self != NULL);
#line 82 "/home/test/core/core/download-button.vala"
	if (midori_download_item_get_progress (self) != value) {
#line 82 "/home/test/core/core/download-button.vala"
		self->priv->_progress = value;
#line 82 "/home/test/core/core/download-button.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_PROGRESS_PROPERTY]);
#line 1103 "download-button.c"
	}
}


WebKitDownload*
midori_download_item_get_download (MidoriDownloadItem* self)
{
	WebKitDownload* result;
	WebKitDownload* _tmp0_;
#line 83 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 83 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->_download;
#line 83 "/home/test/core/core/download-button.vala"
	result = _tmp0_;
#line 83 "/home/test/core/core/download-button.vala"
	return result;
#line 1121 "download-button.c"
}


void
midori_download_item_set_download (MidoriDownloadItem* self,
                                   WebKitDownload* value)
{
#line 83 "/home/test/core/core/download-button.vala"
	g_return_if_fail (self != NULL);
#line 83 "/home/test/core/core/download-button.vala"
	if (midori_download_item_get_download (self) != value) {
#line 1133 "download-button.c"
		WebKitDownload* _tmp0_;
#line 83 "/home/test/core/core/download-button.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 83 "/home/test/core/core/download-button.vala"
		_g_object_unref0 (self->priv->_download);
#line 83 "/home/test/core/core/download-button.vala"
		self->priv->_download = _tmp0_;
#line 83 "/home/test/core/core/download-button.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_DOWNLOAD_PROPERTY]);
#line 1143 "download-button.c"
	}
}


gboolean
midori_download_item_get_loading (MidoriDownloadItem* self)
{
	gboolean result;
	gboolean _tmp0_;
#line 84 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 84 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->_loading;
#line 84 "/home/test/core/core/download-button.vala"
	result = _tmp0_;
#line 84 "/home/test/core/core/download-button.vala"
	return result;
#line 1161 "download-button.c"
}


void
midori_download_item_set_loading (MidoriDownloadItem* self,
                                  gboolean value)
{
#line 84 "/home/test/core/core/download-button.vala"
	g_return_if_fail (self != NULL);
#line 84 "/home/test/core/core/download-button.vala"
	if (midori_download_item_get_loading (self) != value) {
#line 84 "/home/test/core/core/download-button.vala"
		self->priv->_loading = value;
#line 84 "/home/test/core/core/download-button.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_LOADING_PROPERTY]);
#line 1177 "download-button.c"
	}
}


const gchar*
midori_download_item_get_error (MidoriDownloadItem* self)
{
	const gchar* result;
	const gchar* _tmp0_;
#line 85 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 85 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->_error;
#line 85 "/home/test/core/core/download-button.vala"
	result = _tmp0_;
#line 85 "/home/test/core/core/download-button.vala"
	return result;
#line 1195 "download-button.c"
}


void
midori_download_item_set_error (MidoriDownloadItem* self,
                                const gchar* value)
{
#line 85 "/home/test/core/core/download-button.vala"
	g_return_if_fail (self != NULL);
#line 85 "/home/test/core/core/download-button.vala"
	if (g_strcmp0 (value, midori_download_item_get_error (self)) != 0) {
#line 1207 "download-button.c"
		gchar* _tmp0_;
#line 85 "/home/test/core/core/download-button.vala"
		_tmp0_ = g_strdup (value);
#line 85 "/home/test/core/core/download-button.vala"
		_g_free0 (self->priv->_error);
#line 85 "/home/test/core/core/download-button.vala"
		self->priv->_error = _tmp0_;
#line 85 "/home/test/core/core/download-button.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_ERROR_PROPERTY]);
#line 1217 "download-button.c"
	}
}


static void
_midori_download_item___lambda53_ (MidoriDownloadItem* self,
                                   GParamSpec* pspec)
{
	const gchar* _tmp0_;
	GError* _inner_error0_ = NULL;
#line 96 "/home/test/core/core/download-button.vala"
	g_return_if_fail (pspec != NULL);
#line 97 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->_filename;
#line 97 "/home/test/core/core/download-button.vala"
	if (_tmp0_ != NULL) {
#line 1234 "download-button.c"
		{
			gchar* _tmp1_ = NULL;
			const gchar* _tmp2_;
			gchar* _tmp3_;
			gchar* _tmp4_;
			gchar* _tmp5_;
#line 99 "/home/test/core/core/download-button.vala"
			_tmp2_ = self->priv->_filename;
#line 99 "/home/test/core/core/download-button.vala"
			_tmp3_ = g_filename_from_uri (_tmp2_, NULL, &_inner_error0_);
#line 99 "/home/test/core/core/download-button.vala"
			_tmp1_ = _tmp3_;
#line 99 "/home/test/core/core/download-button.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 99 "/home/test/core/core/download-button.vala"
				if (_inner_error0_->domain == G_CONVERT_ERROR) {
#line 1251 "download-button.c"
					goto __catch24_g_convert_error;
				}
#line 99 "/home/test/core/core/download-button.vala"
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 99 "/home/test/core/core/download-button.vala"
				g_clear_error (&_inner_error0_);
#line 99 "/home/test/core/core/download-button.vala"
				return;
#line 1260 "download-button.c"
			}
#line 99 "/home/test/core/core/download-button.vala"
			_tmp4_ = g_filename_display_basename (_tmp1_);
#line 99 "/home/test/core/core/download-button.vala"
			_tmp5_ = _tmp4_;
#line 99 "/home/test/core/core/download-button.vala"
			midori_download_item_set_basename (self, _tmp5_);
#line 99 "/home/test/core/core/download-button.vala"
			_g_free0 (_tmp5_);
#line 98 "/home/test/core/core/download-button.vala"
			_g_free0 (_tmp1_);
#line 1272 "download-button.c"
		}
		goto __finally24;
		__catch24_g_convert_error:
		{
			GError* _error_ = NULL;
			const gchar* _tmp6_;
			GError* _tmp7_;
			const gchar* _tmp8_;
#line 98 "/home/test/core/core/download-button.vala"
			_error_ = _inner_error0_;
#line 98 "/home/test/core/core/download-button.vala"
			_inner_error0_ = NULL;
#line 101 "/home/test/core/core/download-button.vala"
			_tmp6_ = self->priv->_filename;
#line 101 "/home/test/core/core/download-button.vala"
			midori_download_item_set_basename (self, _tmp6_);
#line 102 "/home/test/core/core/download-button.vala"
			_tmp7_ = _error_;
#line 102 "/home/test/core/core/download-button.vala"
			_tmp8_ = _tmp7_->message;
#line 102 "/home/test/core/core/download-button.vala"
			g_critical ("download-button.vala:102: Failed to convert: %s", _tmp8_);
#line 98 "/home/test/core/core/download-button.vala"
			_g_error_free0 (_error_);
#line 1297 "download-button.c"
		}
		__finally24:
#line 98 "/home/test/core/core/download-button.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 98 "/home/test/core/core/download-button.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 98 "/home/test/core/core/download-button.vala"
			g_clear_error (&_inner_error0_);
#line 98 "/home/test/core/core/download-button.vala"
			return;
#line 1308 "download-button.c"
		}
	}
}


static void
__midori_download_item___lambda53__g_object_notify (GObject* _sender,
                                                    GParamSpec* pspec,
                                                    gpointer self)
{
#line 96 "/home/test/core/core/download-button.vala"
	_midori_download_item___lambda53_ ((MidoriDownloadItem*) self, pspec);
#line 1321 "download-button.c"
}


static GObject *
midori_download_item_constructor (GType type,
                                  guint n_construct_properties,
                                  GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	MidoriDownloadItem * self;
#line 95 "/home/test/core/core/download-button.vala"
	parent_class = G_OBJECT_CLASS (midori_download_item_parent_class);
#line 95 "/home/test/core/core/download-button.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 95 "/home/test/core/core/download-button.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MIDORI_TYPE_DOWNLOAD_ITEM, MidoriDownloadItem);
#line 96 "/home/test/core/core/download-button.vala"
	g_signal_connect_object ((GObject*) self, "notify::filename", (GCallback) __midori_download_item___lambda53__g_object_notify, self, 0);
#line 95 "/home/test/core/core/download-button.vala"
	return obj;
#line 1343 "download-button.c"
}


static void
midori_download_item_class_init (MidoriDownloadItemClass * klass)
{
#line 63 "/home/test/core/core/download-button.vala"
	midori_download_item_parent_class = g_type_class_peek_parent (klass);
#line 63 "/home/test/core/core/download-button.vala"
	g_type_class_add_private (klass, sizeof (MidoriDownloadItemPrivate));
#line 63 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_midori_download_item_get_property;
#line 63 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_midori_download_item_set_property;
#line 63 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (klass)->constructor = midori_download_item_constructor;
#line 63 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (klass)->finalize = midori_download_item_finalize;
#line 63 "/home/test/core/core/download-button.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DOWNLOAD_ITEM_CONTENT_TYPE_PROPERTY, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_CONTENT_TYPE_PROPERTY] = g_param_spec_string ("content-type", "content-type", "content-type", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 63 "/home/test/core/core/download-button.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DOWNLOAD_ITEM_ICON_PROPERTY, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_ICON_PROPERTY] = g_param_spec_object ("icon", "icon", "icon", g_icon_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 63 "/home/test/core/core/download-button.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DOWNLOAD_ITEM_FILENAME_PROPERTY, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_FILENAME_PROPERTY] = g_param_spec_string ("filename", "filename", "filename", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 63 "/home/test/core/core/download-button.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DOWNLOAD_ITEM_BASENAME_PROPERTY, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_BASENAME_PROPERTY] = g_param_spec_string ("basename", "basename", "basename", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 63 "/home/test/core/core/download-button.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DOWNLOAD_ITEM_PROGRESS_PROPERTY, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_PROGRESS_PROPERTY] = g_param_spec_double ("progress", "progress", "progress", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 63 "/home/test/core/core/download-button.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DOWNLOAD_ITEM_DOWNLOAD_PROPERTY, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_DOWNLOAD_PROPERTY] = g_param_spec_object ("download", "download", "download", webkit_download_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 63 "/home/test/core/core/download-button.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DOWNLOAD_ITEM_LOADING_PROPERTY, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_LOADING_PROPERTY] = g_param_spec_boolean ("loading", "loading", "loading", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 63 "/home/test/core/core/download-button.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DOWNLOAD_ITEM_ERROR_PROPERTY, midori_download_item_properties[MIDORI_DOWNLOAD_ITEM_ERROR_PROPERTY] = g_param_spec_string ("error", "error", "error", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 63 "/home/test/core/core/download-button.vala"
	midori_download_item_signals[MIDORI_DOWNLOAD_ITEM_FINISHED_SIGNAL] = g_signal_new ("finished", MIDORI_TYPE_DOWNLOAD_ITEM, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 1380 "download-button.c"
}


static void
midori_download_item_instance_init (MidoriDownloadItem * self)
{
#line 63 "/home/test/core/core/download-button.vala"
	self->priv = MIDORI_DOWNLOAD_ITEM_GET_PRIVATE (self);
#line 64 "/home/test/core/core/download-button.vala"
	self->mime_type = NULL;
#line 80 "/home/test/core/core/download-button.vala"
	self->priv->_filename = NULL;
#line 81 "/home/test/core/core/download-button.vala"
	self->priv->_basename = NULL;
#line 82 "/home/test/core/core/download-button.vala"
	self->priv->_progress = 0.0;
#line 83 "/home/test/core/core/download-button.vala"
	self->priv->_download = NULL;
#line 84 "/home/test/core/core/download-button.vala"
	self->priv->_loading = FALSE;
#line 85 "/home/test/core/core/download-button.vala"
	self->priv->_error = NULL;
#line 1403 "download-button.c"
}


static void
midori_download_item_finalize (GObject * obj)
{
	MidoriDownloadItem * self;
#line 63 "/home/test/core/core/download-button.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MIDORI_TYPE_DOWNLOAD_ITEM, MidoriDownloadItem);
#line 64 "/home/test/core/core/download-button.vala"
	_g_free0 (self->mime_type);
#line 80 "/home/test/core/core/download-button.vala"
	_g_free0 (self->priv->_filename);
#line 81 "/home/test/core/core/download-button.vala"
	_g_free0 (self->priv->_basename);
#line 83 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->priv->_download);
#line 85 "/home/test/core/core/download-button.vala"
	_g_free0 (self->priv->_error);
#line 63 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (midori_download_item_parent_class)->finalize (obj);
#line 1425 "download-button.c"
}


GType
midori_download_item_get_type (void)
{
	static volatile gsize midori_download_item_type_id__volatile = 0;
	if (g_once_init_enter (&midori_download_item_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MidoriDownloadItemClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) midori_download_item_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MidoriDownloadItem), 0, (GInstanceInitFunc) midori_download_item_instance_init, NULL };
		GType midori_download_item_type_id;
		midori_download_item_type_id = g_type_register_static (G_TYPE_OBJECT, "MidoriDownloadItem", &g_define_type_info, 0);
		g_once_init_leave (&midori_download_item_type_id__volatile, midori_download_item_type_id);
	}
	return midori_download_item_type_id__volatile;
}


static void
_vala_midori_download_item_get_property (GObject * object,
                                         guint property_id,
                                         GValue * value,
                                         GParamSpec * pspec)
{
	MidoriDownloadItem * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MIDORI_TYPE_DOWNLOAD_ITEM, MidoriDownloadItem);
#line 63 "/home/test/core/core/download-button.vala"
	switch (property_id) {
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_CONTENT_TYPE_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		g_value_take_string (value, midori_download_item_get_content_type (self));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_ICON_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		g_value_take_object (value, midori_download_item_get_icon (self));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_FILENAME_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		g_value_set_string (value, midori_download_item_get_filename (self));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_BASENAME_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		g_value_set_string (value, midori_download_item_get_basename (self));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_PROGRESS_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		g_value_set_double (value, midori_download_item_get_progress (self));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_DOWNLOAD_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		g_value_set_object (value, midori_download_item_get_download (self));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_LOADING_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		g_value_set_boolean (value, midori_download_item_get_loading (self));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_ERROR_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		g_value_set_string (value, midori_download_item_get_error (self));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 1501 "download-button.c"
		default:
#line 63 "/home/test/core/core/download-button.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 1507 "download-button.c"
	}
}


static void
_vala_midori_download_item_set_property (GObject * object,
                                         guint property_id,
                                         const GValue * value,
                                         GParamSpec * pspec)
{
	MidoriDownloadItem * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MIDORI_TYPE_DOWNLOAD_ITEM, MidoriDownloadItem);
#line 63 "/home/test/core/core/download-button.vala"
	switch (property_id) {
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_FILENAME_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		midori_download_item_set_filename (self, g_value_get_string (value));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_BASENAME_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		midori_download_item_set_basename (self, g_value_get_string (value));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_PROGRESS_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		midori_download_item_set_progress (self, g_value_get_double (value));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_DOWNLOAD_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		midori_download_item_set_download (self, g_value_get_object (value));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_LOADING_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		midori_download_item_set_loading (self, g_value_get_boolean (value));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 63 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ITEM_ERROR_PROPERTY:
#line 63 "/home/test/core/core/download-button.vala"
		midori_download_item_set_error (self, g_value_get_string (value));
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 1558 "download-button.c"
		default:
#line 63 "/home/test/core/core/download-button.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 63 "/home/test/core/core/download-button.vala"
		break;
#line 1564 "download-button.c"
	}
}


static Block11Data*
block11_data_ref (Block11Data* _data11_)
{
#line 161 "/home/test/core/core/download-button.vala"
	g_atomic_int_inc (&_data11_->_ref_count_);
#line 161 "/home/test/core/core/download-button.vala"
	return _data11_;
#line 1576 "download-button.c"
}


static void
block11_data_unref (void * _userdata_)
{
	Block11Data* _data11_;
	_data11_ = (Block11Data*) _userdata_;
#line 161 "/home/test/core/core/download-button.vala"
	if (g_atomic_int_dec_and_test (&_data11_->_ref_count_)) {
#line 1587 "download-button.c"
		MidoriDownloadRow* self;
#line 161 "/home/test/core/core/download-button.vala"
		self = _data11_->self;
#line 161 "/home/test/core/core/download-button.vala"
		_g_object_unref0 (_data11_->item);
#line 161 "/home/test/core/core/download-button.vala"
		_g_object_unref0 (self);
#line 161 "/home/test/core/core/download-button.vala"
		g_slice_free (Block11Data, _data11_);
#line 1597 "download-button.c"
	}
}


static void
_midori_download_row_update_buttons_g_object_notify (GObject* _sender,
                                                     GParamSpec* pspec,
                                                     gpointer self)
{
#line 168 "/home/test/core/core/download-button.vala"
	midori_download_row_update_buttons ((MidoriDownloadRow*) self);
#line 1609 "download-button.c"
}


static void
__lambda55_ (Block11Data* _data11_)
{
	MidoriDownloadRow* self;
	MidoriApp* app = NULL;
	GApplication* _tmp0_;
	MidoriApp* _tmp1_;
	gboolean _tmp2_ = FALSE;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
#line 172 "/home/test/core/core/download-button.vala"
	self = _data11_->self;
#line 173 "/home/test/core/core/download-button.vala"
	_tmp0_ = g_application_get_default ();
#line 173 "/home/test/core/core/download-button.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, MIDORI_TYPE_APP, MidoriApp));
#line 173 "/home/test/core/core/download-button.vala"
	app = _tmp1_;
#line 174 "/home/test/core/core/download-button.vala"
	_tmp3_ = midori_download_item_get_error (_data11_->item);
#line 174 "/home/test/core/core/download-button.vala"
	_tmp4_ = _tmp3_;
#line 174 "/home/test/core/core/download-button.vala"
	if (_tmp4_ == NULL) {
#line 1637 "download-button.c"
		MidoriApp* _tmp5_;
		GtkWindow* _tmp6_;
		GtkWindow* _tmp7_;
#line 174 "/home/test/core/core/download-button.vala"
		_tmp5_ = app;
#line 174 "/home/test/core/core/download-button.vala"
		_tmp6_ = gtk_application_get_active_window ((GtkApplication*) _tmp5_);
#line 174 "/home/test/core/core/download-button.vala"
		_tmp7_ = _tmp6_;
#line 174 "/home/test/core/core/download-button.vala"
		_tmp2_ = _tmp7_ != NULL;
#line 1649 "download-button.c"
	} else {
#line 174 "/home/test/core/core/download-button.vala"
		_tmp2_ = FALSE;
#line 1653 "download-button.c"
	}
#line 174 "/home/test/core/core/download-button.vala"
	if (_tmp2_) {
#line 1657 "download-button.c"
		GNotification* notification = NULL;
		GNotification* _tmp8_;
		GNotification* _tmp9_;
		GIcon* _tmp10_;
		GIcon* _tmp11_;
		GIcon* _tmp12_;
		GNotification* _tmp13_;
		const gchar* _tmp14_;
		const gchar* _tmp15_;
		MidoriApp* _tmp16_;
		GNotification* _tmp17_;
#line 175 "/home/test/core/core/download-button.vala"
		_tmp8_ = g_notification_new (_ ("Transfer completed"));
#line 175 "/home/test/core/core/download-button.vala"
		notification = _tmp8_;
#line 176 "/home/test/core/core/download-button.vala"
		_tmp9_ = notification;
#line 176 "/home/test/core/core/download-button.vala"
		_tmp10_ = midori_download_item_get_icon (_data11_->item);
#line 176 "/home/test/core/core/download-button.vala"
		_tmp11_ = _tmp10_;
#line 176 "/home/test/core/core/download-button.vala"
		_tmp12_ = _tmp11_;
#line 176 "/home/test/core/core/download-button.vala"
		g_notification_set_icon (_tmp9_, _tmp12_);
#line 176 "/home/test/core/core/download-button.vala"
		_g_object_unref0 (_tmp12_);
#line 177 "/home/test/core/core/download-button.vala"
		_tmp13_ = notification;
#line 177 "/home/test/core/core/download-button.vala"
		_tmp14_ = midori_download_item_get_filename (_data11_->item);
#line 177 "/home/test/core/core/download-button.vala"
		_tmp15_ = _tmp14_;
#line 177 "/home/test/core/core/download-button.vala"
		g_notification_set_body (_tmp13_, _tmp15_);
#line 178 "/home/test/core/core/download-button.vala"
		_tmp16_ = app;
#line 178 "/home/test/core/core/download-button.vala"
		_tmp17_ = notification;
#line 178 "/home/test/core/core/download-button.vala"
		g_application_send_notification ((GApplication*) _tmp16_, "download-finished", _tmp17_);
#line 174 "/home/test/core/core/download-button.vala"
		_g_object_unref0 (notification);
#line 1701 "download-button.c"
	}
#line 172 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (app);
#line 1705 "download-button.c"
}


static void
___lambda55__midori_download_item_finished (MidoriDownloadItem* _sender,
                                            gpointer self)
{
#line 172 "/home/test/core/core/download-button.vala"
	__lambda55_ (self);
#line 1715 "download-button.c"
}


MidoriDownloadRow*
midori_download_row_construct (GType object_type,
                               MidoriDownloadItem* item)
{
	MidoriDownloadRow * self = NULL;
	Block11Data* _data11_;
	MidoriDownloadItem* _tmp0_;
	GtkImage* _tmp1_;
	GtkLabel* _tmp2_;
	GtkLabel* _tmp3_;
	GtkProgressBar* _tmp4_;
	GtkLabel* _tmp5_;
	GtkLabel* _tmp6_;
#line 161 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (item != NULL, NULL);
#line 161 "/home/test/core/core/download-button.vala"
	_data11_ = g_slice_new0 (Block11Data);
#line 161 "/home/test/core/core/download-button.vala"
	_data11_->_ref_count_ = 1;
#line 161 "/home/test/core/core/download-button.vala"
	_tmp0_ = _g_object_ref0 (item);
#line 161 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (_data11_->item);
#line 161 "/home/test/core/core/download-button.vala"
	_data11_->item = _tmp0_;
#line 162 "/home/test/core/core/download-button.vala"
	self = (MidoriDownloadRow*) g_object_new (object_type, "item", _data11_->item, NULL);
#line 162 "/home/test/core/core/download-button.vala"
	_data11_->self = g_object_ref (self);
#line 163 "/home/test/core/core/download-button.vala"
	_tmp1_ = self->icon;
#line 163 "/home/test/core/core/download-button.vala"
	g_object_bind_property_with_closures ((GObject*) _data11_->item, "icon", (GObject*) _tmp1_, "gicon", G_BINDING_SYNC_CREATE, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 164 "/home/test/core/core/download-button.vala"
	_tmp2_ = self->filename;
#line 164 "/home/test/core/core/download-button.vala"
	g_object_bind_property_with_closures ((GObject*) _data11_->item, "basename", (GObject*) _tmp2_, "label", G_BINDING_SYNC_CREATE, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 165 "/home/test/core/core/download-button.vala"
	_tmp3_ = self->filename;
#line 165 "/home/test/core/core/download-button.vala"
	g_object_bind_property_with_closures ((GObject*) _data11_->item, "basename", (GObject*) _tmp3_, "tooltip-text", G_BINDING_SYNC_CREATE, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 166 "/home/test/core/core/download-button.vala"
	_tmp4_ = self->progress;
#line 166 "/home/test/core/core/download-button.vala"
	g_object_bind_property_with_closures ((GObject*) _data11_->item, "progress", (GObject*) _tmp4_, "fraction", G_BINDING_SYNC_CREATE, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 167 "/home/test/core/core/download-button.vala"
	_tmp5_ = self->status;
#line 167 "/home/test/core/core/download-button.vala"
	_tmp6_ = self->status;
#line 167 "/home/test/core/core/download-button.vala"
	g_object_bind_property_with_closures ((GObject*) _tmp5_, "label", (GObject*) _tmp6_, "tooltip-text", G_BINDING_SYNC_CREATE, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 168 "/home/test/core/core/download-button.vala"
	g_signal_connect_object ((GObject*) _data11_->item, "notify::loading", (GCallback) _midori_download_row_update_buttons_g_object_notify, self, 0);
#line 169 "/home/test/core/core/download-button.vala"
	g_signal_connect_object ((GObject*) _data11_->item, "notify::error", (GCallback) _midori_download_row_update_buttons_g_object_notify, self, 0);
#line 170 "/home/test/core/core/download-button.vala"
	midori_download_row_update_buttons (self);
#line 172 "/home/test/core/core/download-button.vala"
	g_signal_connect_data (_data11_->item, "finished", (GCallback) ___lambda55__midori_download_item_finished, block11_data_ref (_data11_), (GClosureNotify) block11_data_unref, 0);
#line 161 "/home/test/core/core/download-button.vala"
	block11_data_unref (_data11_);
#line 161 "/home/test/core/core/download-button.vala"
	_data11_ = NULL;
#line 161 "/home/test/core/core/download-button.vala"
	return self;
#line 1784 "download-button.c"
}


MidoriDownloadRow*
midori_download_row_new (MidoriDownloadItem* item)
{
#line 161 "/home/test/core/core/download-button.vala"
	return midori_download_row_construct (MIDORI_TYPE_DOWNLOAD_ROW, item);
#line 1793 "download-button.c"
}


static void
midori_download_row_update_buttons (MidoriDownloadRow* self)
{
	GtkProgressBar* _tmp0_;
	MidoriDownloadItem* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	GtkButton* _tmp4_;
	MidoriDownloadItem* _tmp5_;
	gboolean _tmp6_;
	gboolean _tmp7_;
	gboolean _tmp8_ = FALSE;
	MidoriDownloadItem* _tmp9_;
	gboolean _tmp10_;
	gboolean _tmp11_;
	GtkButton* _tmp15_;
	GtkImage* _tmp16_;
	MidoriDownloadItem* _tmp17_;
	const gchar* _tmp18_;
	const gchar* _tmp19_;
	const gchar* _tmp20_ = NULL;
	MidoriDownloadItem* _tmp21_;
	const gchar* _tmp22_;
	const gchar* _tmp23_;
	GtkLabel* _tmp24_;
	GtkLabel* _tmp25_;
	MidoriDownloadItem* _tmp26_;
	const gchar* _tmp27_;
	const gchar* _tmp28_;
#line 183 "/home/test/core/core/download-button.vala"
	g_return_if_fail (self != NULL);
#line 184 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->progress;
#line 184 "/home/test/core/core/download-button.vala"
	_tmp1_ = self->priv->_item;
#line 184 "/home/test/core/core/download-button.vala"
	_tmp2_ = midori_download_item_get_loading (_tmp1_);
#line 184 "/home/test/core/core/download-button.vala"
	_tmp3_ = _tmp2_;
#line 184 "/home/test/core/core/download-button.vala"
	gtk_widget_set_visible ((GtkWidget*) _tmp0_, _tmp3_);
#line 185 "/home/test/core/core/download-button.vala"
	_tmp4_ = self->cancel;
#line 185 "/home/test/core/core/download-button.vala"
	_tmp5_ = self->priv->_item;
#line 185 "/home/test/core/core/download-button.vala"
	_tmp6_ = midori_download_item_get_loading (_tmp5_);
#line 185 "/home/test/core/core/download-button.vala"
	_tmp7_ = _tmp6_;
#line 185 "/home/test/core/core/download-button.vala"
	gtk_widget_set_visible ((GtkWidget*) _tmp4_, _tmp7_);
#line 186 "/home/test/core/core/download-button.vala"
	_tmp9_ = self->priv->_item;
#line 186 "/home/test/core/core/download-button.vala"
	_tmp10_ = midori_download_item_get_loading (_tmp9_);
#line 186 "/home/test/core/core/download-button.vala"
	_tmp11_ = _tmp10_;
#line 186 "/home/test/core/core/download-button.vala"
	if (!_tmp11_) {
#line 1856 "download-button.c"
		MidoriDownloadItem* _tmp12_;
		const gchar* _tmp13_;
		const gchar* _tmp14_;
#line 186 "/home/test/core/core/download-button.vala"
		_tmp12_ = self->priv->_item;
#line 186 "/home/test/core/core/download-button.vala"
		_tmp13_ = midori_download_item_get_error (_tmp12_);
#line 186 "/home/test/core/core/download-button.vala"
		_tmp14_ = _tmp13_;
#line 186 "/home/test/core/core/download-button.vala"
		_tmp8_ = _tmp14_ == NULL;
#line 1868 "download-button.c"
	} else {
#line 186 "/home/test/core/core/download-button.vala"
		_tmp8_ = FALSE;
#line 1872 "download-button.c"
	}
#line 186 "/home/test/core/core/download-button.vala"
	_tmp15_ = self->open;
#line 186 "/home/test/core/core/download-button.vala"
	gtk_widget_set_visible ((GtkWidget*) _tmp15_, _tmp8_);
#line 187 "/home/test/core/core/download-button.vala"
	_tmp16_ = self->error;
#line 187 "/home/test/core/core/download-button.vala"
	_tmp17_ = self->priv->_item;
#line 187 "/home/test/core/core/download-button.vala"
	_tmp18_ = midori_download_item_get_error (_tmp17_);
#line 187 "/home/test/core/core/download-button.vala"
	_tmp19_ = _tmp18_;
#line 187 "/home/test/core/core/download-button.vala"
	gtk_widget_set_visible ((GtkWidget*) _tmp16_, _tmp19_ != NULL);
#line 188 "/home/test/core/core/download-button.vala"
	_tmp21_ = self->priv->_item;
#line 188 "/home/test/core/core/download-button.vala"
	_tmp22_ = midori_download_item_get_error (_tmp21_);
#line 188 "/home/test/core/core/download-button.vala"
	_tmp23_ = _tmp22_;
#line 188 "/home/test/core/core/download-button.vala"
	_tmp20_ = _tmp23_;
#line 188 "/home/test/core/core/download-button.vala"
	if (_tmp20_ == NULL) {
#line 188 "/home/test/core/core/download-button.vala"
		_tmp20_ = "";
#line 1900 "download-button.c"
	}
#line 188 "/home/test/core/core/download-button.vala"
	_tmp24_ = self->status;
#line 188 "/home/test/core/core/download-button.vala"
	gtk_label_set_label (_tmp24_, _tmp20_);
#line 189 "/home/test/core/core/download-button.vala"
	_tmp25_ = self->status;
#line 189 "/home/test/core/core/download-button.vala"
	_tmp26_ = self->priv->_item;
#line 189 "/home/test/core/core/download-button.vala"
	_tmp27_ = midori_download_item_get_error (_tmp26_);
#line 189 "/home/test/core/core/download-button.vala"
	_tmp28_ = _tmp27_;
#line 189 "/home/test/core/core/download-button.vala"
	gtk_widget_set_visible ((GtkWidget*) _tmp25_, _tmp28_ != NULL);
#line 1916 "download-button.c"
}


MidoriDownloadItem*
midori_download_row_get_item (MidoriDownloadRow* self)
{
	MidoriDownloadItem* result;
	MidoriDownloadItem* _tmp0_;
#line 130 "/home/test/core/core/download-button.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 130 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->_item;
#line 130 "/home/test/core/core/download-button.vala"
	result = _tmp0_;
#line 130 "/home/test/core/core/download-button.vala"
	return result;
#line 1933 "download-button.c"
}


void
midori_download_row_set_item (MidoriDownloadRow* self,
                              MidoriDownloadItem* value)
{
#line 130 "/home/test/core/core/download-button.vala"
	g_return_if_fail (self != NULL);
#line 130 "/home/test/core/core/download-button.vala"
	if (midori_download_row_get_item (self) != value) {
#line 1945 "download-button.c"
		MidoriDownloadItem* _tmp0_;
#line 130 "/home/test/core/core/download-button.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 130 "/home/test/core/core/download-button.vala"
		_g_object_unref0 (self->priv->_item);
#line 130 "/home/test/core/core/download-button.vala"
		self->priv->_item = _tmp0_;
#line 130 "/home/test/core/core/download-button.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_download_row_properties[MIDORI_DOWNLOAD_ROW_ITEM_PROPERTY]);
#line 1955 "download-button.c"
	}
}


static void
_midori_download_row___lambda56_ (MidoriDownloadRow* self)
{
	MidoriDownloadItem* _tmp0_;
#line 149 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->priv->_item;
#line 149 "/home/test/core/core/download-button.vala"
	midori_download_item_cancel (_tmp0_);
#line 1968 "download-button.c"
}


static void
__midori_download_row___lambda56__gtk_button_clicked (GtkButton* _sender,
                                                      gpointer self)
{
#line 148 "/home/test/core/core/download-button.vala"
	_midori_download_row___lambda56_ ((MidoriDownloadRow*) self);
#line 1978 "download-button.c"
}


static void
_midori_download_row___lambda57_ (MidoriDownloadRow* self)
{
	GError* _inner_error0_ = NULL;
	{
		GdkScreen* _tmp0_;
		MidoriDownloadItem* _tmp1_;
		const gchar* _tmp2_;
		const gchar* _tmp3_;
#line 153 "/home/test/core/core/download-button.vala"
		_tmp0_ = gtk_widget_get_screen ((GtkWidget*) self);
#line 153 "/home/test/core/core/download-button.vala"
		_tmp1_ = self->priv->_item;
#line 153 "/home/test/core/core/download-button.vala"
		_tmp2_ = midori_download_item_get_filename (_tmp1_);
#line 153 "/home/test/core/core/download-button.vala"
		_tmp3_ = _tmp2_;
#line 153 "/home/test/core/core/download-button.vala"
		gtk_show_uri (_tmp0_, _tmp3_, gtk_get_current_event_time (), &_inner_error0_);
#line 153 "/home/test/core/core/download-button.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 2003 "download-button.c"
			goto __catch25_g_error;
		}
	}
	goto __finally25;
	__catch25_g_error:
	{
		GError* _error_ = NULL;
		GtkLabel* _tmp4_;
		GError* _tmp5_;
		const gchar* _tmp6_;
		MidoriDownloadItem* _tmp7_;
		const gchar* _tmp8_;
		const gchar* _tmp9_;
		GError* _tmp10_;
		const gchar* _tmp11_;
#line 152 "/home/test/core/core/download-button.vala"
		_error_ = _inner_error0_;
#line 152 "/home/test/core/core/download-button.vala"
		_inner_error0_ = NULL;
#line 155 "/home/test/core/core/download-button.vala"
		_tmp4_ = self->status;
#line 155 "/home/test/core/core/download-button.vala"
		_tmp5_ = _error_;
#line 155 "/home/test/core/core/download-button.vala"
		_tmp6_ = _tmp5_->message;
#line 155 "/home/test/core/core/download-button.vala"
		gtk_label_set_label (_tmp4_, _tmp6_);
#line 156 "/home/test/core/core/download-button.vala"
		_tmp7_ = self->priv->_item;
#line 156 "/home/test/core/core/download-button.vala"
		_tmp8_ = midori_download_item_get_filename (_tmp7_);
#line 156 "/home/test/core/core/download-button.vala"
		_tmp9_ = _tmp8_;
#line 156 "/home/test/core/core/download-button.vala"
		_tmp10_ = _error_;
#line 156 "/home/test/core/core/download-button.vala"
		_tmp11_ = _tmp10_->message;
#line 156 "/home/test/core/core/download-button.vala"
		g_critical ("download-button.vala:156: Failed to open %s: %s", _tmp9_, _tmp11_);
#line 152 "/home/test/core/core/download-button.vala"
		_g_error_free0 (_error_);
#line 2045 "download-button.c"
	}
	__finally25:
#line 152 "/home/test/core/core/download-button.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 152 "/home/test/core/core/download-button.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 152 "/home/test/core/core/download-button.vala"
		g_clear_error (&_inner_error0_);
#line 152 "/home/test/core/core/download-button.vala"
		return;
#line 2056 "download-button.c"
	}
}


static void
__midori_download_row___lambda57__gtk_button_clicked (GtkButton* _sender,
                                                      gpointer self)
{
#line 151 "/home/test/core/core/download-button.vala"
	_midori_download_row___lambda57_ ((MidoriDownloadRow*) self);
#line 2067 "download-button.c"
}


static GObject *
midori_download_row_constructor (GType type,
                                 guint n_construct_properties,
                                 GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	MidoriDownloadRow * self;
	GtkButton* _tmp0_;
	GtkButton* _tmp1_;
#line 147 "/home/test/core/core/download-button.vala"
	parent_class = G_OBJECT_CLASS (midori_download_row_parent_class);
#line 147 "/home/test/core/core/download-button.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 147 "/home/test/core/core/download-button.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MIDORI_TYPE_DOWNLOAD_ROW, MidoriDownloadRow);
#line 148 "/home/test/core/core/download-button.vala"
	_tmp0_ = self->cancel;
#line 148 "/home/test/core/core/download-button.vala"
	g_signal_connect_object (_tmp0_, "clicked", (GCallback) __midori_download_row___lambda56__gtk_button_clicked, self, 0);
#line 151 "/home/test/core/core/download-button.vala"
	_tmp1_ = self->open;
#line 151 "/home/test/core/core/download-button.vala"
	g_signal_connect_object (_tmp1_, "clicked", (GCallback) __midori_download_row___lambda57__gtk_button_clicked, self, 0);
#line 147 "/home/test/core/core/download-button.vala"
	return obj;
#line 2097 "download-button.c"
}


static void
midori_download_row_class_init (MidoriDownloadRowClass * klass)
{
	gint MidoriDownloadRow_private_offset;
#line 129 "/home/test/core/core/download-button.vala"
	midori_download_row_parent_class = g_type_class_peek_parent (klass);
#line 129 "/home/test/core/core/download-button.vala"
	g_type_class_add_private (klass, sizeof (MidoriDownloadRowPrivate));
#line 129 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_midori_download_row_get_property;
#line 129 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_midori_download_row_set_property;
#line 129 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (klass)->constructor = midori_download_row_constructor;
#line 129 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (klass)->finalize = midori_download_row_finalize;
#line 129 "/home/test/core/core/download-button.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DOWNLOAD_ROW_ITEM_PROPERTY, midori_download_row_properties[MIDORI_DOWNLOAD_ROW_ITEM_PROPERTY] = g_param_spec_object ("item", "item", "item", MIDORI_TYPE_DOWNLOAD_ITEM, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 129 "/home/test/core/core/download-button.vala"
	MidoriDownloadRow_private_offset = g_type_class_get_instance_private_offset (klass);
#line 129 "/home/test/core/core/download-button.vala"
	gtk_widget_class_set_template_from_resource (GTK_WIDGET_CLASS (klass), "/ui/download-row.ui");
#line 129 "/home/test/core/core/download-button.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "icon", FALSE, G_STRUCT_OFFSET (MidoriDownloadRow, icon));
#line 129 "/home/test/core/core/download-button.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "filename", FALSE, G_STRUCT_OFFSET (MidoriDownloadRow, filename));
#line 129 "/home/test/core/core/download-button.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "progress", FALSE, G_STRUCT_OFFSET (MidoriDownloadRow, progress));
#line 129 "/home/test/core/core/download-button.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "cancel", FALSE, G_STRUCT_OFFSET (MidoriDownloadRow, cancel));
#line 129 "/home/test/core/core/download-button.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "open", FALSE, G_STRUCT_OFFSET (MidoriDownloadRow, open));
#line 129 "/home/test/core/core/download-button.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "error", FALSE, G_STRUCT_OFFSET (MidoriDownloadRow, error));
#line 129 "/home/test/core/core/download-button.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "status", FALSE, G_STRUCT_OFFSET (MidoriDownloadRow, status));
#line 2137 "download-button.c"
}


static void
midori_download_row_instance_init (MidoriDownloadRow * self)
{
#line 129 "/home/test/core/core/download-button.vala"
	self->priv = MIDORI_DOWNLOAD_ROW_GET_PRIVATE (self);
#line 129 "/home/test/core/core/download-button.vala"
	gtk_widget_init_template (GTK_WIDGET (self));
#line 2148 "download-button.c"
}


static void
midori_download_row_finalize (GObject * obj)
{
	MidoriDownloadRow * self;
#line 129 "/home/test/core/core/download-button.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MIDORI_TYPE_DOWNLOAD_ROW, MidoriDownloadRow);
#line 130 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->priv->_item);
#line 133 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->icon);
#line 135 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->filename);
#line 137 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->progress);
#line 139 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->cancel);
#line 141 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->open);
#line 143 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->error);
#line 145 "/home/test/core/core/download-button.vala"
	_g_object_unref0 (self->status);
#line 129 "/home/test/core/core/download-button.vala"
	G_OBJECT_CLASS (midori_download_row_parent_class)->finalize (obj);
#line 2176 "download-button.c"
}


GType
midori_download_row_get_type (void)
{
	static volatile gsize midori_download_row_type_id__volatile = 0;
	if (g_once_init_enter (&midori_download_row_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MidoriDownloadRowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) midori_download_row_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MidoriDownloadRow), 0, (GInstanceInitFunc) midori_download_row_instance_init, NULL };
		GType midori_download_row_type_id;
		midori_download_row_type_id = g_type_register_static (gtk_list_box_row_get_type (), "MidoriDownloadRow", &g_define_type_info, 0);
		g_once_init_leave (&midori_download_row_type_id__volatile, midori_download_row_type_id);
	}
	return midori_download_row_type_id__volatile;
}


static void
_vala_midori_download_row_get_property (GObject * object,
                                        guint property_id,
                                        GValue * value,
                                        GParamSpec * pspec)
{
	MidoriDownloadRow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MIDORI_TYPE_DOWNLOAD_ROW, MidoriDownloadRow);
#line 129 "/home/test/core/core/download-button.vala"
	switch (property_id) {
#line 129 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ROW_ITEM_PROPERTY:
#line 129 "/home/test/core/core/download-button.vala"
		g_value_set_object (value, midori_download_row_get_item (self));
#line 129 "/home/test/core/core/download-button.vala"
		break;
#line 2210 "download-button.c"
		default:
#line 129 "/home/test/core/core/download-button.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 129 "/home/test/core/core/download-button.vala"
		break;
#line 2216 "download-button.c"
	}
}


static void
_vala_midori_download_row_set_property (GObject * object,
                                        guint property_id,
                                        const GValue * value,
                                        GParamSpec * pspec)
{
	MidoriDownloadRow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MIDORI_TYPE_DOWNLOAD_ROW, MidoriDownloadRow);
#line 129 "/home/test/core/core/download-button.vala"
	switch (property_id) {
#line 129 "/home/test/core/core/download-button.vala"
		case MIDORI_DOWNLOAD_ROW_ITEM_PROPERTY:
#line 129 "/home/test/core/core/download-button.vala"
		midori_download_row_set_item (self, g_value_get_object (value));
#line 129 "/home/test/core/core/download-button.vala"
		break;
#line 2237 "download-button.c"
		default:
#line 129 "/home/test/core/core/download-button.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 129 "/home/test/core/core/download-button.vala"
		break;
#line 2243 "download-button.c"
	}
}



