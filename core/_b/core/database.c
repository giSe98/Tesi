/* database.c generated by valac 0.40.23, the Vala compiler
 * generated from database.vala, do not modify */

/*
 Copyright (C) 2013-2018 Christian Dywan <christian@twotoats.de>

 This library is free software; you can redistribute it and/or
 modify it under the terms of the GNU Lesser General Public
 License as published by the Free Software Foundation; either
 version 2.1 of the License, or (at your option) any later version.

 See the file COPYING for the full license text.
*/


#include <glib.h>
#include <glib-object.h>
#include <gio/gio.h>
#include <sqlite3.h>
#include <stdlib.h>
#include <string.h>
#include <stdarg.h>
#include <float.h>
#include <math.h>
#include "config.h"
#include <glib/gstdio.h>
#include <glib/gi18n-lib.h>

typedef gboolean (*MidoriDatabaseCallback) (gpointer user_data, GError** error);

#define MIDORI_TYPE_DATABASE_STATEMENT (midori_database_statement_get_type ())
#define MIDORI_DATABASE_STATEMENT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_DATABASE_STATEMENT, MidoriDatabaseStatement))
#define MIDORI_DATABASE_STATEMENT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_DATABASE_STATEMENT, MidoriDatabaseStatementClass))
#define MIDORI_IS_DATABASE_STATEMENT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_DATABASE_STATEMENT))
#define MIDORI_IS_DATABASE_STATEMENT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_DATABASE_STATEMENT))
#define MIDORI_DATABASE_STATEMENT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_DATABASE_STATEMENT, MidoriDatabaseStatementClass))

typedef struct _MidoriDatabaseStatement MidoriDatabaseStatement;
typedef struct _MidoriDatabaseStatementClass MidoriDatabaseStatementClass;
typedef struct _MidoriDatabaseStatementPrivate MidoriDatabaseStatementPrivate;

#define MIDORI_TYPE_DATABASE (midori_database_get_type ())
#define MIDORI_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_DATABASE, MidoriDatabase))
#define MIDORI_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_DATABASE, MidoriDatabaseClass))
#define MIDORI_IS_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_DATABASE))
#define MIDORI_IS_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_DATABASE))
#define MIDORI_DATABASE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_DATABASE, MidoriDatabaseClass))

typedef struct _MidoriDatabase MidoriDatabase;
typedef struct _MidoriDatabaseClass MidoriDatabaseClass;
enum  {
	MIDORI_DATABASE_STATEMENT_0_PROPERTY,
	MIDORI_DATABASE_STATEMENT_DATABASE_PROPERTY,
	MIDORI_DATABASE_STATEMENT_QUERY_PROPERTY,
	MIDORI_DATABASE_STATEMENT_NUM_PROPERTIES
};
static GParamSpec* midori_database_statement_properties[MIDORI_DATABASE_STATEMENT_NUM_PROPERTIES];
#define _sqlite3_finalize0(var) ((var == NULL) ? NULL : (var = (sqlite3_finalize (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

#define MIDORI_TYPE_LOGGABLE (midori_loggable_get_type ())
#define MIDORI_LOGGABLE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_LOGGABLE, MidoriLoggable))
#define MIDORI_IS_LOGGABLE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_LOGGABLE))
#define MIDORI_LOGGABLE_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), MIDORI_TYPE_LOGGABLE, MidoriLoggableIface))

typedef struct _MidoriLoggable MidoriLoggable;
typedef struct _MidoriLoggableIface MidoriLoggableIface;
typedef struct _MidoriDatabasePrivate MidoriDatabasePrivate;

#define MIDORI_TYPE_DATABASE_ITEM (midori_database_item_get_type ())
#define MIDORI_DATABASE_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_DATABASE_ITEM, MidoriDatabaseItem))
#define MIDORI_DATABASE_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_DATABASE_ITEM, MidoriDatabaseItemClass))
#define MIDORI_IS_DATABASE_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_DATABASE_ITEM))
#define MIDORI_IS_DATABASE_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_DATABASE_ITEM))
#define MIDORI_DATABASE_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_DATABASE_ITEM, MidoriDatabaseItemClass))

typedef struct _MidoriDatabaseItem MidoriDatabaseItem;
typedef struct _MidoriDatabaseItemClass MidoriDatabaseItemClass;
typedef struct _MidoriDatabaseItemPrivate MidoriDatabaseItemPrivate;
enum  {
	MIDORI_DATABASE_ITEM_0_PROPERTY,
	MIDORI_DATABASE_ITEM_DATABASE_PROPERTY,
	MIDORI_DATABASE_ITEM_ID_PROPERTY,
	MIDORI_DATABASE_ITEM_URI_PROPERTY,
	MIDORI_DATABASE_ITEM_TITLE_PROPERTY,
	MIDORI_DATABASE_ITEM_DATE_PROPERTY,
	MIDORI_DATABASE_ITEM_NUM_PROPERTIES
};
static GParamSpec* midori_database_item_properties[MIDORI_DATABASE_ITEM_NUM_PROPERTIES];
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
typedef struct _MidoriDatabaseItemDeleteData MidoriDatabaseItemDeleteData;
enum  {
	MIDORI_DATABASE_0_PROPERTY,
	MIDORI_DATABASE_TABLE_PROPERTY,
	MIDORI_DATABASE_PATH_PROPERTY,
	MIDORI_DATABASE_KEY_PROPERTY,
	MIDORI_DATABASE_MAXIMUM_AGE_PROPERTY,
	MIDORI_DATABASE_READONLY_PROPERTY,
	MIDORI_DATABASE_FIRST_USE_PROPERTY,
	MIDORI_DATABASE_LAST_ROW_ID_PROPERTY,
	MIDORI_DATABASE_ERRMSG_PROPERTY,
	MIDORI_DATABASE_NUM_PROPERTIES
};
static GParamSpec* midori_database_properties[MIDORI_DATABASE_NUM_PROPERTIES];
#define _sqlite3_close0(var) ((var == NULL) ? NULL : (var = (sqlite3_close (var), NULL)))
typedef struct _Block9Data Block9Data;
#define _g_bytes_unref0(var) ((var == NULL) ? NULL : (var = (g_bytes_unref (var), NULL)))
typedef struct _MidoriDatabaseDeleteData MidoriDatabaseDeleteData;
typedef struct _MidoriDatabaseLookupData MidoriDatabaseLookupData;
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
typedef struct _MidoriDatabaseQueryData MidoriDatabaseQueryData;
typedef struct _MidoriDatabaseUpdateData MidoriDatabaseUpdateData;
typedef struct _MidoriDatabaseInsertData MidoriDatabaseInsertData;
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))
typedef struct _MidoriDatabaseClearData MidoriDatabaseClearData;
typedef struct _MidoriDatabaseCapData MidoriDatabaseCapData;
typedef struct _MidoriDatabasePopulateData MidoriDatabasePopulateData;

typedef enum  {
	MIDORI_DATABASE_ERROR_OPEN,
	MIDORI_DATABASE_ERROR_NAMING,
	MIDORI_DATABASE_ERROR_FILENAME,
	MIDORI_DATABASE_ERROR_EXECUTE,
	MIDORI_DATABASE_ERROR_COMPILE,
	MIDORI_DATABASE_ERROR_TYPE
} MidoriDatabaseError;
#define MIDORI_DATABASE_ERROR midori_database_error_quark ()
struct _MidoriDatabaseStatement {
	GObject parent_instance;
	MidoriDatabaseStatementPrivate * priv;
};

struct _MidoriDatabaseStatementClass {
	GObjectClass parent_class;
	gboolean (*init) (MidoriDatabaseStatement* self, GCancellable* cancellable, GError** error);
};

struct _MidoriDatabaseStatementPrivate {
	sqlite3_stmt* stmt;
	gint64 last_row_id;
	MidoriDatabase* _database;
	gchar* _query;
};

struct _MidoriLoggableIface {
	GTypeInterface parent_iface;
};

struct _MidoriDatabase {
	GObject parent_instance;
	MidoriDatabasePrivate * priv;
	sqlite3* db;
};

struct _MidoriDatabaseClass {
	GObjectClass parent_class;
	gboolean (*init) (MidoriDatabase* self, GCancellable* cancellable, GError** error);
	void (*delete) (MidoriDatabase* self, MidoriDatabaseItem* item, GAsyncReadyCallback _callback_, gpointer _user_data_);
	gboolean (*delete_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
	void (*lookup) (MidoriDatabase* self, const gchar* uri, GAsyncReadyCallback _callback_, gpointer _user_data_);
	MidoriDatabaseItem* (*lookup_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
	void (*query) (MidoriDatabase* self, const gchar* filter, gint64 max_items, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
	GList* (*query_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
	void (*update) (MidoriDatabase* self, MidoriDatabaseItem* item, GAsyncReadyCallback _callback_, gpointer _user_data_);
	gboolean (*update_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
	void (*insert) (MidoriDatabase* self, MidoriDatabaseItem* item, GAsyncReadyCallback _callback_, gpointer _user_data_);
	gboolean (*insert_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
	void (*clear) (MidoriDatabase* self, GTimeSpan timespan, GAsyncReadyCallback _callback_, gpointer _user_data_);
	gboolean (*clear_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
};

struct _MidoriDatabaseItem {
	GObject parent_instance;
	MidoriDatabaseItemPrivate * priv;
};

struct _MidoriDatabaseItemClass {
	GObjectClass parent_class;
};

struct _MidoriDatabaseItemPrivate {
	MidoriDatabase* _database;
	gint64 _id;
	gchar* _uri;
	gchar* _title;
	gint64 _date;
};

struct _MidoriDatabaseItemDeleteData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	MidoriDatabaseItem* self;
	gboolean result;
	MidoriDatabase* _tmp0_;
	gboolean _tmp1_;
	MidoriDatabase* _tmp2_;
	GError* _error_;
	const gchar* _tmp3_;
	GError* _tmp4_;
	const gchar* _tmp5_;
	GError* _inner_error0_;
};

struct _MidoriDatabasePrivate {
	gchar* _key;
	GCancellable* populate_cancellable;
	gchar* _table;
	gchar* _path;
	gint64 _maximum_age;
	gboolean _readonly;
	gboolean _first_use;
	GList* _items;
};

struct _Block9Data {
	int _ref_count_;
	MidoriDatabase* self;
	GBytes* schema;
};

struct _MidoriDatabaseDeleteData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	MidoriDatabase* self;
	MidoriDatabaseItem* item;
	gboolean result;
	gchar* sqlcmd;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	MidoriDatabaseStatement* statement;
	MidoriDatabaseStatement* _tmp2_;
	const gchar* _tmp3_;
	gint64 _tmp4_;
	gint64 _tmp5_;
	MidoriDatabaseStatement* _tmp6_;
	MidoriDatabaseStatement* _tmp7_;
	gboolean _tmp8_;
	MidoriDatabaseStatement* _tmp9_;
	GList* _tmp10_;
	gint index;
	GList* _tmp11_;
	gint _tmp12_;
	GError* _error_;
	const gchar* _tmp13_;
	GError* _tmp14_;
	const gchar* _tmp15_;
	GError* _inner_error0_;
};

struct _MidoriDatabaseLookupData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	MidoriDatabase* self;
	gchar* uri;
	MidoriDatabaseItem* result;
	gchar* sqlcmd;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	MidoriDatabaseStatement* statement;
	const gchar* _tmp2_;
	MidoriDatabaseStatement* _tmp3_;
	gboolean _tmp4_;
	MidoriDatabaseStatement* _tmp5_;
	gchar* title;
	MidoriDatabaseStatement* _tmp6_;
	gchar* _tmp7_;
	gint64 date;
	MidoriDatabaseStatement* _tmp8_;
	MidoriDatabaseItem* item;
	const gchar* _tmp9_;
	gint64 _tmp10_;
	MidoriDatabaseItem* _tmp11_;
	MidoriDatabaseItem* _tmp12_;
	gint64 _tmp13_;
	MidoriDatabaseStatement* _tmp14_;
	MidoriDatabaseItem* _tmp15_;
	GError* _inner_error0_;
};

struct _MidoriDatabaseQueryData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	MidoriDatabase* self;
	gchar* filter;
	gint64 max_items;
	GCancellable* cancellable;
	GList* result;
	const gchar* _tmp0_;
	gchar* where;
	gchar* _tmp1_;
	gchar* sqlcmd;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	gchar* _tmp4_;
	MidoriDatabaseStatement* statement;
	MidoriDatabaseStatement* _tmp5_;
	const gchar* _tmp6_;
	MidoriDatabaseStatement* _tmp7_;
	MidoriDatabaseStatement* _tmp8_;
	gchar* real_filter;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	MidoriDatabaseStatement* _tmp15_;
	const gchar* _tmp16_;
	GError* _error_;
	const gchar* _tmp17_;
	GError* _tmp18_;
	const gchar* _tmp19_;
	GList* items;
	gboolean _tmp20_;
	MidoriDatabaseStatement* _tmp21_;
	gchar* uri;
	MidoriDatabaseStatement* _tmp22_;
	gchar* _tmp23_;
	gchar* title;
	MidoriDatabaseStatement* _tmp24_;
	gchar* _tmp25_;
	gint64 date;
	MidoriDatabaseStatement* _tmp26_;
	MidoriDatabaseItem* item;
	const gchar* _tmp27_;
	const gchar* _tmp28_;
	gint64 _tmp29_;
	MidoriDatabaseItem* _tmp30_;
	MidoriDatabaseItem* _tmp31_;
	gint64 _tmp32_;
	MidoriDatabaseStatement* _tmp33_;
	MidoriDatabaseItem* _tmp34_;
	MidoriDatabaseItem* _tmp35_;
	MidoriDatabaseItem* _tmp36_;
	guint src;
	guint _tmp37_;
	gboolean _tmp38_;
	GError* _vala1__error_;
	const gchar* _tmp39_;
	GError* _tmp40_;
	const gchar* _tmp41_;
	gboolean _tmp42_;
	GError* _inner_error0_;
};

struct _MidoriDatabaseUpdateData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	MidoriDatabase* self;
	MidoriDatabaseItem* item;
	gboolean result;
	gchar* sqlcmd;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	MidoriDatabaseStatement* statement;
	MidoriDatabaseStatement* _tmp2_;
	const gchar* _tmp3_;
	gint64 _tmp4_;
	gint64 _tmp5_;
	const gchar* _tmp6_;
	const gchar* _tmp7_;
	const gchar* _tmp8_;
	const gchar* _tmp9_;
	gint64 _tmp10_;
	gint64 _tmp11_;
	MidoriDatabaseStatement* _tmp12_;
	MidoriDatabaseStatement* _tmp13_;
	gboolean _tmp14_;
	MidoriDatabaseStatement* _tmp15_;
	GList* _tmp16_;
	GList* _tmp17_;
	GError* _error_;
	const gchar* _tmp18_;
	GError* _tmp19_;
	const gchar* _tmp20_;
	GError* _inner_error0_;
};

struct _MidoriDatabaseInsertData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	MidoriDatabase* self;
	MidoriDatabaseItem* item;
	gboolean result;
	gchar* sqlcmd;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	MidoriDatabaseStatement* statement;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	gint64 _tmp7_;
	gint64 _tmp8_;
	MidoriDatabaseStatement* _tmp9_;
	gboolean _tmp10_;
	MidoriDatabaseStatement* _tmp11_;
	gint64 _tmp12_;
	MidoriDatabaseStatement* _tmp13_;
	GList* _tmp14_;
	MidoriDatabaseItem* _tmp15_;
	GList* _tmp16_;
	GError* _inner_error0_;
};

struct _MidoriDatabaseClearData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	MidoriDatabase* self;
	GTimeSpan timespan;
	gboolean result;
	gint64 maximum_age;
	GDateTime* _tmp0_;
	GDateTime* _tmp1_;
	gint64 _tmp2_;
	gchar* sqlcmd;
	const gchar* _tmp3_;
	gchar* _tmp4_;
	MidoriDatabaseStatement* statement;
	const gchar* _tmp5_;
	gint64 _tmp6_;
	MidoriDatabaseStatement* _tmp7_;
	gboolean _tmp8_;
	MidoriDatabaseStatement* _tmp9_;
	GError* _inner_error0_;
};

struct _MidoriDatabaseCapData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	MidoriDatabase* self;
	gint64 maximum_age;
	gboolean result;
	const gchar* sqlcmd;
	MidoriDatabaseStatement* statement;
	const gchar* _tmp0_;
	MidoriDatabaseStatement* _tmp1_;
	gboolean _tmp2_;
	MidoriDatabaseStatement* _tmp3_;
	GError* _inner_error0_;
};

struct _MidoriDatabasePopulateData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	MidoriDatabase* self;
	GCancellable* cancellable;
	guint old_length;
	GList* _tmp0_;
	GList* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	GList* _tmp4_;
	GList* _tmp5_;
	GList* _tmp6_;
	GError* _error_;
	GError* _tmp7_;
	const gchar* _tmp8_;
	GError* _inner_error0_;
};


static gpointer midori_database_statement_parent_class = NULL;
static GInitableIface * midori_database_statement_g_initable_parent_iface = NULL;
static gpointer midori_database_item_parent_class = NULL;
static gpointer midori_database_parent_class = NULL;
static GInitableIface * midori_database_g_initable_parent_iface = NULL;
static GListModelInterface * midori_database_g_list_model_parent_iface = NULL;
static MidoriLoggableIface * midori_database_midori_loggable_parent_iface = NULL;

GQuark midori_database_error_quark (void);
GType midori_database_statement_get_type (void) G_GNUC_CONST;
GType midori_database_get_type (void) G_GNUC_CONST;
#define MIDORI_DATABASE_STATEMENT_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), MIDORI_TYPE_DATABASE_STATEMENT, MidoriDatabaseStatementPrivate))
MidoriDatabaseStatement* midori_database_statement_new (MidoriDatabase* database,
                                                        const gchar* query,
                                                        GError** error);
MidoriDatabaseStatement* midori_database_statement_construct (GType object_type,
                                                              MidoriDatabase* database,
                                                              const gchar* query,
                                                              GError** error);
gboolean midori_database_statement_init (MidoriDatabaseStatement* self,
                                         GCancellable* cancellable,
                                         GError** error);
static gboolean midori_database_statement_real_init (MidoriDatabaseStatement* self,
                                              GCancellable* cancellable,
                                              GError** error);
MidoriDatabase* midori_database_statement_get_database (MidoriDatabaseStatement* self);
GType midori_loggable_get_type (void) G_GNUC_CONST;
GType midori_database_item_get_type (void) G_GNUC_CONST;
const gchar* midori_database_statement_get_query (MidoriDatabaseStatement* self);
const gchar* midori_database_get_errmsg (MidoriDatabase* self);
void midori_database_statement_bind (MidoriDatabaseStatement* self,
                                     const gchar* pname,
                                     GError** error,
                                     ...);
void midori_loggable_debug (MidoriLoggable* self,
                            const gchar* format,
                            ...);
gboolean midori_database_statement_exec (MidoriDatabaseStatement* self,
                                         GError** error);
gboolean midori_database_statement_step (MidoriDatabaseStatement* self,
                                         GError** error);
gint64 midori_database_get_last_row_id (MidoriDatabase* self);
gint64 midori_database_statement_row_id (MidoriDatabaseStatement* self,
                                         GError** error);
static gint midori_database_statement_column_index (MidoriDatabaseStatement* self,
                                             const gchar* name,
                                             GError** error);
gchar* midori_database_statement_get_string (MidoriDatabaseStatement* self,
                                             const gchar* name,
                                             GError** error);
gint64 midori_database_statement_get_int64 (MidoriDatabaseStatement* self,
                                            const gchar* name,
                                            GError** error);
gdouble midori_database_statement_get_double (MidoriDatabaseStatement* self,
                                              const gchar* name,
                                              GError** error);
void midori_database_statement_set_database (MidoriDatabaseStatement* self,
                                             MidoriDatabase* value);
void midori_database_statement_set_query (MidoriDatabaseStatement* self,
                                          const gchar* value);
static void midori_database_statement_finalize (GObject * obj);
static void _vala_midori_database_statement_get_property (GObject * object,
                                                   guint property_id,
                                                   GValue * value,
                                                   GParamSpec * pspec);
static void _vala_midori_database_statement_set_property (GObject * object,
                                                   guint property_id,
                                                   const GValue * value,
                                                   GParamSpec * pspec);
#define MIDORI_DATABASE_ITEM_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), MIDORI_TYPE_DATABASE_ITEM, MidoriDatabaseItemPrivate))
MidoriDatabaseItem* midori_database_item_new (const gchar* uri,
                                              const gchar* title,
                                              gint64 date);
MidoriDatabaseItem* midori_database_item_construct (GType object_type,
                                                    const gchar* uri,
                                                    const gchar* title,
                                                    gint64 date);
static void __lambda8_ (MidoriDatabaseItem* self,
                 GParamSpec* pspec);
MidoriDatabase* midori_database_item_get_database (MidoriDatabaseItem* self);
void midori_database_update (MidoriDatabase* self,
                             MidoriDatabaseItem* item,
                             GAsyncReadyCallback _callback_,
                             gpointer _user_data_);
gboolean midori_database_update_finish (MidoriDatabase* self,
                                        GAsyncResult* _res_,
                                        GError** error);
static void ___lambda8__g_object_notify (GObject* _sender,
                                  GParamSpec* pspec,
                                  gpointer self);
static void midori_database_item_delete_data_free (gpointer _data);
void midori_database_item_delete (MidoriDatabaseItem* self,
                                  GAsyncReadyCallback _callback_,
                                  gpointer _user_data_);
gboolean midori_database_item_delete_finish (MidoriDatabaseItem* self,
                                             GAsyncResult* _res_);
static gboolean midori_database_item_delete_co (MidoriDatabaseItemDeleteData* _data_);
void midori_database_delete (MidoriDatabase* self,
                             MidoriDatabaseItem* item,
                             GAsyncReadyCallback _callback_,
                             gpointer _user_data_);
gboolean midori_database_delete_finish (MidoriDatabase* self,
                                        GAsyncResult* _res_,
                                        GError** error);
static void midori_database_item_delete_ready (GObject* source_object,
                                        GAsyncResult* _res_,
                                        gpointer _user_data_);
const gchar* midori_database_item_get_uri (MidoriDatabaseItem* self);
void midori_database_item_set_database (MidoriDatabaseItem* self,
                                        MidoriDatabase* value);
gint64 midori_database_item_get_id (MidoriDatabaseItem* self);
void midori_database_item_set_id (MidoriDatabaseItem* self,
                                  gint64 value);
void midori_database_item_set_uri (MidoriDatabaseItem* self,
                                   const gchar* value);
const gchar* midori_database_item_get_title (MidoriDatabaseItem* self);
void midori_database_item_set_title (MidoriDatabaseItem* self,
                                     const gchar* value);
gint64 midori_database_item_get_date (MidoriDatabaseItem* self);
void midori_database_item_set_date (MidoriDatabaseItem* self,
                                    gint64 value);
static void midori_database_item_finalize (GObject * obj);
static void _vala_midori_database_item_get_property (GObject * object,
                                              guint property_id,
                                              GValue * value,
                                              GParamSpec * pspec);
static void _vala_midori_database_item_set_property (GObject * object,
                                              guint property_id,
                                              const GValue * value,
                                              GParamSpec * pspec);
#define MIDORI_DATABASE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), MIDORI_TYPE_DATABASE, MidoriDatabasePrivate))
static void _g_object_unref0_ (gpointer var);
static inline void _g_list_free__g_object_unref0_ (GList* self);
MidoriDatabase* midori_database_new (const gchar* path,
                                     GError** error);
MidoriDatabase* midori_database_construct (GType object_type,
                                           const gchar* path,
                                           GError** error);
gboolean midori_database_init (MidoriDatabase* self,
                               GCancellable* cancellable,
                               GError** error);
static gchar* midori_database_resolve_path (MidoriDatabase* self,
                                     const gchar* path);
static gboolean midori_database_real_init (MidoriDatabase* self,
                                    GCancellable* cancellable,
                                    GError** error);
const gchar* midori_database_get_table (MidoriDatabase* self);
const gchar* midori_database_get_path (MidoriDatabase* self);
void midori_database_set_table (MidoriDatabase* self,
                                const gchar* value);
gboolean midori_database_exists (MidoriDatabase* self,
                                 const gchar* path);
gboolean midori_database_get_readonly (MidoriDatabase* self);
gboolean midori_loggable_get_logging (MidoriLoggable* self);
static void ___lambda5_ (MidoriDatabase* self,
                  const gchar* sql,
                  guint64 nanoseconds);
static void ____lambda5__sqlite_profile_callback (gpointer self,
                                           const gchar* sql,
                                           guint64 time);
gboolean midori_database_exec (MidoriDatabase* self,
                               const gchar* query,
                               GError** error);
gboolean midori_database_exec_script (MidoriDatabase* self,
                                      const gchar* filename,
                                      GError** error);
void midori_database_set_first_use (MidoriDatabase* self,
                                    gboolean value);
static gboolean ___lambda7_ (MidoriDatabase* self);
void midori_database_cap (MidoriDatabase* self,
                          gint64 maximum_age,
                          GAsyncReadyCallback _callback_,
                          gpointer _user_data_);
gboolean midori_database_cap_finish (MidoriDatabase* self,
                                     GAsyncResult* _res_,
                                     GError** error);
gint64 midori_database_get_maximum_age (MidoriDatabase* self);
static gboolean ____lambda7__gsource_func (gpointer self);
static Block9Data* block9_data_ref (Block9Data* _data9_);
static void block9_data_unref (void * _userdata_);
gboolean midori_database_transaction (MidoriDatabase* self,
                                      MidoriDatabaseCallback callback,
                                      gpointer callback_target,
                                      GError** error);
static gboolean ___lambda6_ (Block9Data* _data9_,
                      GError** error);
static gboolean ____lambda6__midori_database_callback (gpointer self,
                                                GError** error);
MidoriDatabaseStatement* midori_database_prepare (MidoriDatabase* self,
                                                  const gchar* query,
                                                  GError** error,
                                                  ...);
static void midori_database_real_delete_data_free (gpointer _data);
static void midori_database_real_delete (MidoriDatabase* self,
                                  MidoriDatabaseItem* item,
                                  GAsyncReadyCallback _callback_,
                                  gpointer _user_data_);
static gboolean midori_database_real_delete_co (MidoriDatabaseDeleteData* _data_);
static void midori_database_real_lookup_data_free (gpointer _data);
static void midori_database_real_lookup (MidoriDatabase* self,
                                  const gchar* uri,
                                  GAsyncReadyCallback _callback_,
                                  gpointer _user_data_);
void midori_database_lookup (MidoriDatabase* self,
                             const gchar* uri,
                             GAsyncReadyCallback _callback_,
                             gpointer _user_data_);
MidoriDatabaseItem* midori_database_lookup_finish (MidoriDatabase* self,
                                                   GAsyncResult* _res_,
                                                   GError** error);
static gboolean midori_database_real_lookup_co (MidoriDatabaseLookupData* _data_);
gboolean midori_database_contains (MidoriDatabase* self,
                                   MidoriDatabaseItem* item,
                                   GError** error);
static void midori_database_real_query_data_free (gpointer _data);
static void midori_database_real_query (MidoriDatabase* self,
                                 const gchar* filter,
                                 gint64 max_items,
                                 GCancellable* cancellable,
                                 GAsyncReadyCallback _callback_,
                                 gpointer _user_data_);
void midori_database_query (MidoriDatabase* self,
                            const gchar* filter,
                            gint64 max_items,
                            GCancellable* cancellable,
                            GAsyncReadyCallback _callback_,
                            gpointer _user_data_);
GList* midori_database_query_finish (MidoriDatabase* self,
                                     GAsyncResult* _res_,
                                     GError** error);
static gboolean midori_database_real_query_co (MidoriDatabaseQueryData* _data_);
static gboolean _midori_database_real_query_co_gsource_func (gpointer self);
static void midori_database_real_update_data_free (gpointer _data);
static void midori_database_real_update (MidoriDatabase* self,
                                  MidoriDatabaseItem* item,
                                  GAsyncReadyCallback _callback_,
                                  gpointer _user_data_);
static gboolean midori_database_real_update_co (MidoriDatabaseUpdateData* _data_);
static void midori_database_real_insert_data_free (gpointer _data);
static void midori_database_real_insert (MidoriDatabase* self,
                                  MidoriDatabaseItem* item,
                                  GAsyncReadyCallback _callback_,
                                  gpointer _user_data_);
void midori_database_insert (MidoriDatabase* self,
                             MidoriDatabaseItem* item,
                             GAsyncReadyCallback _callback_,
                             gpointer _user_data_);
gboolean midori_database_insert_finish (MidoriDatabase* self,
                                        GAsyncResult* _res_,
                                        GError** error);
static gboolean midori_database_real_insert_co (MidoriDatabaseInsertData* _data_);
static void midori_database_real_clear_data_free (gpointer _data);
static void midori_database_real_clear (MidoriDatabase* self,
                                 GTimeSpan timespan,
                                 GAsyncReadyCallback _callback_,
                                 gpointer _user_data_);
void midori_database_clear (MidoriDatabase* self,
                            GTimeSpan timespan,
                            GAsyncReadyCallback _callback_,
                            gpointer _user_data_);
gboolean midori_database_clear_finish (MidoriDatabase* self,
                                       GAsyncResult* _res_,
                                       GError** error);
static gboolean midori_database_real_clear_co (MidoriDatabaseClearData* _data_);
static void midori_database_cap_data_free (gpointer _data);
static gboolean midori_database_cap_co (MidoriDatabaseCapData* _data_);
static GType midori_database_real_get_item_type (GListModel* base);
static GObject* midori_database_real_get_item (GListModel* base,
                                        guint position);
static guint midori_database_real_get_n_items (GListModel* base);
static void midori_database_populate (MidoriDatabase* self,
                               GCancellable* cancellable,
                               GAsyncReadyCallback _callback_,
                               gpointer _user_data_);
static void midori_database_populate_finish (MidoriDatabase* self,
                                      GAsyncResult* _res_);
static void midori_database_populate_data_free (gpointer _data);
static gboolean midori_database_populate_co (MidoriDatabasePopulateData* _data_);
const gchar* midori_database_get_key (MidoriDatabase* self);
static void midori_database_populate_ready (GObject* source_object,
                                     GAsyncResult* _res_,
                                     gpointer _user_data_);
void midori_database_set_path (MidoriDatabase* self,
                               const gchar* value);
void midori_database_set_key (MidoriDatabase* self,
                              const gchar* value);
void midori_database_set_maximum_age (MidoriDatabase* self,
                                      gint64 value);
void midori_database_set_readonly (MidoriDatabase* self,
                                   gboolean value);
gboolean midori_database_get_first_use (MidoriDatabase* self);
static void midori_database_finalize (GObject * obj);
static void _vala_midori_database_get_property (GObject * object,
                                         guint property_id,
                                         GValue * value,
                                         GParamSpec * pspec);
static void _vala_midori_database_set_property (GObject * object,
                                         guint property_id,
                                         const GValue * value,
                                         GParamSpec * pspec);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


GQuark
midori_database_error_quark (void)
{
	return g_quark_from_static_string ("midori_database_error-quark");
}


MidoriDatabaseStatement*
midori_database_statement_construct (GType object_type,
                                     MidoriDatabase* database,
                                     const gchar* query,
                                     GError** error)
{
	MidoriDatabaseStatement * self = NULL;
	GError* _inner_error0_ = NULL;
#line 31 "/home/test/core/core/database.vala"
	g_return_val_if_fail (database != NULL, NULL);
#line 31 "/home/test/core/core/database.vala"
	g_return_val_if_fail (query != NULL, NULL);
#line 32 "/home/test/core/core/database.vala"
	self = (MidoriDatabaseStatement*) g_object_new (object_type, "database", database, "query", query, NULL);
#line 33 "/home/test/core/core/database.vala"
	midori_database_statement_init (self, NULL, &_inner_error0_);
#line 33 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 33 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 33 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 33 "/home/test/core/core/database.vala"
			_g_object_unref0 (self);
#line 33 "/home/test/core/core/database.vala"
			return NULL;
#line 826 "database.c"
		} else {
#line 33 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 33 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 33 "/home/test/core/core/database.vala"
			return NULL;
#line 834 "database.c"
		}
	}
#line 31 "/home/test/core/core/database.vala"
	return self;
#line 839 "database.c"
}


MidoriDatabaseStatement*
midori_database_statement_new (MidoriDatabase* database,
                               const gchar* query,
                               GError** error)
{
#line 31 "/home/test/core/core/database.vala"
	return midori_database_statement_construct (MIDORI_TYPE_DATABASE_STATEMENT, database, query, error);
#line 850 "database.c"
}


static gboolean
midori_database_statement_real_init (MidoriDatabaseStatement* self,
                                     GCancellable* cancellable,
                                     GError** error)
{
	gboolean result = FALSE;
	gint _result_ = 0;
	MidoriDatabase* _tmp0_;
	sqlite3* _tmp1_;
	const gchar* _tmp2_;
	sqlite3_stmt* _tmp3_ = NULL;
	gint _tmp4_;
	gint _tmp5_;
	GError* _inner_error0_ = NULL;
#line 37 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_database;
#line 37 "/home/test/core/core/database.vala"
	_tmp1_ = _tmp0_->db;
#line 37 "/home/test/core/core/database.vala"
	_tmp2_ = self->priv->_query;
#line 37 "/home/test/core/core/database.vala"
	_tmp4_ = sqlite3_prepare_v2 (_tmp1_, _tmp2_, -1, &_tmp3_, NULL);
#line 37 "/home/test/core/core/database.vala"
	_sqlite3_finalize0 (self->priv->stmt);
#line 37 "/home/test/core/core/database.vala"
	self->priv->stmt = _tmp3_;
#line 37 "/home/test/core/core/database.vala"
	_result_ = _tmp4_;
#line 38 "/home/test/core/core/database.vala"
	_tmp5_ = _result_;
#line 38 "/home/test/core/core/database.vala"
	if (_tmp5_ != SQLITE_OK) {
#line 886 "database.c"
		const gchar* _tmp6_;
		MidoriDatabase* _tmp7_;
		const gchar* _tmp8_;
		const gchar* _tmp9_;
		gchar* _tmp10_;
		gchar* _tmp11_;
		GError* _tmp12_;
		GError* _tmp13_;
#line 39 "/home/test/core/core/database.vala"
		_tmp6_ = self->priv->_query;
#line 39 "/home/test/core/core/database.vala"
		_tmp7_ = self->priv->_database;
#line 39 "/home/test/core/core/database.vala"
		_tmp8_ = midori_database_get_errmsg (_tmp7_);
#line 39 "/home/test/core/core/database.vala"
		_tmp9_ = _tmp8_;
#line 39 "/home/test/core/core/database.vala"
		_tmp10_ = g_strdup_printf ("Failed to compile statement '%s': %s", _tmp6_, _tmp9_);
#line 39 "/home/test/core/core/database.vala"
		_tmp11_ = _tmp10_;
#line 39 "/home/test/core/core/database.vala"
		_tmp12_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_COMPILE, _tmp11_);
#line 39 "/home/test/core/core/database.vala"
		_tmp13_ = _tmp12_;
#line 39 "/home/test/core/core/database.vala"
		_g_free0 (_tmp11_);
#line 39 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp13_;
#line 39 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 917 "database.c"
			gboolean _tmp14_ = FALSE;
#line 39 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 39 "/home/test/core/core/database.vala"
			return _tmp14_;
#line 923 "database.c"
		} else {
			gboolean _tmp15_ = FALSE;
#line 39 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 39 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 39 "/home/test/core/core/database.vala"
			return _tmp15_;
#line 932 "database.c"
		}
	}
#line 40 "/home/test/core/core/database.vala"
	result = TRUE;
#line 40 "/home/test/core/core/database.vala"
	return result;
#line 939 "database.c"
}


gboolean
midori_database_statement_init (MidoriDatabaseStatement* self,
                                GCancellable* cancellable,
                                GError** error)
{
#line 36 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 36 "/home/test/core/core/database.vala"
	return MIDORI_DATABASE_STATEMENT_GET_CLASS (self)->init (self, cancellable, error);
#line 952 "database.c"
}


static gchar*
double_to_string (gdouble self)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gint _tmp1__length1;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
#line 938 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp0_ = g_new0 (gchar, G_ASCII_DTOSTR_BUF_SIZE);
#line 938 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp1_ = _tmp0_;
#line 938 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp1__length1 = G_ASCII_DTOSTR_BUF_SIZE;
#line 938 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp2_ = g_ascii_dtostr (_tmp1_, G_ASCII_DTOSTR_BUF_SIZE, self);
#line 938 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp3_ = g_strdup (_tmp2_);
#line 938 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp4_ = _tmp3_;
#line 938 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp1_ = (g_free (_tmp1_), NULL);
#line 938 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	result = _tmp4_;
#line 938 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	return result;
#line 984 "database.c"
}


void
midori_database_statement_bind (MidoriDatabaseStatement* self,
                                const gchar* pname,
                                GError** error,
                                ...)
{
	gint pindex = 0;
	sqlite3_stmt* _tmp0_;
	va_list args = {0};
	GType ptype = 0UL;
	GType _tmp6_;
	GError* _inner_error0_ = NULL;
#line 49 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 49 "/home/test/core/core/database.vala"
	g_return_if_fail (pname != NULL);
#line 50 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->stmt;
#line 50 "/home/test/core/core/database.vala"
	pindex = sqlite3_bind_parameter_index (_tmp0_, pname);
#line 51 "/home/test/core/core/database.vala"
	if (pindex <= 0) {
#line 1010 "database.c"
		const gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		GError* _tmp4_;
		GError* _tmp5_;
#line 52 "/home/test/core/core/database.vala"
		_tmp1_ = self->priv->_query;
#line 52 "/home/test/core/core/database.vala"
		_tmp2_ = g_strdup_printf ("No such parameter '%s' in statement: %s", pname, _tmp1_);
#line 52 "/home/test/core/core/database.vala"
		_tmp3_ = _tmp2_;
#line 52 "/home/test/core/core/database.vala"
		_tmp4_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_TYPE, _tmp3_);
#line 52 "/home/test/core/core/database.vala"
		_tmp5_ = _tmp4_;
#line 52 "/home/test/core/core/database.vala"
		_g_free0 (_tmp3_);
#line 52 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp5_;
#line 52 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 52 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 52 "/home/test/core/core/database.vala"
			return;
#line 1036 "database.c"
		} else {
#line 52 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 52 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 52 "/home/test/core/core/database.vala"
			return;
#line 1044 "database.c"
		}
	}
#line 53 "/home/test/core/core/database.vala"
	va_start (args, error);
#line 54 "/home/test/core/core/database.vala"
	ptype = va_arg (args, GType);
#line 55 "/home/test/core/core/database.vala"
	_tmp6_ = ptype;
#line 55 "/home/test/core/core/database.vala"
	if (_tmp6_ == G_TYPE_STRING) {
#line 1055 "database.c"
		gchar* text = NULL;
		const gchar* _tmp7_;
		gchar* _tmp8_;
		sqlite3_stmt* _tmp9_;
		const gchar* _tmp10_;
		gchar* _tmp11_;
		GDestroyNotify _tmp12_;
		MidoriDatabase* _tmp13_;
		const gchar* _tmp14_;
#line 56 "/home/test/core/core/database.vala"
		_tmp7_ = va_arg (args, gchar*);
#line 56 "/home/test/core/core/database.vala"
		_tmp8_ = g_strdup (_tmp7_);
#line 56 "/home/test/core/core/database.vala"
		text = _tmp8_;
#line 57 "/home/test/core/core/database.vala"
		_tmp9_ = self->priv->stmt;
#line 57 "/home/test/core/core/database.vala"
		_tmp10_ = text;
#line 57 "/home/test/core/core/database.vala"
		_tmp11_ = g_strdup (_tmp10_);
#line 57 "/home/test/core/core/database.vala"
		_tmp12_ = g_free;
#line 57 "/home/test/core/core/database.vala"
		sqlite3_bind_text (_tmp9_, pindex, _tmp11_, -1, _tmp12_);
#line 58 "/home/test/core/core/database.vala"
		_tmp13_ = self->priv->_database;
#line 58 "/home/test/core/core/database.vala"
		_tmp14_ = text;
#line 58 "/home/test/core/core/database.vala"
		midori_loggable_debug ((MidoriLoggable*) _tmp13_, "%s=%s", pname, _tmp14_, NULL);
#line 55 "/home/test/core/core/database.vala"
		_g_free0 (text);
#line 1089 "database.c"
	} else {
		GType _tmp15_;
#line 59 "/home/test/core/core/database.vala"
		_tmp15_ = ptype;
#line 59 "/home/test/core/core/database.vala"
		if (_tmp15_ == G_TYPE_INT64) {
#line 1096 "database.c"
			gint64 integer = 0LL;
			sqlite3_stmt* _tmp16_;
			gint64 _tmp17_;
			MidoriDatabase* _tmp18_;
			gint64 _tmp19_;
			gchar* _tmp20_;
			gchar* _tmp21_;
#line 60 "/home/test/core/core/database.vala"
			integer = va_arg (args, gint64);
#line 61 "/home/test/core/core/database.vala"
			_tmp16_ = self->priv->stmt;
#line 61 "/home/test/core/core/database.vala"
			_tmp17_ = integer;
#line 61 "/home/test/core/core/database.vala"
			sqlite3_bind_int64 (_tmp16_, pindex, _tmp17_);
#line 62 "/home/test/core/core/database.vala"
			_tmp18_ = self->priv->_database;
#line 62 "/home/test/core/core/database.vala"
			_tmp19_ = integer;
#line 62 "/home/test/core/core/database.vala"
			_tmp20_ = g_strdup_printf ("%" G_GINT64_FORMAT, _tmp19_);
#line 62 "/home/test/core/core/database.vala"
			_tmp21_ = _tmp20_;
#line 62 "/home/test/core/core/database.vala"
			midori_loggable_debug ((MidoriLoggable*) _tmp18_, "%s=%s", pname, _tmp21_, NULL);
#line 62 "/home/test/core/core/database.vala"
			_g_free0 (_tmp21_);
#line 1124 "database.c"
		} else {
			GType _tmp22_;
#line 63 "/home/test/core/core/database.vala"
			_tmp22_ = ptype;
#line 63 "/home/test/core/core/database.vala"
			if (_tmp22_ == G_TYPE_DOUBLE) {
#line 1131 "database.c"
				gdouble stuntman = 0.0;
				sqlite3_stmt* _tmp23_;
				gdouble _tmp24_;
				MidoriDatabase* _tmp25_;
				gdouble _tmp26_;
				gchar* _tmp27_;
				gchar* _tmp28_;
#line 64 "/home/test/core/core/database.vala"
				stuntman = va_arg (args, gdouble);
#line 65 "/home/test/core/core/database.vala"
				_tmp23_ = self->priv->stmt;
#line 65 "/home/test/core/core/database.vala"
				_tmp24_ = stuntman;
#line 65 "/home/test/core/core/database.vala"
				sqlite3_bind_double (_tmp23_, pindex, _tmp24_);
#line 66 "/home/test/core/core/database.vala"
				_tmp25_ = self->priv->_database;
#line 66 "/home/test/core/core/database.vala"
				_tmp26_ = stuntman;
#line 66 "/home/test/core/core/database.vala"
				_tmp27_ = double_to_string (_tmp26_);
#line 66 "/home/test/core/core/database.vala"
				_tmp28_ = _tmp27_;
#line 66 "/home/test/core/core/database.vala"
				midori_loggable_debug ((MidoriLoggable*) _tmp25_, "%s=%s", pname, _tmp28_, NULL);
#line 66 "/home/test/core/core/database.vala"
				_g_free0 (_tmp28_);
#line 1159 "database.c"
			} else {
				GType _tmp29_;
				const gchar* _tmp30_;
				const gchar* _tmp31_;
				gchar* _tmp32_;
				gchar* _tmp33_;
				GError* _tmp34_;
				GError* _tmp35_;
#line 68 "/home/test/core/core/database.vala"
				_tmp29_ = ptype;
#line 68 "/home/test/core/core/database.vala"
				_tmp30_ = g_type_name (_tmp29_);
#line 68 "/home/test/core/core/database.vala"
				_tmp31_ = self->priv->_query;
#line 68 "/home/test/core/core/database.vala"
				_tmp32_ = g_strdup_printf ("Invalid type '%s' for '%s' in statement: %s", _tmp30_, pname, _tmp31_);
#line 68 "/home/test/core/core/database.vala"
				_tmp33_ = _tmp32_;
#line 68 "/home/test/core/core/database.vala"
				_tmp34_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_TYPE, _tmp33_);
#line 68 "/home/test/core/core/database.vala"
				_tmp35_ = _tmp34_;
#line 68 "/home/test/core/core/database.vala"
				_g_free0 (_tmp33_);
#line 68 "/home/test/core/core/database.vala"
				_inner_error0_ = _tmp35_;
#line 68 "/home/test/core/core/database.vala"
				if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 68 "/home/test/core/core/database.vala"
					g_propagate_error (error, _inner_error0_);
#line 68 "/home/test/core/core/database.vala"
					va_end (args);
#line 68 "/home/test/core/core/database.vala"
					return;
#line 1194 "database.c"
				} else {
#line 68 "/home/test/core/core/database.vala"
					va_end (args);
#line 68 "/home/test/core/core/database.vala"
					g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 68 "/home/test/core/core/database.vala"
					g_clear_error (&_inner_error0_);
#line 68 "/home/test/core/core/database.vala"
					return;
#line 1204 "database.c"
				}
			}
		}
	}
#line 49 "/home/test/core/core/database.vala"
	va_end (args);
#line 1211 "database.c"
}


gboolean
midori_database_statement_exec (MidoriDatabaseStatement* self,
                                GError** error)
{
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	GError* _inner_error0_ = NULL;
#line 75 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 76 "/home/test/core/core/database.vala"
	_tmp0_ = midori_database_statement_step (self, &_inner_error0_);
#line 76 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 76 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 1230 "database.c"
			gboolean _tmp1_ = FALSE;
#line 76 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 76 "/home/test/core/core/database.vala"
			return _tmp1_;
#line 1236 "database.c"
		} else {
			gboolean _tmp2_ = FALSE;
#line 76 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 76 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 76 "/home/test/core/core/database.vala"
			return _tmp2_;
#line 1245 "database.c"
		}
	}
#line 76 "/home/test/core/core/database.vala"
	if (_tmp0_) {
#line 1250 "database.c"
		GError* _tmp3_;
#line 77 "/home/test/core/core/database.vala"
		_tmp3_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_EXECUTE, "More rows available - use step instead of exec");
#line 77 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp3_;
#line 77 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 1258 "database.c"
			gboolean _tmp4_ = FALSE;
#line 77 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 77 "/home/test/core/core/database.vala"
			return _tmp4_;
#line 1264 "database.c"
		} else {
			gboolean _tmp5_ = FALSE;
#line 77 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 77 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 77 "/home/test/core/core/database.vala"
			return _tmp5_;
#line 1273 "database.c"
		}
	}
#line 78 "/home/test/core/core/database.vala"
	result = TRUE;
#line 78 "/home/test/core/core/database.vala"
	return result;
#line 1280 "database.c"
}


gboolean
midori_database_statement_step (MidoriDatabaseStatement* self,
                                GError** error)
{
	gboolean result = FALSE;
	gint _result_ = 0;
	sqlite3_stmt* _tmp0_;
	gboolean _tmp1_ = FALSE;
	gint _tmp2_;
	MidoriDatabase* _tmp10_;
	gint64 _tmp11_;
	gint64 _tmp12_;
	gint _tmp13_;
	GError* _inner_error0_ = NULL;
#line 84 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 85 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->stmt;
#line 85 "/home/test/core/core/database.vala"
	_result_ = sqlite3_step (_tmp0_);
#line 86 "/home/test/core/core/database.vala"
	_tmp2_ = _result_;
#line 86 "/home/test/core/core/database.vala"
	if (_tmp2_ != SQLITE_DONE) {
#line 1308 "database.c"
		gint _tmp3_;
#line 86 "/home/test/core/core/database.vala"
		_tmp3_ = _result_;
#line 86 "/home/test/core/core/database.vala"
		_tmp1_ = _tmp3_ != SQLITE_ROW;
#line 1314 "database.c"
	} else {
#line 86 "/home/test/core/core/database.vala"
		_tmp1_ = FALSE;
#line 1318 "database.c"
	}
#line 86 "/home/test/core/core/database.vala"
	if (_tmp1_) {
#line 1322 "database.c"
		MidoriDatabase* _tmp4_;
		const gchar* _tmp5_;
		const gchar* _tmp6_;
		GError* _tmp7_;
#line 87 "/home/test/core/core/database.vala"
		_tmp4_ = self->priv->_database;
#line 87 "/home/test/core/core/database.vala"
		_tmp5_ = midori_database_get_errmsg (_tmp4_);
#line 87 "/home/test/core/core/database.vala"
		_tmp6_ = _tmp5_;
#line 87 "/home/test/core/core/database.vala"
		_tmp7_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_EXECUTE, _tmp6_);
#line 87 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp7_;
#line 87 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 1339 "database.c"
			gboolean _tmp8_ = FALSE;
#line 87 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 87 "/home/test/core/core/database.vala"
			return _tmp8_;
#line 1345 "database.c"
		} else {
			gboolean _tmp9_ = FALSE;
#line 87 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 87 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 87 "/home/test/core/core/database.vala"
			return _tmp9_;
#line 1354 "database.c"
		}
	}
#line 88 "/home/test/core/core/database.vala"
	_tmp10_ = self->priv->_database;
#line 88 "/home/test/core/core/database.vala"
	_tmp11_ = midori_database_get_last_row_id (_tmp10_);
#line 88 "/home/test/core/core/database.vala"
	_tmp12_ = _tmp11_;
#line 88 "/home/test/core/core/database.vala"
	self->priv->last_row_id = _tmp12_;
#line 89 "/home/test/core/core/database.vala"
	_tmp13_ = _result_;
#line 89 "/home/test/core/core/database.vala"
	result = _tmp13_ == SQLITE_ROW;
#line 89 "/home/test/core/core/database.vala"
	return result;
#line 1371 "database.c"
}


gint64
midori_database_statement_row_id (MidoriDatabaseStatement* self,
                                  GError** error)
{
	gint64 result = 0LL;
	gint64 _tmp0_;
	gint64 _tmp4_;
	GError* _inner_error0_ = NULL;
#line 96 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, 0LL);
#line 97 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->last_row_id;
#line 97 "/home/test/core/core/database.vala"
	if (_tmp0_ == ((gint64) -1)) {
#line 1389 "database.c"
		GError* _tmp1_;
#line 98 "/home/test/core/core/database.vala"
		_tmp1_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_EXECUTE, "No row id");
#line 98 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp1_;
#line 98 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 1397 "database.c"
			gint64 _tmp2_ = -1LL;
#line 98 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 98 "/home/test/core/core/database.vala"
			return _tmp2_;
#line 1403 "database.c"
		} else {
			gint64 _tmp3_ = -1LL;
#line 98 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 98 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 98 "/home/test/core/core/database.vala"
			return _tmp3_;
#line 1412 "database.c"
		}
	}
#line 99 "/home/test/core/core/database.vala"
	_tmp4_ = self->priv->last_row_id;
#line 99 "/home/test/core/core/database.vala"
	result = _tmp4_;
#line 99 "/home/test/core/core/database.vala"
	return result;
#line 1421 "database.c"
}


static gint
midori_database_statement_column_index (MidoriDatabaseStatement* self,
                                        const gchar* name,
                                        GError** error)
{
	gint result = 0;
	const gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	GError* _tmp10_;
	GError* _tmp11_;
	GError* _inner_error0_ = NULL;
#line 102 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 102 "/home/test/core/core/database.vala"
	g_return_val_if_fail (name != NULL, 0);
#line 1441 "database.c"
	{
		gint i = 0;
#line 103 "/home/test/core/core/database.vala"
		i = 0;
#line 1446 "database.c"
		{
			gboolean _tmp0_ = FALSE;
#line 103 "/home/test/core/core/database.vala"
			_tmp0_ = TRUE;
#line 103 "/home/test/core/core/database.vala"
			while (TRUE) {
#line 1453 "database.c"
				gint _tmp2_;
				sqlite3_stmt* _tmp3_;
				sqlite3_stmt* _tmp4_;
				gint _tmp5_;
				const gchar* _tmp6_;
#line 103 "/home/test/core/core/database.vala"
				if (!_tmp0_) {
#line 1461 "database.c"
					gint _tmp1_;
#line 103 "/home/test/core/core/database.vala"
					_tmp1_ = i;
#line 103 "/home/test/core/core/database.vala"
					i = _tmp1_ + 1;
#line 1467 "database.c"
				}
#line 103 "/home/test/core/core/database.vala"
				_tmp0_ = FALSE;
#line 103 "/home/test/core/core/database.vala"
				_tmp2_ = i;
#line 103 "/home/test/core/core/database.vala"
				_tmp3_ = self->priv->stmt;
#line 103 "/home/test/core/core/database.vala"
				if (!(_tmp2_ < sqlite3_column_count (_tmp3_))) {
#line 103 "/home/test/core/core/database.vala"
					break;
#line 1479 "database.c"
				}
#line 104 "/home/test/core/core/database.vala"
				_tmp4_ = self->priv->stmt;
#line 104 "/home/test/core/core/database.vala"
				_tmp5_ = i;
#line 104 "/home/test/core/core/database.vala"
				_tmp6_ = sqlite3_column_name (_tmp4_, _tmp5_);
#line 104 "/home/test/core/core/database.vala"
				if (g_strcmp0 (name, _tmp6_) == 0) {
#line 105 "/home/test/core/core/database.vala"
					result = i;
#line 105 "/home/test/core/core/database.vala"
					return result;
#line 1493 "database.c"
				}
			}
		}
	}
#line 107 "/home/test/core/core/database.vala"
	_tmp7_ = self->priv->_query;
#line 107 "/home/test/core/core/database.vala"
	_tmp8_ = g_strdup_printf ("No such column '%s' in row: %s", name, _tmp7_);
#line 107 "/home/test/core/core/database.vala"
	_tmp9_ = _tmp8_;
#line 107 "/home/test/core/core/database.vala"
	_tmp10_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_TYPE, _tmp9_);
#line 107 "/home/test/core/core/database.vala"
	_tmp11_ = _tmp10_;
#line 107 "/home/test/core/core/database.vala"
	_g_free0 (_tmp9_);
#line 107 "/home/test/core/core/database.vala"
	_inner_error0_ = _tmp11_;
#line 107 "/home/test/core/core/database.vala"
	if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 1514 "database.c"
		gint _tmp12_ = -1;
#line 107 "/home/test/core/core/database.vala"
		g_propagate_error (error, _inner_error0_);
#line 107 "/home/test/core/core/database.vala"
		return _tmp12_;
#line 1520 "database.c"
	} else {
		gint _tmp13_ = -1;
#line 107 "/home/test/core/core/database.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 107 "/home/test/core/core/database.vala"
		g_clear_error (&_inner_error0_);
#line 107 "/home/test/core/core/database.vala"
		return _tmp13_;
#line 1529 "database.c"
	}
}


gchar*
midori_database_statement_get_string (MidoriDatabaseStatement* self,
                                      const gchar* name,
                                      GError** error)
{
	gchar* result = NULL;
	gint index = 0;
	gint type = 0;
	sqlite3_stmt* _tmp0_;
	gint _tmp1_;
	gboolean _tmp2_ = FALSE;
	sqlite3_stmt* _tmp3_;
	gint _tmp4_;
	sqlite3_stmt* _tmp11_;
	gint _tmp12_;
	const gchar* _tmp13_;
	gchar* _tmp14_;
	GError* _inner_error0_ = NULL;
#line 114 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 114 "/home/test/core/core/database.vala"
	g_return_val_if_fail (name != NULL, NULL);
#line 115 "/home/test/core/core/database.vala"
	index = midori_database_statement_column_index (self, name, &_inner_error0_);
#line 115 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 115 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 115 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 115 "/home/test/core/core/database.vala"
			return NULL;
#line 1566 "database.c"
		} else {
#line 115 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 115 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 115 "/home/test/core/core/database.vala"
			return NULL;
#line 1574 "database.c"
		}
	}
#line 116 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->stmt;
#line 116 "/home/test/core/core/database.vala"
	_tmp1_ = index;
#line 116 "/home/test/core/core/database.vala"
	type = sqlite3_column_type (_tmp0_, _tmp1_);
#line 117 "/home/test/core/core/database.vala"
	_tmp3_ = self->priv->stmt;
#line 117 "/home/test/core/core/database.vala"
	_tmp4_ = index;
#line 117 "/home/test/core/core/database.vala"
	if (sqlite3_column_type (_tmp3_, _tmp4_) != SQLITE3_TEXT) {
#line 1589 "database.c"
		gint _tmp5_;
#line 117 "/home/test/core/core/database.vala"
		_tmp5_ = type;
#line 117 "/home/test/core/core/database.vala"
		_tmp2_ = _tmp5_ != SQLITE_NULL;
#line 1595 "database.c"
	} else {
#line 117 "/home/test/core/core/database.vala"
		_tmp2_ = FALSE;
#line 1599 "database.c"
	}
#line 117 "/home/test/core/core/database.vala"
	if (_tmp2_) {
#line 1603 "database.c"
		const gchar* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		GError* _tmp9_;
		GError* _tmp10_;
#line 118 "/home/test/core/core/database.vala"
		_tmp6_ = self->priv->_query;
#line 118 "/home/test/core/core/database.vala"
		_tmp7_ = g_strdup_printf ("Getting '%s' with wrong type in row: %s", name, _tmp6_);
#line 118 "/home/test/core/core/database.vala"
		_tmp8_ = _tmp7_;
#line 118 "/home/test/core/core/database.vala"
		_tmp9_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_TYPE, _tmp8_);
#line 118 "/home/test/core/core/database.vala"
		_tmp10_ = _tmp9_;
#line 118 "/home/test/core/core/database.vala"
		_g_free0 (_tmp8_);
#line 118 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp10_;
#line 118 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 118 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 118 "/home/test/core/core/database.vala"
			return NULL;
#line 1629 "database.c"
		} else {
#line 118 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 118 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 118 "/home/test/core/core/database.vala"
			return NULL;
#line 1637 "database.c"
		}
	}
#line 119 "/home/test/core/core/database.vala"
	_tmp11_ = self->priv->stmt;
#line 119 "/home/test/core/core/database.vala"
	_tmp12_ = index;
#line 119 "/home/test/core/core/database.vala"
	_tmp13_ = (const gchar*) sqlite3_column_text (_tmp11_, _tmp12_);
#line 119 "/home/test/core/core/database.vala"
	_tmp14_ = g_strdup (_tmp13_);
#line 119 "/home/test/core/core/database.vala"
	result = _tmp14_;
#line 119 "/home/test/core/core/database.vala"
	return result;
#line 1652 "database.c"
}


gint64
midori_database_statement_get_int64 (MidoriDatabaseStatement* self,
                                     const gchar* name,
                                     GError** error)
{
	gint64 result = 0LL;
	gint index = 0;
	gint type = 0;
	sqlite3_stmt* _tmp2_;
	gint _tmp3_;
	gboolean _tmp4_ = FALSE;
	gint _tmp5_;
	sqlite3_stmt* _tmp18_;
	gint _tmp19_;
	GError* _inner_error0_ = NULL;
#line 126 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, 0LL);
#line 126 "/home/test/core/core/database.vala"
	g_return_val_if_fail (name != NULL, 0LL);
#line 127 "/home/test/core/core/database.vala"
	index = midori_database_statement_column_index (self, name, &_inner_error0_);
#line 127 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 127 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 1681 "database.c"
			gint64 _tmp0_ = -1LL;
#line 127 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 127 "/home/test/core/core/database.vala"
			return _tmp0_;
#line 1687 "database.c"
		} else {
			gint64 _tmp1_ = -1LL;
#line 127 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 127 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 127 "/home/test/core/core/database.vala"
			return _tmp1_;
#line 1696 "database.c"
		}
	}
#line 128 "/home/test/core/core/database.vala"
	_tmp2_ = self->priv->stmt;
#line 128 "/home/test/core/core/database.vala"
	_tmp3_ = index;
#line 128 "/home/test/core/core/database.vala"
	type = sqlite3_column_type (_tmp2_, _tmp3_);
#line 129 "/home/test/core/core/database.vala"
	_tmp5_ = type;
#line 129 "/home/test/core/core/database.vala"
	if (_tmp5_ != SQLITE_INTEGER) {
#line 1709 "database.c"
		gint _tmp6_;
#line 129 "/home/test/core/core/database.vala"
		_tmp6_ = type;
#line 129 "/home/test/core/core/database.vala"
		_tmp4_ = _tmp6_ != SQLITE_NULL;
#line 1715 "database.c"
	} else {
#line 129 "/home/test/core/core/database.vala"
		_tmp4_ = FALSE;
#line 1719 "database.c"
	}
#line 129 "/home/test/core/core/database.vala"
	if (_tmp4_) {
#line 1723 "database.c"
		sqlite3_stmt* _tmp7_;
		gint _tmp8_;
		const gchar* _tmp9_;
		gint _tmp10_;
		const gchar* _tmp11_;
		gchar* _tmp12_;
		gchar* _tmp13_;
		GError* _tmp14_;
		GError* _tmp15_;
#line 130 "/home/test/core/core/database.vala"
		_tmp7_ = self->priv->stmt;
#line 130 "/home/test/core/core/database.vala"
		_tmp8_ = index;
#line 130 "/home/test/core/core/database.vala"
		_tmp9_ = (const gchar*) sqlite3_column_text (_tmp7_, _tmp8_);
#line 130 "/home/test/core/core/database.vala"
		_tmp10_ = type;
#line 130 "/home/test/core/core/database.vala"
		_tmp11_ = self->priv->_query;
#line 130 "/home/test/core/core/database.vala"
		_tmp12_ = g_strdup_printf ("Getting '%s' with value '%s' of wrong type %d in row: %s", name, _tmp9_, _tmp10_, _tmp11_);
#line 130 "/home/test/core/core/database.vala"
		_tmp13_ = _tmp12_;
#line 130 "/home/test/core/core/database.vala"
		_tmp14_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_TYPE, _tmp13_);
#line 130 "/home/test/core/core/database.vala"
		_tmp15_ = _tmp14_;
#line 130 "/home/test/core/core/database.vala"
		_g_free0 (_tmp13_);
#line 130 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp15_;
#line 130 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 1757 "database.c"
			gint64 _tmp16_ = -1LL;
#line 130 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 130 "/home/test/core/core/database.vala"
			return _tmp16_;
#line 1763 "database.c"
		} else {
			gint64 _tmp17_ = -1LL;
#line 130 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 130 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 130 "/home/test/core/core/database.vala"
			return _tmp17_;
#line 1772 "database.c"
		}
	}
#line 132 "/home/test/core/core/database.vala"
	_tmp18_ = self->priv->stmt;
#line 132 "/home/test/core/core/database.vala"
	_tmp19_ = index;
#line 132 "/home/test/core/core/database.vala"
	result = sqlite3_column_int64 (_tmp18_, _tmp19_);
#line 132 "/home/test/core/core/database.vala"
	return result;
#line 1783 "database.c"
}


gdouble
midori_database_statement_get_double (MidoriDatabaseStatement* self,
                                      const gchar* name,
                                      GError** error)
{
	gdouble result = 0.0;
	gint index = 0;
	gint type = 0;
	sqlite3_stmt* _tmp2_;
	gint _tmp3_;
	gboolean _tmp4_ = FALSE;
	gint _tmp5_;
	gdouble _tmp14_ = 0.0;
	gint _tmp15_;
	GError* _inner_error0_ = NULL;
#line 139 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, 0.0);
#line 139 "/home/test/core/core/database.vala"
	g_return_val_if_fail (name != NULL, 0.0);
#line 140 "/home/test/core/core/database.vala"
	index = midori_database_statement_column_index (self, name, &_inner_error0_);
#line 140 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 140 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 1812 "database.c"
			gdouble _tmp0_ = -1.0;
#line 140 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 140 "/home/test/core/core/database.vala"
			return _tmp0_;
#line 1818 "database.c"
		} else {
			gdouble _tmp1_ = -1.0;
#line 140 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 140 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 140 "/home/test/core/core/database.vala"
			return _tmp1_;
#line 1827 "database.c"
		}
	}
#line 141 "/home/test/core/core/database.vala"
	_tmp2_ = self->priv->stmt;
#line 141 "/home/test/core/core/database.vala"
	_tmp3_ = index;
#line 141 "/home/test/core/core/database.vala"
	type = sqlite3_column_type (_tmp2_, _tmp3_);
#line 142 "/home/test/core/core/database.vala"
	_tmp5_ = type;
#line 142 "/home/test/core/core/database.vala"
	if (_tmp5_ != SQLITE_FLOAT) {
#line 1840 "database.c"
		gint _tmp6_;
#line 142 "/home/test/core/core/database.vala"
		_tmp6_ = type;
#line 142 "/home/test/core/core/database.vala"
		_tmp4_ = _tmp6_ != SQLITE_NULL;
#line 1846 "database.c"
	} else {
#line 142 "/home/test/core/core/database.vala"
		_tmp4_ = FALSE;
#line 1850 "database.c"
	}
#line 142 "/home/test/core/core/database.vala"
	if (_tmp4_) {
#line 1854 "database.c"
		const gchar* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		GError* _tmp10_;
		GError* _tmp11_;
#line 143 "/home/test/core/core/database.vala"
		_tmp7_ = self->priv->_query;
#line 143 "/home/test/core/core/database.vala"
		_tmp8_ = g_strdup_printf ("Getting '%s' with wrong type in row: %s", name, _tmp7_);
#line 143 "/home/test/core/core/database.vala"
		_tmp9_ = _tmp8_;
#line 143 "/home/test/core/core/database.vala"
		_tmp10_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_TYPE, _tmp9_);
#line 143 "/home/test/core/core/database.vala"
		_tmp11_ = _tmp10_;
#line 143 "/home/test/core/core/database.vala"
		_g_free0 (_tmp9_);
#line 143 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp11_;
#line 143 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 1876 "database.c"
			gdouble _tmp12_ = -1.0;
#line 143 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 143 "/home/test/core/core/database.vala"
			return _tmp12_;
#line 1882 "database.c"
		} else {
			gdouble _tmp13_ = -1.0;
#line 143 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 143 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 143 "/home/test/core/core/database.vala"
			return _tmp13_;
#line 1891 "database.c"
		}
	}
#line 144 "/home/test/core/core/database.vala"
	_tmp15_ = type;
#line 144 "/home/test/core/core/database.vala"
	if (_tmp15_ == SQLITE_NULL) {
#line 144 "/home/test/core/core/database.vala"
		_tmp14_ = ((double) NAN);
#line 1900 "database.c"
	} else {
		sqlite3_stmt* _tmp16_;
		gint _tmp17_;
#line 144 "/home/test/core/core/database.vala"
		_tmp16_ = self->priv->stmt;
#line 144 "/home/test/core/core/database.vala"
		_tmp17_ = index;
#line 144 "/home/test/core/core/database.vala"
		_tmp14_ = sqlite3_column_double (_tmp16_, _tmp17_);
#line 1910 "database.c"
	}
#line 144 "/home/test/core/core/database.vala"
	result = _tmp14_;
#line 144 "/home/test/core/core/database.vala"
	return result;
#line 1916 "database.c"
}


MidoriDatabase*
midori_database_statement_get_database (MidoriDatabaseStatement* self)
{
	MidoriDatabase* result;
	MidoriDatabase* _tmp0_;
#line 28 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 28 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_database;
#line 28 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 28 "/home/test/core/core/database.vala"
	return result;
#line 1933 "database.c"
}


static gpointer
_g_object_ref0 (gpointer self)
{
#line 28 "/home/test/core/core/database.vala"
	return self ? g_object_ref (self) : NULL;
#line 1942 "database.c"
}


void
midori_database_statement_set_database (MidoriDatabaseStatement* self,
                                        MidoriDatabase* value)
{
#line 28 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 28 "/home/test/core/core/database.vala"
	if (midori_database_statement_get_database (self) != value) {
#line 1954 "database.c"
		MidoriDatabase* _tmp0_;
#line 28 "/home/test/core/core/database.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 28 "/home/test/core/core/database.vala"
		_g_object_unref0 (self->priv->_database);
#line 28 "/home/test/core/core/database.vala"
		self->priv->_database = _tmp0_;
#line 28 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_statement_properties[MIDORI_DATABASE_STATEMENT_DATABASE_PROPERTY]);
#line 1964 "database.c"
	}
}


const gchar*
midori_database_statement_get_query (MidoriDatabaseStatement* self)
{
	const gchar* result;
	const gchar* _tmp0_;
#line 29 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 29 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_query;
#line 29 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 29 "/home/test/core/core/database.vala"
	return result;
#line 1982 "database.c"
}


void
midori_database_statement_set_query (MidoriDatabaseStatement* self,
                                     const gchar* value)
{
#line 29 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 29 "/home/test/core/core/database.vala"
	if (g_strcmp0 (value, midori_database_statement_get_query (self)) != 0) {
#line 1994 "database.c"
		gchar* _tmp0_;
#line 29 "/home/test/core/core/database.vala"
		_tmp0_ = g_strdup (value);
#line 29 "/home/test/core/core/database.vala"
		_g_free0 (self->priv->_query);
#line 29 "/home/test/core/core/database.vala"
		self->priv->_query = _tmp0_;
#line 29 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_statement_properties[MIDORI_DATABASE_STATEMENT_QUERY_PROPERTY]);
#line 2004 "database.c"
	}
}


static void
midori_database_statement_class_init (MidoriDatabaseStatementClass * klass)
{
#line 24 "/home/test/core/core/database.vala"
	midori_database_statement_parent_class = g_type_class_peek_parent (klass);
#line 24 "/home/test/core/core/database.vala"
	g_type_class_add_private (klass, sizeof (MidoriDatabaseStatementPrivate));
#line 24 "/home/test/core/core/database.vala"
	((MidoriDatabaseStatementClass *) klass)->init = (gboolean (*) (MidoriDatabaseStatement*, GCancellable*, GError**)) midori_database_statement_real_init;
#line 24 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_midori_database_statement_get_property;
#line 24 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_midori_database_statement_set_property;
#line 24 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (klass)->finalize = midori_database_statement_finalize;
#line 24 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_STATEMENT_DATABASE_PROPERTY, midori_database_statement_properties[MIDORI_DATABASE_STATEMENT_DATABASE_PROPERTY] = g_param_spec_object ("database", "database", "database", MIDORI_TYPE_DATABASE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 24 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_STATEMENT_QUERY_PROPERTY, midori_database_statement_properties[MIDORI_DATABASE_STATEMENT_QUERY_PROPERTY] = g_param_spec_string ("query", "query", "query", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 2028 "database.c"
}


static void
midori_database_statement_g_initable_interface_init (GInitableIface * iface)
{
#line 24 "/home/test/core/core/database.vala"
	midori_database_statement_g_initable_parent_iface = g_type_interface_peek_parent (iface);
#line 24 "/home/test/core/core/database.vala"
	iface->init = (gboolean (*) (GInitable*, GCancellable*, GError**)) midori_database_statement_init;
#line 2039 "database.c"
}


static void
midori_database_statement_instance_init (MidoriDatabaseStatement * self)
{
#line 24 "/home/test/core/core/database.vala"
	self->priv = MIDORI_DATABASE_STATEMENT_GET_PRIVATE (self);
#line 25 "/home/test/core/core/database.vala"
	self->priv->stmt = NULL;
#line 26 "/home/test/core/core/database.vala"
	self->priv->last_row_id = (gint64) -1;
#line 2052 "database.c"
}


static void
midori_database_statement_finalize (GObject * obj)
{
	MidoriDatabaseStatement * self;
#line 24 "/home/test/core/core/database.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MIDORI_TYPE_DATABASE_STATEMENT, MidoriDatabaseStatement);
#line 25 "/home/test/core/core/database.vala"
	_sqlite3_finalize0 (self->priv->stmt);
#line 28 "/home/test/core/core/database.vala"
	_g_object_unref0 (self->priv->_database);
#line 29 "/home/test/core/core/database.vala"
	_g_free0 (self->priv->_query);
#line 24 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (midori_database_statement_parent_class)->finalize (obj);
#line 2070 "database.c"
}


GType
midori_database_statement_get_type (void)
{
	static volatile gsize midori_database_statement_type_id__volatile = 0;
	if (g_once_init_enter (&midori_database_statement_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MidoriDatabaseStatementClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) midori_database_statement_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MidoriDatabaseStatement), 0, (GInstanceInitFunc) midori_database_statement_instance_init, NULL };
		static const GInterfaceInfo g_initable_info = { (GInterfaceInitFunc) midori_database_statement_g_initable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		GType midori_database_statement_type_id;
		midori_database_statement_type_id = g_type_register_static (G_TYPE_OBJECT, "MidoriDatabaseStatement", &g_define_type_info, 0);
		g_type_add_interface_static (midori_database_statement_type_id, g_initable_get_type (), &g_initable_info);
		g_once_init_leave (&midori_database_statement_type_id__volatile, midori_database_statement_type_id);
	}
	return midori_database_statement_type_id__volatile;
}


static void
_vala_midori_database_statement_get_property (GObject * object,
                                              guint property_id,
                                              GValue * value,
                                              GParamSpec * pspec)
{
	MidoriDatabaseStatement * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MIDORI_TYPE_DATABASE_STATEMENT, MidoriDatabaseStatement);
#line 24 "/home/test/core/core/database.vala"
	switch (property_id) {
#line 24 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_STATEMENT_DATABASE_PROPERTY:
#line 24 "/home/test/core/core/database.vala"
		g_value_set_object (value, midori_database_statement_get_database (self));
#line 24 "/home/test/core/core/database.vala"
		break;
#line 24 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_STATEMENT_QUERY_PROPERTY:
#line 24 "/home/test/core/core/database.vala"
		g_value_set_string (value, midori_database_statement_get_query (self));
#line 24 "/home/test/core/core/database.vala"
		break;
#line 2112 "database.c"
		default:
#line 24 "/home/test/core/core/database.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 24 "/home/test/core/core/database.vala"
		break;
#line 2118 "database.c"
	}
}


static void
_vala_midori_database_statement_set_property (GObject * object,
                                              guint property_id,
                                              const GValue * value,
                                              GParamSpec * pspec)
{
	MidoriDatabaseStatement * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MIDORI_TYPE_DATABASE_STATEMENT, MidoriDatabaseStatement);
#line 24 "/home/test/core/core/database.vala"
	switch (property_id) {
#line 24 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_STATEMENT_DATABASE_PROPERTY:
#line 24 "/home/test/core/core/database.vala"
		midori_database_statement_set_database (self, g_value_get_object (value));
#line 24 "/home/test/core/core/database.vala"
		break;
#line 24 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_STATEMENT_QUERY_PROPERTY:
#line 24 "/home/test/core/core/database.vala"
		midori_database_statement_set_query (self, g_value_get_string (value));
#line 24 "/home/test/core/core/database.vala"
		break;
#line 2145 "database.c"
		default:
#line 24 "/home/test/core/core/database.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 24 "/home/test/core/core/database.vala"
		break;
#line 2151 "database.c"
	}
}


static void
__lambda8_ (MidoriDatabaseItem* self,
            GParamSpec* pspec)
{
	MidoriDatabase* _tmp0_;
#line 159 "/home/test/core/core/database.vala"
	g_return_if_fail (pspec != NULL);
#line 160 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_database;
#line 160 "/home/test/core/core/database.vala"
	if (_tmp0_ != NULL) {
#line 2167 "database.c"
		MidoriDatabase* _tmp1_;
#line 161 "/home/test/core/core/database.vala"
		_tmp1_ = self->priv->_database;
#line 161 "/home/test/core/core/database.vala"
		midori_database_update (_tmp1_, self, NULL, NULL);
#line 2173 "database.c"
	}
}


static void
___lambda8__g_object_notify (GObject* _sender,
                             GParamSpec* pspec,
                             gpointer self)
{
#line 159 "/home/test/core/core/database.vala"
	__lambda8_ ((MidoriDatabaseItem*) self, pspec);
#line 2185 "database.c"
}


MidoriDatabaseItem*
midori_database_item_construct (GType object_type,
                                const gchar* uri,
                                const gchar* title,
                                gint64 date)
{
	MidoriDatabaseItem * self = NULL;
#line 155 "/home/test/core/core/database.vala"
	g_return_val_if_fail (uri != NULL, NULL);
#line 156 "/home/test/core/core/database.vala"
	self = (MidoriDatabaseItem*) g_object_new (object_type, "uri", uri, "title", title, "date", date, NULL);
#line 159 "/home/test/core/core/database.vala"
	g_signal_connect_object ((GObject*) self, "notify::title", (GCallback) ___lambda8__g_object_notify, self, 0);
#line 155 "/home/test/core/core/database.vala"
	return self;
#line 2204 "database.c"
}


MidoriDatabaseItem*
midori_database_item_new (const gchar* uri,
                          const gchar* title,
                          gint64 date)
{
#line 155 "/home/test/core/core/database.vala"
	return midori_database_item_construct (MIDORI_TYPE_DATABASE_ITEM, uri, title, date);
#line 2215 "database.c"
}


static void
midori_database_item_delete_data_free (gpointer _data)
{
	MidoriDatabaseItemDeleteData* _data_;
	_data_ = _data;
#line 148 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->self);
#line 148 "/home/test/core/core/database.vala"
	g_slice_free (MidoriDatabaseItemDeleteData, _data_);
#line 2228 "database.c"
}


void
midori_database_item_delete (MidoriDatabaseItem* self,
                             GAsyncReadyCallback _callback_,
                             gpointer _user_data_)
{
	MidoriDatabaseItemDeleteData* _data_;
	MidoriDatabaseItem* _tmp0_;
#line 148 "/home/test/core/core/database.vala"
	_data_ = g_slice_new0 (MidoriDatabaseItemDeleteData);
#line 148 "/home/test/core/core/database.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 148 "/home/test/core/core/database.vala"
	g_task_set_task_data (_data_->_async_result, _data_, midori_database_item_delete_data_free);
#line 148 "/home/test/core/core/database.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 148 "/home/test/core/core/database.vala"
	_data_->self = _tmp0_;
#line 148 "/home/test/core/core/database.vala"
	midori_database_item_delete_co (_data_);
#line 2251 "database.c"
}


gboolean
midori_database_item_delete_finish (MidoriDatabaseItem* self,
                                    GAsyncResult* _res_)
{
	gboolean result;
	MidoriDatabaseItemDeleteData* _data_;
#line 148 "/home/test/core/core/database.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 148 "/home/test/core/core/database.vala"
	result = _data_->result;
#line 148 "/home/test/core/core/database.vala"
	return result;
#line 2267 "database.c"
}


static void
midori_database_item_delete_ready (GObject* source_object,
                                   GAsyncResult* _res_,
                                   gpointer _user_data_)
{
	MidoriDatabaseItemDeleteData* _data_;
#line 172 "/home/test/core/core/database.vala"
	_data_ = _user_data_;
#line 172 "/home/test/core/core/database.vala"
	_data_->_source_object_ = source_object;
#line 172 "/home/test/core/core/database.vala"
	_data_->_res_ = _res_;
#line 172 "/home/test/core/core/database.vala"
	midori_database_item_delete_co (_data_);
#line 2285 "database.c"
}


static gboolean
midori_database_item_delete_co (MidoriDatabaseItemDeleteData* _data_)
{
#line 169 "/home/test/core/core/database.vala"
	switch (_data_->_state_) {
#line 169 "/home/test/core/core/database.vala"
		case 0:
#line 2296 "database.c"
		goto _state_0;
#line 169 "/home/test/core/core/database.vala"
		case 1:
#line 2300 "database.c"
		goto _state_1;
		default:
#line 169 "/home/test/core/core/database.vala"
		g_assert_not_reached ();
#line 2305 "database.c"
	}
	_state_0:
#line 170 "/home/test/core/core/database.vala"
	_data_->_tmp0_ = _data_->self->priv->_database;
#line 170 "/home/test/core/core/database.vala"
	if (_data_->_tmp0_ != NULL) {
#line 2312 "database.c"
		{
#line 172 "/home/test/core/core/database.vala"
			_data_->_tmp2_ = _data_->self->priv->_database;
#line 172 "/home/test/core/core/database.vala"
			_data_->_state_ = 1;
#line 172 "/home/test/core/core/database.vala"
			midori_database_delete (_data_->_tmp2_, _data_->self, midori_database_item_delete_ready, _data_);
#line 172 "/home/test/core/core/database.vala"
			return FALSE;
#line 2322 "database.c"
			_state_1:
#line 172 "/home/test/core/core/database.vala"
			_data_->_tmp1_ = midori_database_delete_finish (_data_->_tmp2_, _data_->_res_, &_data_->_inner_error0_);
#line 172 "/home/test/core/core/database.vala"
			if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 172 "/home/test/core/core/database.vala"
				if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 2330 "database.c"
					goto __catch14_midori_database_error;
				}
#line 172 "/home/test/core/core/database.vala"
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 172 "/home/test/core/core/database.vala"
				g_clear_error (&_data_->_inner_error0_);
#line 172 "/home/test/core/core/database.vala"
				g_object_unref (_data_->_async_result);
#line 172 "/home/test/core/core/database.vala"
				return FALSE;
#line 2341 "database.c"
			}
#line 172 "/home/test/core/core/database.vala"
			_data_->result = _data_->_tmp1_;
#line 172 "/home/test/core/core/database.vala"
			g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 172 "/home/test/core/core/database.vala"
			if (_data_->_state_ != 0) {
#line 172 "/home/test/core/core/database.vala"
				while (!g_task_get_completed (_data_->_async_result)) {
#line 172 "/home/test/core/core/database.vala"
					g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 2353 "database.c"
				}
			}
#line 172 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 172 "/home/test/core/core/database.vala"
			return FALSE;
#line 2360 "database.c"
		}
		goto __finally14;
		__catch14_midori_database_error:
		{
#line 171 "/home/test/core/core/database.vala"
			_data_->_error_ = _data_->_inner_error0_;
#line 171 "/home/test/core/core/database.vala"
			_data_->_inner_error0_ = NULL;
#line 174 "/home/test/core/core/database.vala"
			_data_->_tmp3_ = _data_->self->priv->_uri;
#line 174 "/home/test/core/core/database.vala"
			_data_->_tmp4_ = _data_->_error_;
#line 174 "/home/test/core/core/database.vala"
			_data_->_tmp5_ = _data_->_tmp4_->message;
#line 174 "/home/test/core/core/database.vala"
			g_critical ("database.vala:174: Failed to delete %s: %s", _data_->_tmp3_, _data_->_tmp5_);
#line 171 "/home/test/core/core/database.vala"
			_g_error_free0 (_data_->_error_);
#line 2379 "database.c"
		}
		__finally14:
#line 171 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 171 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 171 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 171 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 171 "/home/test/core/core/database.vala"
			return FALSE;
#line 2392 "database.c"
		}
	}
#line 177 "/home/test/core/core/database.vala"
	_data_->result = FALSE;
#line 177 "/home/test/core/core/database.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 177 "/home/test/core/core/database.vala"
	if (_data_->_state_ != 0) {
#line 177 "/home/test/core/core/database.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 177 "/home/test/core/core/database.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 2405 "database.c"
		}
	}
#line 177 "/home/test/core/core/database.vala"
	g_object_unref (_data_->_async_result);
#line 177 "/home/test/core/core/database.vala"
	return FALSE;
#line 2412 "database.c"
}


MidoriDatabase*
midori_database_item_get_database (MidoriDatabaseItem* self)
{
	MidoriDatabase* result;
	MidoriDatabase* _tmp0_;
#line 149 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 149 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_database;
#line 149 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 149 "/home/test/core/core/database.vala"
	return result;
#line 2429 "database.c"
}


void
midori_database_item_set_database (MidoriDatabaseItem* self,
                                   MidoriDatabase* value)
{
#line 149 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 149 "/home/test/core/core/database.vala"
	if (midori_database_item_get_database (self) != value) {
#line 2441 "database.c"
		MidoriDatabase* _tmp0_;
#line 149 "/home/test/core/core/database.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 149 "/home/test/core/core/database.vala"
		_g_object_unref0 (self->priv->_database);
#line 149 "/home/test/core/core/database.vala"
		self->priv->_database = _tmp0_;
#line 149 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_item_properties[MIDORI_DATABASE_ITEM_DATABASE_PROPERTY]);
#line 2451 "database.c"
	}
}


gint64
midori_database_item_get_id (MidoriDatabaseItem* self)
{
	gint64 result;
	gint64 _tmp0_;
#line 150 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, 0LL);
#line 150 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_id;
#line 150 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 150 "/home/test/core/core/database.vala"
	return result;
#line 2469 "database.c"
}


void
midori_database_item_set_id (MidoriDatabaseItem* self,
                             gint64 value)
{
#line 150 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 150 "/home/test/core/core/database.vala"
	if (midori_database_item_get_id (self) != value) {
#line 150 "/home/test/core/core/database.vala"
		self->priv->_id = value;
#line 150 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_item_properties[MIDORI_DATABASE_ITEM_ID_PROPERTY]);
#line 2485 "database.c"
	}
}


const gchar*
midori_database_item_get_uri (MidoriDatabaseItem* self)
{
	const gchar* result;
	const gchar* _tmp0_;
#line 151 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 151 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_uri;
#line 151 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 151 "/home/test/core/core/database.vala"
	return result;
#line 2503 "database.c"
}


void
midori_database_item_set_uri (MidoriDatabaseItem* self,
                              const gchar* value)
{
#line 151 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 151 "/home/test/core/core/database.vala"
	if (g_strcmp0 (value, midori_database_item_get_uri (self)) != 0) {
#line 2515 "database.c"
		gchar* _tmp0_;
#line 151 "/home/test/core/core/database.vala"
		_tmp0_ = g_strdup (value);
#line 151 "/home/test/core/core/database.vala"
		_g_free0 (self->priv->_uri);
#line 151 "/home/test/core/core/database.vala"
		self->priv->_uri = _tmp0_;
#line 151 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_item_properties[MIDORI_DATABASE_ITEM_URI_PROPERTY]);
#line 2525 "database.c"
	}
}


const gchar*
midori_database_item_get_title (MidoriDatabaseItem* self)
{
	const gchar* result;
	const gchar* _tmp0_;
#line 152 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 152 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_title;
#line 152 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 152 "/home/test/core/core/database.vala"
	return result;
#line 2543 "database.c"
}


void
midori_database_item_set_title (MidoriDatabaseItem* self,
                                const gchar* value)
{
#line 152 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 152 "/home/test/core/core/database.vala"
	if (g_strcmp0 (value, midori_database_item_get_title (self)) != 0) {
#line 2555 "database.c"
		gchar* _tmp0_;
#line 152 "/home/test/core/core/database.vala"
		_tmp0_ = g_strdup (value);
#line 152 "/home/test/core/core/database.vala"
		_g_free0 (self->priv->_title);
#line 152 "/home/test/core/core/database.vala"
		self->priv->_title = _tmp0_;
#line 152 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_item_properties[MIDORI_DATABASE_ITEM_TITLE_PROPERTY]);
#line 2565 "database.c"
	}
}


gint64
midori_database_item_get_date (MidoriDatabaseItem* self)
{
	gint64 result;
	gint64 _tmp0_;
#line 153 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, 0LL);
#line 153 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_date;
#line 153 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 153 "/home/test/core/core/database.vala"
	return result;
#line 2583 "database.c"
}


void
midori_database_item_set_date (MidoriDatabaseItem* self,
                               gint64 value)
{
#line 153 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 153 "/home/test/core/core/database.vala"
	if (midori_database_item_get_date (self) != value) {
#line 153 "/home/test/core/core/database.vala"
		self->priv->_date = value;
#line 153 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_item_properties[MIDORI_DATABASE_ITEM_DATE_PROPERTY]);
#line 2599 "database.c"
	}
}


static void
midori_database_item_class_init (MidoriDatabaseItemClass * klass)
{
#line 148 "/home/test/core/core/database.vala"
	midori_database_item_parent_class = g_type_class_peek_parent (klass);
#line 148 "/home/test/core/core/database.vala"
	g_type_class_add_private (klass, sizeof (MidoriDatabaseItemPrivate));
#line 148 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_midori_database_item_get_property;
#line 148 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_midori_database_item_set_property;
#line 148 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (klass)->finalize = midori_database_item_finalize;
#line 148 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_ITEM_DATABASE_PROPERTY, midori_database_item_properties[MIDORI_DATABASE_ITEM_DATABASE_PROPERTY] = g_param_spec_object ("database", "database", "database", MIDORI_TYPE_DATABASE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 148 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_ITEM_ID_PROPERTY, midori_database_item_properties[MIDORI_DATABASE_ITEM_ID_PROPERTY] = g_param_spec_int64 ("id", "id", "id", G_MININT64, G_MAXINT64, 0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 148 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_ITEM_URI_PROPERTY, midori_database_item_properties[MIDORI_DATABASE_ITEM_URI_PROPERTY] = g_param_spec_string ("uri", "uri", "uri", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 148 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_ITEM_TITLE_PROPERTY, midori_database_item_properties[MIDORI_DATABASE_ITEM_TITLE_PROPERTY] = g_param_spec_string ("title", "title", "title", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 148 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_ITEM_DATE_PROPERTY, midori_database_item_properties[MIDORI_DATABASE_ITEM_DATE_PROPERTY] = g_param_spec_int64 ("date", "date", "date", G_MININT64, G_MAXINT64, 0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 2627 "database.c"
}


static void
midori_database_item_instance_init (MidoriDatabaseItem * self)
{
#line 148 "/home/test/core/core/database.vala"
	self->priv = MIDORI_DATABASE_ITEM_GET_PRIVATE (self);
#line 2636 "database.c"
}


static void
midori_database_item_finalize (GObject * obj)
{
	MidoriDatabaseItem * self;
#line 148 "/home/test/core/core/database.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MIDORI_TYPE_DATABASE_ITEM, MidoriDatabaseItem);
#line 149 "/home/test/core/core/database.vala"
	_g_object_unref0 (self->priv->_database);
#line 151 "/home/test/core/core/database.vala"
	_g_free0 (self->priv->_uri);
#line 152 "/home/test/core/core/database.vala"
	_g_free0 (self->priv->_title);
#line 148 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (midori_database_item_parent_class)->finalize (obj);
#line 2654 "database.c"
}


GType
midori_database_item_get_type (void)
{
	static volatile gsize midori_database_item_type_id__volatile = 0;
	if (g_once_init_enter (&midori_database_item_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MidoriDatabaseItemClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) midori_database_item_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MidoriDatabaseItem), 0, (GInstanceInitFunc) midori_database_item_instance_init, NULL };
		GType midori_database_item_type_id;
		midori_database_item_type_id = g_type_register_static (G_TYPE_OBJECT, "MidoriDatabaseItem", &g_define_type_info, 0);
		g_once_init_leave (&midori_database_item_type_id__volatile, midori_database_item_type_id);
	}
	return midori_database_item_type_id__volatile;
}


static void
_vala_midori_database_item_get_property (GObject * object,
                                         guint property_id,
                                         GValue * value,
                                         GParamSpec * pspec)
{
	MidoriDatabaseItem * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MIDORI_TYPE_DATABASE_ITEM, MidoriDatabaseItem);
#line 148 "/home/test/core/core/database.vala"
	switch (property_id) {
#line 148 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_ITEM_DATABASE_PROPERTY:
#line 148 "/home/test/core/core/database.vala"
		g_value_set_object (value, midori_database_item_get_database (self));
#line 148 "/home/test/core/core/database.vala"
		break;
#line 148 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_ITEM_ID_PROPERTY:
#line 148 "/home/test/core/core/database.vala"
		g_value_set_int64 (value, midori_database_item_get_id (self));
#line 148 "/home/test/core/core/database.vala"
		break;
#line 148 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_ITEM_URI_PROPERTY:
#line 148 "/home/test/core/core/database.vala"
		g_value_set_string (value, midori_database_item_get_uri (self));
#line 148 "/home/test/core/core/database.vala"
		break;
#line 148 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_ITEM_TITLE_PROPERTY:
#line 148 "/home/test/core/core/database.vala"
		g_value_set_string (value, midori_database_item_get_title (self));
#line 148 "/home/test/core/core/database.vala"
		break;
#line 148 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_ITEM_DATE_PROPERTY:
#line 148 "/home/test/core/core/database.vala"
		g_value_set_int64 (value, midori_database_item_get_date (self));
#line 148 "/home/test/core/core/database.vala"
		break;
#line 2712 "database.c"
		default:
#line 148 "/home/test/core/core/database.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 148 "/home/test/core/core/database.vala"
		break;
#line 2718 "database.c"
	}
}


static void
_vala_midori_database_item_set_property (GObject * object,
                                         guint property_id,
                                         const GValue * value,
                                         GParamSpec * pspec)
{
	MidoriDatabaseItem * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MIDORI_TYPE_DATABASE_ITEM, MidoriDatabaseItem);
#line 148 "/home/test/core/core/database.vala"
	switch (property_id) {
#line 148 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_ITEM_DATABASE_PROPERTY:
#line 148 "/home/test/core/core/database.vala"
		midori_database_item_set_database (self, g_value_get_object (value));
#line 148 "/home/test/core/core/database.vala"
		break;
#line 148 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_ITEM_ID_PROPERTY:
#line 148 "/home/test/core/core/database.vala"
		midori_database_item_set_id (self, g_value_get_int64 (value));
#line 148 "/home/test/core/core/database.vala"
		break;
#line 148 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_ITEM_URI_PROPERTY:
#line 148 "/home/test/core/core/database.vala"
		midori_database_item_set_uri (self, g_value_get_string (value));
#line 148 "/home/test/core/core/database.vala"
		break;
#line 148 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_ITEM_TITLE_PROPERTY:
#line 148 "/home/test/core/core/database.vala"
		midori_database_item_set_title (self, g_value_get_string (value));
#line 148 "/home/test/core/core/database.vala"
		break;
#line 148 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_ITEM_DATE_PROPERTY:
#line 148 "/home/test/core/core/database.vala"
		midori_database_item_set_date (self, g_value_get_int64 (value));
#line 148 "/home/test/core/core/database.vala"
		break;
#line 2763 "database.c"
		default:
#line 148 "/home/test/core/core/database.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 148 "/home/test/core/core/database.vala"
		break;
#line 2769 "database.c"
	}
}


static void
_g_object_unref0_ (gpointer var)
{
#line 571 "/home/test/core/core/database.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 2779 "database.c"
}


static inline void
_g_list_free__g_object_unref0_ (GList* self)
{
#line 571 "/home/test/core/core/database.vala"
	g_list_free_full (self, (GDestroyNotify) _g_object_unref0_);
#line 2788 "database.c"
}


MidoriDatabase*
midori_database_construct (GType object_type,
                           const gchar* path,
                           GError** error)
{
	MidoriDatabase * self = NULL;
	GError* _inner_error0_ = NULL;
#line 224 "/home/test/core/core/database.vala"
	g_return_val_if_fail (path != NULL, NULL);
#line 225 "/home/test/core/core/database.vala"
	self = (MidoriDatabase*) g_object_new (object_type, "path", path, NULL);
#line 226 "/home/test/core/core/database.vala"
	midori_database_init (self, NULL, &_inner_error0_);
#line 226 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 226 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 226 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 226 "/home/test/core/core/database.vala"
			_g_object_unref0 (self);
#line 226 "/home/test/core/core/database.vala"
			return NULL;
#line 2815 "database.c"
		} else {
#line 226 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 226 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 226 "/home/test/core/core/database.vala"
			return NULL;
#line 2823 "database.c"
		}
	}
#line 224 "/home/test/core/core/database.vala"
	return self;
#line 2828 "database.c"
}


MidoriDatabase*
midori_database_new (const gchar* path,
                     GError** error)
{
#line 224 "/home/test/core/core/database.vala"
	return midori_database_construct (MIDORI_TYPE_DATABASE, path, error);
#line 2838 "database.c"
}


static gchar*
midori_database_resolve_path (MidoriDatabase* self,
                              const gchar* path)
{
	gchar* result = NULL;
	gchar* _tmp3_;
#line 229 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 229 "/home/test/core/core/database.vala"
	g_return_val_if_fail (path != NULL, NULL);
#line 230 "/home/test/core/core/database.vala"
	if (g_str_has_prefix (path, ":memory:")) {
#line 2854 "database.c"
		gchar* _tmp0_;
#line 231 "/home/test/core/core/database.vala"
		_tmp0_ = g_strdup (":memory:");
#line 231 "/home/test/core/core/database.vala"
		result = _tmp0_;
#line 231 "/home/test/core/core/database.vala"
		return result;
#line 2862 "database.c"
	} else {
#line 232 "/home/test/core/core/database.vala"
		if (!g_path_is_absolute (path)) {
#line 2866 "database.c"
			const gchar* _tmp1_;
			gchar* _tmp2_;
#line 233 "/home/test/core/core/database.vala"
			_tmp1_ = g_get_user_config_dir ();
#line 233 "/home/test/core/core/database.vala"
			_tmp2_ = g_build_filename (_tmp1_, PROJECT_NAME, path, NULL);
#line 233 "/home/test/core/core/database.vala"
			result = _tmp2_;
#line 233 "/home/test/core/core/database.vala"
			return result;
#line 2877 "database.c"
		}
	}
#line 235 "/home/test/core/core/database.vala"
	_tmp3_ = g_strdup (path);
#line 235 "/home/test/core/core/database.vala"
	result = _tmp3_;
#line 235 "/home/test/core/core/database.vala"
	return result;
#line 2886 "database.c"
}


static void
___lambda5_ (MidoriDatabase* self,
             const gchar* sql,
             guint64 nanoseconds)
{
	gchar* milliseconds = NULL;
	gchar* _tmp0_;
#line 269 "/home/test/core/core/database.vala"
	g_return_if_fail (sql != NULL);
#line 271 "/home/test/core/core/database.vala"
	_tmp0_ = g_strdup_printf ("%" G_GUINT64_FORMAT, nanoseconds / 1000000);
#line 271 "/home/test/core/core/database.vala"
	milliseconds = _tmp0_;
#line 272 "/home/test/core/core/database.vala"
	midori_loggable_debug ((MidoriLoggable*) self, "%s (%sms)", sql, milliseconds, NULL);
#line 269 "/home/test/core/core/database.vala"
	_g_free0 (milliseconds);
#line 2907 "database.c"
}


static void
____lambda5__sqlite_profile_callback (gpointer self,
                                      const gchar* sql,
                                      guint64 time)
{
#line 269 "/home/test/core/core/database.vala"
	___lambda5_ ((MidoriDatabase*) self, sql, time);
#line 2918 "database.c"
}


static gint
_sqlite3_exec (sqlite3* self,
               const gchar* sql,
               sqlite3_callback callback,
               gpointer callback_target,
               gchar* * errmsg)
{
	gchar* _vala_errmsg = NULL;
	gint result = 0;
	const gchar* sqlite_errmsg = NULL;
	gint ec = 0;
	const gchar* _tmp0_ = NULL;
	gint _tmp1_;
	const gchar* _tmp4_;
#line 34 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	g_return_val_if_fail (self != NULL, 0);
#line 34 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	g_return_val_if_fail (sql != NULL, 0);
#line 36 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	_tmp1_ = sqlite3_exec (self, sql, callback, callback_target, (char**) (&_tmp0_));
#line 36 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	sqlite_errmsg = _tmp0_;
#line 36 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	ec = _tmp1_;
#line 37 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	if ((&_vala_errmsg) != NULL) {
#line 2948 "database.c"
		const gchar* _tmp2_;
		gchar* _tmp3_;
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_tmp2_ = sqlite_errmsg;
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_tmp3_ = g_strdup (_tmp2_);
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_vala_errmsg = _tmp3_;
#line 2959 "database.c"
	} else {
#line 40 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 40 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_vala_errmsg = NULL;
#line 2965 "database.c"
	}
#line 42 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	_tmp4_ = sqlite_errmsg;
#line 42 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	sqlite3_free ((void*) _tmp4_);
#line 43 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	result = ec;
#line 43 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	if (errmsg) {
#line 43 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		*errmsg = _vala_errmsg;
#line 2977 "database.c"
	} else {
#line 43 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 2981 "database.c"
	}
#line 43 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	return result;
#line 2985 "database.c"
}


static gpointer
_g_error_copy0 (gpointer self)
{
#line 304 "/home/test/core/core/database.vala"
	return self ? g_error_copy (self) : NULL;
#line 2994 "database.c"
}


static gboolean
___lambda7_ (MidoriDatabase* self)
{
	gboolean result = FALSE;
	gint64 _tmp0_;
#line 315 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_maximum_age;
#line 315 "/home/test/core/core/database.vala"
	midori_database_cap (self, _tmp0_, NULL, NULL);
#line 316 "/home/test/core/core/database.vala"
	result = G_SOURCE_CONTINUE;
#line 316 "/home/test/core/core/database.vala"
	return result;
#line 3011 "database.c"
}


static gboolean
____lambda7__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda7_ ((MidoriDatabase*) self);
#line 314 "/home/test/core/core/database.vala"
	return result;
#line 3022 "database.c"
}


static gboolean
midori_database_real_init (MidoriDatabase* self,
                           GCancellable* cancellable,
                           GError** error)
{
	gboolean result = FALSE;
	const gchar* _tmp0_;
	gchar* real_path = NULL;
	const gchar* _tmp23_;
	gchar* _tmp24_;
	gboolean exists = FALSE;
	const gchar* _tmp25_;
	gint flags = 0;
	gboolean _tmp26_;
	const gchar* _tmp30_;
	gint _tmp31_;
	sqlite3* _tmp32_ = NULL;
	gint _tmp33_;
	sqlite3* _tmp41_;
	gboolean _tmp42_;
	gboolean _tmp43_;
	sqlite3* _tmp46_;
	sqlite3* _tmp48_;
	const gchar* _tmp49_;
	gint64 user_version = 0LL;
	sqlite3_stmt* stmt = NULL;
	sqlite3* _tmp57_;
	sqlite3_stmt* _tmp58_ = NULL;
	gint _tmp59_;
	sqlite3_stmt* _tmp68_;
	sqlite3_stmt* _tmp77_;
	gint64 _tmp78_;
	gboolean _tmp107_;
	gboolean _tmp108_;
	GError* _inner_error0_ = NULL;
#line 239 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_table;
#line 239 "/home/test/core/core/database.vala"
	if (_tmp0_ == NULL) {
#line 3065 "database.c"
		gchar* basename = NULL;
		const gchar* _tmp1_;
		gchar* _tmp2_;
		gchar** parts = NULL;
		const gchar* _tmp3_;
		gchar** _tmp4_;
		gchar** _tmp5_;
		gint parts_length1;
		gint _parts_size_;
		gboolean _tmp6_ = FALSE;
		gboolean _tmp7_ = FALSE;
		gchar** _tmp8_;
		gint _tmp8__length1;
#line 240 "/home/test/core/core/database.vala"
		_tmp1_ = self->priv->_path;
#line 240 "/home/test/core/core/database.vala"
		_tmp2_ = g_path_get_basename (_tmp1_);
#line 240 "/home/test/core/core/database.vala"
		basename = _tmp2_;
#line 241 "/home/test/core/core/database.vala"
		_tmp3_ = basename;
#line 241 "/home/test/core/core/database.vala"
		_tmp5_ = _tmp4_ = g_strsplit (_tmp3_, ".", 0);
#line 241 "/home/test/core/core/database.vala"
		parts = _tmp5_;
#line 241 "/home/test/core/core/database.vala"
		parts_length1 = _vala_array_length (_tmp4_);
#line 241 "/home/test/core/core/database.vala"
		_parts_size_ = parts_length1;
#line 242 "/home/test/core/core/database.vala"
		_tmp8_ = parts;
#line 242 "/home/test/core/core/database.vala"
		_tmp8__length1 = parts_length1;
#line 242 "/home/test/core/core/database.vala"
		if (_tmp8_ != NULL) {
#line 3101 "database.c"
			gchar** _tmp9_;
			gint _tmp9__length1;
			const gchar* _tmp10_;
#line 242 "/home/test/core/core/database.vala"
			_tmp9_ = parts;
#line 242 "/home/test/core/core/database.vala"
			_tmp9__length1 = parts_length1;
#line 242 "/home/test/core/core/database.vala"
			_tmp10_ = _tmp9_[0];
#line 242 "/home/test/core/core/database.vala"
			_tmp7_ = _tmp10_ != NULL;
#line 3113 "database.c"
		} else {
#line 242 "/home/test/core/core/database.vala"
			_tmp7_ = FALSE;
#line 3117 "database.c"
		}
#line 242 "/home/test/core/core/database.vala"
		if (_tmp7_) {
#line 3121 "database.c"
			gchar** _tmp11_;
			gint _tmp11__length1;
			const gchar* _tmp12_;
#line 242 "/home/test/core/core/database.vala"
			_tmp11_ = parts;
#line 242 "/home/test/core/core/database.vala"
			_tmp11__length1 = parts_length1;
#line 242 "/home/test/core/core/database.vala"
			_tmp12_ = _tmp11_[1];
#line 242 "/home/test/core/core/database.vala"
			_tmp6_ = _tmp12_ != NULL;
#line 3133 "database.c"
		} else {
#line 242 "/home/test/core/core/database.vala"
			_tmp6_ = FALSE;
#line 3137 "database.c"
		}
#line 242 "/home/test/core/core/database.vala"
		if (_tmp6_) {
#line 3141 "database.c"
			gchar** _tmp13_;
			gint _tmp13__length1;
			const gchar* _tmp14_;
#line 243 "/home/test/core/core/database.vala"
			_tmp13_ = parts;
#line 243 "/home/test/core/core/database.vala"
			_tmp13__length1 = parts_length1;
#line 243 "/home/test/core/core/database.vala"
			_tmp14_ = _tmp13_[0];
#line 243 "/home/test/core/core/database.vala"
			midori_database_set_table (self, _tmp14_);
#line 3153 "database.c"
		} else {
			const gchar* _tmp15_;
#line 244 "/home/test/core/core/database.vala"
			_tmp15_ = self->priv->_path;
#line 244 "/home/test/core/core/database.vala"
			if (g_strcmp0 (_tmp15_, ":memory:") == 0) {
#line 245 "/home/test/core/core/database.vala"
				midori_database_set_table (self, "memory");
#line 3162 "database.c"
			} else {
				const gchar* _tmp16_;
				gchar* _tmp17_;
				gchar* _tmp18_;
				GError* _tmp19_;
				GError* _tmp20_;
#line 247 "/home/test/core/core/database.vala"
				_tmp16_ = self->priv->_path;
#line 247 "/home/test/core/core/database.vala"
				_tmp17_ = g_strdup_printf ("Failed to deduce table from %s", _tmp16_);
#line 247 "/home/test/core/core/database.vala"
				_tmp18_ = _tmp17_;
#line 247 "/home/test/core/core/database.vala"
				_tmp19_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_NAMING, _tmp18_);
#line 247 "/home/test/core/core/database.vala"
				_tmp20_ = _tmp19_;
#line 247 "/home/test/core/core/database.vala"
				_g_free0 (_tmp18_);
#line 247 "/home/test/core/core/database.vala"
				_inner_error0_ = _tmp20_;
#line 247 "/home/test/core/core/database.vala"
				if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 3185 "database.c"
					gboolean _tmp21_ = FALSE;
#line 247 "/home/test/core/core/database.vala"
					g_propagate_error (error, _inner_error0_);
#line 247 "/home/test/core/core/database.vala"
					parts = (_vala_array_free (parts, parts_length1, (GDestroyNotify) g_free), NULL);
#line 247 "/home/test/core/core/database.vala"
					_g_free0 (basename);
#line 247 "/home/test/core/core/database.vala"
					return _tmp21_;
#line 3195 "database.c"
				} else {
					gboolean _tmp22_ = FALSE;
#line 247 "/home/test/core/core/database.vala"
					parts = (_vala_array_free (parts, parts_length1, (GDestroyNotify) g_free), NULL);
#line 247 "/home/test/core/core/database.vala"
					_g_free0 (basename);
#line 247 "/home/test/core/core/database.vala"
					g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 247 "/home/test/core/core/database.vala"
					g_clear_error (&_inner_error0_);
#line 247 "/home/test/core/core/database.vala"
					return _tmp22_;
#line 3208 "database.c"
				}
			}
		}
#line 239 "/home/test/core/core/database.vala"
		parts = (_vala_array_free (parts, parts_length1, (GDestroyNotify) g_free), NULL);
#line 239 "/home/test/core/core/database.vala"
		_g_free0 (basename);
#line 3216 "database.c"
	}
#line 251 "/home/test/core/core/database.vala"
	_tmp23_ = self->priv->_path;
#line 251 "/home/test/core/core/database.vala"
	_tmp24_ = midori_database_resolve_path (self, _tmp23_);
#line 251 "/home/test/core/core/database.vala"
	real_path = _tmp24_;
#line 252 "/home/test/core/core/database.vala"
	_tmp25_ = real_path;
#line 252 "/home/test/core/core/database.vala"
	exists = midori_database_exists (self, _tmp25_);
#line 254 "/home/test/core/core/database.vala"
	flags = 0;
#line 255 "/home/test/core/core/database.vala"
	_tmp26_ = self->priv->_readonly;
#line 255 "/home/test/core/core/database.vala"
	if (_tmp26_) {
#line 3234 "database.c"
		gint _tmp27_;
#line 256 "/home/test/core/core/database.vala"
		_tmp27_ = flags;
#line 256 "/home/test/core/core/database.vala"
		flags = _tmp27_ | SQLITE_OPEN_READONLY;
#line 3240 "database.c"
	} else {
		gint _tmp28_;
		gint _tmp29_;
#line 258 "/home/test/core/core/database.vala"
		_tmp28_ = flags;
#line 258 "/home/test/core/core/database.vala"
		flags = _tmp28_ | SQLITE_OPEN_CREATE;
#line 259 "/home/test/core/core/database.vala"
		_tmp29_ = flags;
#line 259 "/home/test/core/core/database.vala"
		flags = _tmp29_ | SQLITE_OPEN_READWRITE;
#line 3252 "database.c"
	}
#line 262 "/home/test/core/core/database.vala"
	_tmp30_ = real_path;
#line 262 "/home/test/core/core/database.vala"
	_tmp31_ = flags;
#line 262 "/home/test/core/core/database.vala"
	_tmp33_ = sqlite3_open_v2 (_tmp30_, &_tmp32_, _tmp31_, NULL);
#line 262 "/home/test/core/core/database.vala"
	_sqlite3_close0 (self->db);
#line 262 "/home/test/core/core/database.vala"
	self->db = _tmp32_;
#line 262 "/home/test/core/core/database.vala"
	if (_tmp33_ != SQLITE_OK) {
#line 3266 "database.c"
		const gchar* _tmp34_;
		gchar* _tmp35_;
		gchar* _tmp36_;
		GError* _tmp37_;
		GError* _tmp38_;
#line 263 "/home/test/core/core/database.vala"
		_tmp34_ = real_path;
#line 263 "/home/test/core/core/database.vala"
		_tmp35_ = g_strdup_printf ("Failed to open database %s", _tmp34_);
#line 263 "/home/test/core/core/database.vala"
		_tmp36_ = _tmp35_;
#line 263 "/home/test/core/core/database.vala"
		_tmp37_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_OPEN, _tmp36_);
#line 263 "/home/test/core/core/database.vala"
		_tmp38_ = _tmp37_;
#line 263 "/home/test/core/core/database.vala"
		_g_free0 (_tmp36_);
#line 263 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp38_;
#line 263 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 3288 "database.c"
			gboolean _tmp39_ = FALSE;
#line 263 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 263 "/home/test/core/core/database.vala"
			_g_free0 (real_path);
#line 263 "/home/test/core/core/database.vala"
			return _tmp39_;
#line 3296 "database.c"
		} else {
			gboolean _tmp40_ = FALSE;
#line 263 "/home/test/core/core/database.vala"
			_g_free0 (real_path);
#line 263 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 263 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 263 "/home/test/core/core/database.vala"
			return _tmp40_;
#line 3307 "database.c"
		}
	}
#line 265 "/home/test/core/core/database.vala"
	_tmp41_ = self->db;
#line 265 "/home/test/core/core/database.vala"
	g_object_set_data_full ((GObject*) self, "db", _tmp41_, NULL);
#line 267 "/home/test/core/core/database.vala"
	_tmp42_ = midori_loggable_get_logging ((MidoriLoggable*) self);
#line 267 "/home/test/core/core/database.vala"
	_tmp43_ = _tmp42_;
#line 267 "/home/test/core/core/database.vala"
	if (_tmp43_) {
#line 3320 "database.c"
		const gchar* _tmp44_;
		sqlite3* _tmp45_;
#line 268 "/home/test/core/core/database.vala"
		_tmp44_ = self->priv->_path;
#line 268 "/home/test/core/core/database.vala"
		midori_loggable_debug ((MidoriLoggable*) self, "Tracing %s", _tmp44_, NULL);
#line 269 "/home/test/core/core/database.vala"
		_tmp45_ = self->db;
#line 269 "/home/test/core/core/database.vala"
		sqlite3_profile (_tmp45_, ____lambda5__sqlite_profile_callback, self);
#line 3331 "database.c"
	}
#line 276 "/home/test/core/core/database.vala"
	_tmp46_ = self->db;
#line 276 "/home/test/core/core/database.vala"
	if (_sqlite3_exec (_tmp46_, "PRAGMA journal_mode = WAL; PRAGMA cache_size = 32100;", NULL, NULL, NULL) != SQLITE_OK) {
#line 3337 "database.c"
		sqlite3* _tmp47_;
#line 277 "/home/test/core/core/database.vala"
		_tmp47_ = self->db;
#line 277 "/home/test/core/core/database.vala"
		_sqlite3_exec (_tmp47_, "PRAGMA synchronous = NORMAL; PRAGMA temp_store = MEMORY;", NULL, NULL, NULL);
#line 3343 "database.c"
	}
#line 278 "/home/test/core/core/database.vala"
	_tmp48_ = self->db;
#line 278 "/home/test/core/core/database.vala"
	_sqlite3_exec (_tmp48_, "PRAGMA count_changes = OFF;", NULL, NULL, NULL);
#line 280 "/home/test/core/core/database.vala"
	_tmp49_ = real_path;
#line 280 "/home/test/core/core/database.vala"
	if (g_strcmp0 (_tmp49_, ":memory:") == 0) {
#line 3353 "database.c"
		gboolean _tmp50_ = FALSE;
		const gchar* _tmp51_;
		gchar* _tmp52_;
		gchar* _tmp53_;
		gboolean _tmp54_;
#line 281 "/home/test/core/core/database.vala"
		_tmp51_ = self->priv->_table;
#line 281 "/home/test/core/core/database.vala"
		_tmp52_ = g_strdup_printf ("CREATE TABLE %s (uri text, title text, date integer)", _tmp51_);
#line 281 "/home/test/core/core/database.vala"
		_tmp53_ = _tmp52_;
#line 281 "/home/test/core/core/database.vala"
		_tmp54_ = midori_database_exec (self, _tmp53_, &_inner_error0_);
#line 281 "/home/test/core/core/database.vala"
		_g_free0 (_tmp53_);
#line 281 "/home/test/core/core/database.vala"
		_tmp50_ = _tmp54_;
#line 281 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 281 "/home/test/core/core/database.vala"
			if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 3375 "database.c"
				gboolean _tmp55_ = FALSE;
#line 281 "/home/test/core/core/database.vala"
				g_propagate_error (error, _inner_error0_);
#line 281 "/home/test/core/core/database.vala"
				_g_free0 (real_path);
#line 281 "/home/test/core/core/database.vala"
				return _tmp55_;
#line 3383 "database.c"
			} else {
				gboolean _tmp56_ = FALSE;
#line 281 "/home/test/core/core/database.vala"
				_g_free0 (real_path);
#line 281 "/home/test/core/core/database.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 281 "/home/test/core/core/database.vala"
				g_clear_error (&_inner_error0_);
#line 281 "/home/test/core/core/database.vala"
				return _tmp56_;
#line 3394 "database.c"
			}
		}
#line 281 "/home/test/core/core/database.vala"
		result = _tmp50_;
#line 281 "/home/test/core/core/database.vala"
		_g_free0 (real_path);
#line 281 "/home/test/core/core/database.vala"
		return result;
#line 3403 "database.c"
	}
#line 286 "/home/test/core/core/database.vala"
	_tmp57_ = self->db;
#line 286 "/home/test/core/core/database.vala"
	_tmp59_ = sqlite3_prepare_v2 (_tmp57_, "PRAGMA user_version;", -1, &_tmp58_, NULL);
#line 286 "/home/test/core/core/database.vala"
	_sqlite3_finalize0 (stmt);
#line 286 "/home/test/core/core/database.vala"
	stmt = _tmp58_;
#line 286 "/home/test/core/core/database.vala"
	if (_tmp59_ != SQLITE_OK) {
#line 3415 "database.c"
		const gchar* _tmp60_;
		const gchar* _tmp61_;
		gchar* _tmp62_;
		gchar* _tmp63_;
		GError* _tmp64_;
		GError* _tmp65_;
#line 287 "/home/test/core/core/database.vala"
		_tmp60_ = midori_database_get_errmsg (self);
#line 287 "/home/test/core/core/database.vala"
		_tmp61_ = _tmp60_;
#line 287 "/home/test/core/core/database.vala"
		_tmp62_ = g_strdup_printf ("Failed to compile statement %s", _tmp61_);
#line 287 "/home/test/core/core/database.vala"
		_tmp63_ = _tmp62_;
#line 287 "/home/test/core/core/database.vala"
		_tmp64_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_EXECUTE, _tmp63_);
#line 287 "/home/test/core/core/database.vala"
		_tmp65_ = _tmp64_;
#line 287 "/home/test/core/core/database.vala"
		_g_free0 (_tmp63_);
#line 287 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp65_;
#line 287 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 3440 "database.c"
			gboolean _tmp66_ = FALSE;
#line 287 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 287 "/home/test/core/core/database.vala"
			_sqlite3_finalize0 (stmt);
#line 287 "/home/test/core/core/database.vala"
			_g_free0 (real_path);
#line 287 "/home/test/core/core/database.vala"
			return _tmp66_;
#line 3450 "database.c"
		} else {
			gboolean _tmp67_ = FALSE;
#line 287 "/home/test/core/core/database.vala"
			_sqlite3_finalize0 (stmt);
#line 287 "/home/test/core/core/database.vala"
			_g_free0 (real_path);
#line 287 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 287 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 287 "/home/test/core/core/database.vala"
			return _tmp67_;
#line 3463 "database.c"
		}
	}
#line 288 "/home/test/core/core/database.vala"
	_tmp68_ = stmt;
#line 288 "/home/test/core/core/database.vala"
	if (sqlite3_step (_tmp68_) != SQLITE_ROW) {
#line 3470 "database.c"
		const gchar* _tmp69_;
		const gchar* _tmp70_;
		gchar* _tmp71_;
		gchar* _tmp72_;
		GError* _tmp73_;
		GError* _tmp74_;
#line 289 "/home/test/core/core/database.vala"
		_tmp69_ = midori_database_get_errmsg (self);
#line 289 "/home/test/core/core/database.vala"
		_tmp70_ = _tmp69_;
#line 289 "/home/test/core/core/database.vala"
		_tmp71_ = g_strdup_printf ("Failed to get row %s", _tmp70_);
#line 289 "/home/test/core/core/database.vala"
		_tmp72_ = _tmp71_;
#line 289 "/home/test/core/core/database.vala"
		_tmp73_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_EXECUTE, _tmp72_);
#line 289 "/home/test/core/core/database.vala"
		_tmp74_ = _tmp73_;
#line 289 "/home/test/core/core/database.vala"
		_g_free0 (_tmp72_);
#line 289 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp74_;
#line 289 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 3495 "database.c"
			gboolean _tmp75_ = FALSE;
#line 289 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 289 "/home/test/core/core/database.vala"
			_sqlite3_finalize0 (stmt);
#line 289 "/home/test/core/core/database.vala"
			_g_free0 (real_path);
#line 289 "/home/test/core/core/database.vala"
			return _tmp75_;
#line 3505 "database.c"
		} else {
			gboolean _tmp76_ = FALSE;
#line 289 "/home/test/core/core/database.vala"
			_sqlite3_finalize0 (stmt);
#line 289 "/home/test/core/core/database.vala"
			_g_free0 (real_path);
#line 289 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 289 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 289 "/home/test/core/core/database.vala"
			return _tmp76_;
#line 3518 "database.c"
		}
	}
#line 290 "/home/test/core/core/database.vala"
	_tmp77_ = stmt;
#line 290 "/home/test/core/core/database.vala"
	user_version = sqlite3_column_int64 (_tmp77_, 0);
#line 292 "/home/test/core/core/database.vala"
	_tmp78_ = user_version;
#line 292 "/home/test/core/core/database.vala"
	if (_tmp78_ == ((gint64) 0)) {
#line 3529 "database.c"
		gint64 _tmp81_;
		gchar* _tmp82_;
		gchar* _tmp83_;
		gchar* _tmp84_;
		gchar* _tmp85_;
#line 293 "/home/test/core/core/database.vala"
		midori_database_exec_script (self, "Create", &_inner_error0_);
#line 293 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 293 "/home/test/core/core/database.vala"
			if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 3541 "database.c"
				gboolean _tmp79_ = FALSE;
#line 293 "/home/test/core/core/database.vala"
				g_propagate_error (error, _inner_error0_);
#line 293 "/home/test/core/core/database.vala"
				_sqlite3_finalize0 (stmt);
#line 293 "/home/test/core/core/database.vala"
				_g_free0 (real_path);
#line 293 "/home/test/core/core/database.vala"
				return _tmp79_;
#line 3551 "database.c"
			} else {
				gboolean _tmp80_ = FALSE;
#line 293 "/home/test/core/core/database.vala"
				_sqlite3_finalize0 (stmt);
#line 293 "/home/test/core/core/database.vala"
				_g_free0 (real_path);
#line 293 "/home/test/core/core/database.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 293 "/home/test/core/core/database.vala"
				g_clear_error (&_inner_error0_);
#line 293 "/home/test/core/core/database.vala"
				return _tmp80_;
#line 3564 "database.c"
			}
		}
#line 294 "/home/test/core/core/database.vala"
		user_version = (gint64) 1;
#line 295 "/home/test/core/core/database.vala"
		_tmp81_ = user_version;
#line 295 "/home/test/core/core/database.vala"
		_tmp82_ = g_strdup_printf ("%" G_GINT64_FORMAT, _tmp81_);
#line 295 "/home/test/core/core/database.vala"
		_tmp83_ = _tmp82_;
#line 295 "/home/test/core/core/database.vala"
		_tmp84_ = g_strconcat ("PRAGMA user_version = ", _tmp83_, NULL);
#line 295 "/home/test/core/core/database.vala"
		_tmp85_ = _tmp84_;
#line 295 "/home/test/core/core/database.vala"
		midori_database_exec (self, _tmp85_, &_inner_error0_);
#line 295 "/home/test/core/core/database.vala"
		_g_free0 (_tmp85_);
#line 295 "/home/test/core/core/database.vala"
		_g_free0 (_tmp83_);
#line 295 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 295 "/home/test/core/core/database.vala"
			if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 3589 "database.c"
				gboolean _tmp86_ = FALSE;
#line 295 "/home/test/core/core/database.vala"
				g_propagate_error (error, _inner_error0_);
#line 295 "/home/test/core/core/database.vala"
				_sqlite3_finalize0 (stmt);
#line 295 "/home/test/core/core/database.vala"
				_g_free0 (real_path);
#line 295 "/home/test/core/core/database.vala"
				return _tmp86_;
#line 3599 "database.c"
			} else {
				gboolean _tmp87_ = FALSE;
#line 295 "/home/test/core/core/database.vala"
				_sqlite3_finalize0 (stmt);
#line 295 "/home/test/core/core/database.vala"
				_g_free0 (real_path);
#line 295 "/home/test/core/core/database.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 295 "/home/test/core/core/database.vala"
				g_clear_error (&_inner_error0_);
#line 295 "/home/test/core/core/database.vala"
				return _tmp87_;
#line 3612 "database.c"
			}
		}
	}
#line 298 "/home/test/core/core/database.vala"
	while (TRUE) {
#line 3618 "database.c"
		gint64 _tmp99_;
		gint64 _tmp100_;
		gchar* _tmp101_;
		gchar* _tmp102_;
		gchar* _tmp103_;
		gchar* _tmp104_;
		{
			gint64 _tmp88_;
			gchar* _tmp89_;
			gchar* _tmp90_;
			gchar* _tmp91_;
			gchar* _tmp92_;
#line 300 "/home/test/core/core/database.vala"
			_tmp88_ = user_version;
#line 300 "/home/test/core/core/database.vala"
			_tmp89_ = g_strdup_printf ("%" G_GINT64_FORMAT, _tmp88_);
#line 300 "/home/test/core/core/database.vala"
			_tmp90_ = _tmp89_;
#line 300 "/home/test/core/core/database.vala"
			_tmp91_ = g_strconcat ("Update", _tmp90_, NULL);
#line 300 "/home/test/core/core/database.vala"
			_tmp92_ = _tmp91_;
#line 300 "/home/test/core/core/database.vala"
			midori_database_exec_script (self, _tmp92_, &_inner_error0_);
#line 300 "/home/test/core/core/database.vala"
			_g_free0 (_tmp92_);
#line 300 "/home/test/core/core/database.vala"
			_g_free0 (_tmp90_);
#line 300 "/home/test/core/core/database.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 3649 "database.c"
				gboolean _tmp93_ = FALSE;
#line 300 "/home/test/core/core/database.vala"
				if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 3653 "database.c"
					goto __catch15_midori_database_error;
				}
#line 300 "/home/test/core/core/database.vala"
				_sqlite3_finalize0 (stmt);
#line 300 "/home/test/core/core/database.vala"
				_g_free0 (real_path);
#line 300 "/home/test/core/core/database.vala"
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 300 "/home/test/core/core/database.vala"
				g_clear_error (&_inner_error0_);
#line 300 "/home/test/core/core/database.vala"
				return _tmp93_;
#line 3666 "database.c"
			}
		}
		goto __finally15;
		__catch15_midori_database_error:
		{
			GError* _error_ = NULL;
			GError* _tmp94_;
			GError* _tmp95_;
			GError* _tmp96_;
#line 299 "/home/test/core/core/database.vala"
			_error_ = _inner_error0_;
#line 299 "/home/test/core/core/database.vala"
			_inner_error0_ = NULL;
#line 302 "/home/test/core/core/database.vala"
			_tmp94_ = _error_;
#line 302 "/home/test/core/core/database.vala"
			if (g_error_matches (_tmp94_, MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_FILENAME)) {
#line 303 "/home/test/core/core/database.vala"
				_g_error_free0 (_error_);
#line 303 "/home/test/core/core/database.vala"
				break;
#line 3688 "database.c"
			}
#line 304 "/home/test/core/core/database.vala"
			_tmp95_ = _error_;
#line 304 "/home/test/core/core/database.vala"
			_tmp96_ = _g_error_copy0 (_tmp95_);
#line 304 "/home/test/core/core/database.vala"
			_inner_error0_ = _tmp96_;
#line 304 "/home/test/core/core/database.vala"
			_g_error_free0 (_error_);
#line 3698 "database.c"
			goto __finally15;
		}
		__finally15:
#line 299 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 299 "/home/test/core/core/database.vala"
			if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 3706 "database.c"
				gboolean _tmp97_ = FALSE;
#line 299 "/home/test/core/core/database.vala"
				g_propagate_error (error, _inner_error0_);
#line 299 "/home/test/core/core/database.vala"
				_sqlite3_finalize0 (stmt);
#line 299 "/home/test/core/core/database.vala"
				_g_free0 (real_path);
#line 299 "/home/test/core/core/database.vala"
				return _tmp97_;
#line 3716 "database.c"
			} else {
				gboolean _tmp98_ = FALSE;
#line 299 "/home/test/core/core/database.vala"
				_sqlite3_finalize0 (stmt);
#line 299 "/home/test/core/core/database.vala"
				_g_free0 (real_path);
#line 299 "/home/test/core/core/database.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 299 "/home/test/core/core/database.vala"
				g_clear_error (&_inner_error0_);
#line 299 "/home/test/core/core/database.vala"
				return _tmp98_;
#line 3729 "database.c"
			}
		}
#line 306 "/home/test/core/core/database.vala"
		_tmp99_ = user_version;
#line 306 "/home/test/core/core/database.vala"
		user_version = _tmp99_ + 1;
#line 307 "/home/test/core/core/database.vala"
		_tmp100_ = user_version;
#line 307 "/home/test/core/core/database.vala"
		_tmp101_ = g_strdup_printf ("%" G_GINT64_FORMAT, _tmp100_);
#line 307 "/home/test/core/core/database.vala"
		_tmp102_ = _tmp101_;
#line 307 "/home/test/core/core/database.vala"
		_tmp103_ = g_strconcat ("PRAGMA user_version = ", _tmp102_, NULL);
#line 307 "/home/test/core/core/database.vala"
		_tmp104_ = _tmp103_;
#line 307 "/home/test/core/core/database.vala"
		midori_database_exec (self, _tmp104_, &_inner_error0_);
#line 307 "/home/test/core/core/database.vala"
		_g_free0 (_tmp104_);
#line 307 "/home/test/core/core/database.vala"
		_g_free0 (_tmp102_);
#line 307 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 307 "/home/test/core/core/database.vala"
			if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 3756 "database.c"
				gboolean _tmp105_ = FALSE;
#line 307 "/home/test/core/core/database.vala"
				g_propagate_error (error, _inner_error0_);
#line 307 "/home/test/core/core/database.vala"
				_sqlite3_finalize0 (stmt);
#line 307 "/home/test/core/core/database.vala"
				_g_free0 (real_path);
#line 307 "/home/test/core/core/database.vala"
				return _tmp105_;
#line 3766 "database.c"
			} else {
				gboolean _tmp106_ = FALSE;
#line 307 "/home/test/core/core/database.vala"
				_sqlite3_finalize0 (stmt);
#line 307 "/home/test/core/core/database.vala"
				_g_free0 (real_path);
#line 307 "/home/test/core/core/database.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 307 "/home/test/core/core/database.vala"
				g_clear_error (&_inner_error0_);
#line 307 "/home/test/core/core/database.vala"
				return _tmp106_;
#line 3779 "database.c"
			}
		}
	}
#line 310 "/home/test/core/core/database.vala"
	_tmp107_ = exists;
#line 310 "/home/test/core/core/database.vala"
	midori_database_set_first_use (self, !_tmp107_);
#line 312 "/home/test/core/core/database.vala"
	_tmp108_ = self->priv->_readonly;
#line 312 "/home/test/core/core/database.vala"
	if (!_tmp108_) {
#line 314 "/home/test/core/core/database.vala"
		g_timeout_add_seconds_full (G_PRIORITY_DEFAULT, (guint) (60 * 60), ____lambda7__gsource_func, g_object_ref (self), g_object_unref);
#line 3793 "database.c"
	}
#line 319 "/home/test/core/core/database.vala"
	result = TRUE;
#line 319 "/home/test/core/core/database.vala"
	_sqlite3_finalize0 (stmt);
#line 319 "/home/test/core/core/database.vala"
	_g_free0 (real_path);
#line 319 "/home/test/core/core/database.vala"
	return result;
#line 3803 "database.c"
}


gboolean
midori_database_init (MidoriDatabase* self,
                      GCancellable* cancellable,
                      GError** error)
{
#line 238 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 238 "/home/test/core/core/database.vala"
	return MIDORI_DATABASE_GET_CLASS (self)->init (self, cancellable, error);
#line 3816 "database.c"
}


gboolean
midori_database_exists (MidoriDatabase* self,
                        const gchar* path)
{
	gboolean result = FALSE;
#line 322 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 322 "/home/test/core/core/database.vala"
	g_return_val_if_fail (path != NULL, FALSE);
#line 323 "/home/test/core/core/database.vala"
	result = g_file_test (path, G_FILE_TEST_EXISTS);
#line 323 "/home/test/core/core/database.vala"
	return result;
#line 3833 "database.c"
}


static Block9Data*
block9_data_ref (Block9Data* _data9_)
{
#line 329 "/home/test/core/core/database.vala"
	g_atomic_int_inc (&_data9_->_ref_count_);
#line 329 "/home/test/core/core/database.vala"
	return _data9_;
#line 3844 "database.c"
}


static void
block9_data_unref (void * _userdata_)
{
	Block9Data* _data9_;
	_data9_ = (Block9Data*) _userdata_;
#line 329 "/home/test/core/core/database.vala"
	if (g_atomic_int_dec_and_test (&_data9_->_ref_count_)) {
#line 3855 "database.c"
		MidoriDatabase* self;
#line 329 "/home/test/core/core/database.vala"
		self = _data9_->self;
#line 329 "/home/test/core/core/database.vala"
		_g_bytes_unref0 (_data9_->schema);
#line 329 "/home/test/core/core/database.vala"
		_g_object_unref0 (self);
#line 329 "/home/test/core/core/database.vala"
		g_slice_free (Block9Data, _data9_);
#line 3865 "database.c"
	}
}


static gboolean
___lambda6_ (Block9Data* _data9_,
             GError** error)
{
	MidoriDatabase* self;
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	GBytes* _tmp1_;
	gsize _tmp2_ = 0;
	guint8* _tmp3_;
	GError* _inner_error0_ = NULL;
#line 331 "/home/test/core/core/database.vala"
	self = _data9_->self;
#line 331 "/home/test/core/core/database.vala"
	_tmp1_ = _data9_->schema;
#line 331 "/home/test/core/core/database.vala"
	_tmp3_ = g_bytes_get_data (_tmp1_, &_tmp2_);
#line 331 "/home/test/core/core/database.vala"
	_tmp0_ = midori_database_exec (self, (const gchar*) _tmp3_, &_inner_error0_);
#line 331 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 331 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 3893 "database.c"
			gboolean _tmp4_ = FALSE;
#line 331 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 331 "/home/test/core/core/database.vala"
			return _tmp4_;
#line 3899 "database.c"
		} else {
			gboolean _tmp5_ = FALSE;
#line 331 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 331 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 331 "/home/test/core/core/database.vala"
			return _tmp5_;
#line 3908 "database.c"
		}
	}
#line 331 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 331 "/home/test/core/core/database.vala"
	return result;
#line 3915 "database.c"
}


static gboolean
____lambda6__midori_database_callback (gpointer self,
                                       GError** error)
{
	gboolean result;
	result = ___lambda6_ (self, error);
#line 331 "/home/test/core/core/database.vala"
	return result;
#line 3927 "database.c"
}


gboolean
midori_database_exec_script (MidoriDatabase* self,
                             const gchar* filename,
                             GError** error)
{
	gboolean result = FALSE;
	gchar* basename = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar** _tmp3_;
	gchar** _tmp4_;
	gchar** _tmp5_;
	gint _tmp5__length1;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* schema_path = NULL;
	const gchar* _tmp9_;
	gchar* _tmp10_;
	GError* _inner_error0_ = NULL;
#line 326 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 326 "/home/test/core/core/database.vala"
	g_return_val_if_fail (filename != NULL, FALSE);
#line 327 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_path;
#line 327 "/home/test/core/core/database.vala"
	_tmp1_ = g_path_get_basename (_tmp0_);
#line 327 "/home/test/core/core/database.vala"
	_tmp2_ = _tmp1_;
#line 327 "/home/test/core/core/database.vala"
	_tmp4_ = _tmp3_ = g_strsplit (_tmp2_, ".", 0);
#line 327 "/home/test/core/core/database.vala"
	_tmp5_ = _tmp4_;
#line 327 "/home/test/core/core/database.vala"
	_tmp5__length1 = _vala_array_length (_tmp3_);
#line 327 "/home/test/core/core/database.vala"
	_tmp6_ = _tmp5_[0];
#line 327 "/home/test/core/core/database.vala"
	_tmp7_ = g_strdup (_tmp6_);
#line 327 "/home/test/core/core/database.vala"
	_tmp8_ = _tmp7_;
#line 327 "/home/test/core/core/database.vala"
	_tmp5_ = (_vala_array_free (_tmp5_, _tmp5__length1, (GDestroyNotify) g_free), NULL);
#line 327 "/home/test/core/core/database.vala"
	_g_free0 (_tmp2_);
#line 327 "/home/test/core/core/database.vala"
	basename = _tmp8_;
#line 328 "/home/test/core/core/database.vala"
	_tmp9_ = basename;
#line 328 "/home/test/core/core/database.vala"
	_tmp10_ = g_strdup_printf ("/data/%s/%s.sql", _tmp9_, filename);
#line 328 "/home/test/core/core/database.vala"
	schema_path = _tmp10_;
#line 3986 "database.c"
	{
		Block9Data* _data9_;
		const gchar* _tmp11_;
		GBytes* _tmp12_;
#line 329 "/home/test/core/core/database.vala"
		_data9_ = g_slice_new0 (Block9Data);
#line 329 "/home/test/core/core/database.vala"
		_data9_->_ref_count_ = 1;
#line 329 "/home/test/core/core/database.vala"
		_data9_->self = g_object_ref (self);
#line 330 "/home/test/core/core/database.vala"
		_tmp11_ = schema_path;
#line 330 "/home/test/core/core/database.vala"
		_tmp12_ = g_resources_lookup_data (_tmp11_, G_RESOURCE_LOOKUP_FLAGS_NONE, &_inner_error0_);
#line 330 "/home/test/core/core/database.vala"
		_data9_->schema = _tmp12_;
#line 330 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 330 "/home/test/core/core/database.vala"
			block9_data_unref (_data9_);
#line 330 "/home/test/core/core/database.vala"
			_data9_ = NULL;
#line 4009 "database.c"
			goto __catch16_g_error;
		}
#line 331 "/home/test/core/core/database.vala"
		midori_database_transaction (self, ____lambda6__midori_database_callback, _data9_, &_inner_error0_);
#line 331 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 331 "/home/test/core/core/database.vala"
			block9_data_unref (_data9_);
#line 331 "/home/test/core/core/database.vala"
			_data9_ = NULL;
#line 4020 "database.c"
			goto __catch16_g_error;
		}
#line 329 "/home/test/core/core/database.vala"
		block9_data_unref (_data9_);
#line 329 "/home/test/core/core/database.vala"
		_data9_ = NULL;
#line 4027 "database.c"
	}
	goto __finally16;
	__catch16_g_error:
	{
		GError* _error_ = NULL;
		const gchar* _tmp13_;
		gchar* _tmp14_;
		gchar* _tmp15_;
		GError* _tmp16_;
		GError* _tmp17_;
#line 329 "/home/test/core/core/database.vala"
		_error_ = _inner_error0_;
#line 329 "/home/test/core/core/database.vala"
		_inner_error0_ = NULL;
#line 333 "/home/test/core/core/database.vala"
		_tmp13_ = schema_path;
#line 333 "/home/test/core/core/database.vala"
		_tmp14_ = g_strdup_printf ("Failed to open schema: %s", _tmp13_);
#line 333 "/home/test/core/core/database.vala"
		_tmp15_ = _tmp14_;
#line 333 "/home/test/core/core/database.vala"
		_tmp16_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_FILENAME, _tmp15_);
#line 333 "/home/test/core/core/database.vala"
		_tmp17_ = _tmp16_;
#line 333 "/home/test/core/core/database.vala"
		_g_free0 (_tmp15_);
#line 333 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp17_;
#line 333 "/home/test/core/core/database.vala"
		_g_error_free0 (_error_);
#line 4058 "database.c"
		goto __finally16;
	}
	__finally16:
#line 329 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 329 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 4066 "database.c"
			gboolean _tmp18_ = FALSE;
#line 329 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 329 "/home/test/core/core/database.vala"
			_g_free0 (schema_path);
#line 329 "/home/test/core/core/database.vala"
			_g_free0 (basename);
#line 329 "/home/test/core/core/database.vala"
			return _tmp18_;
#line 4076 "database.c"
		} else {
			gboolean _tmp19_ = FALSE;
#line 329 "/home/test/core/core/database.vala"
			_g_free0 (schema_path);
#line 329 "/home/test/core/core/database.vala"
			_g_free0 (basename);
#line 329 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 329 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 329 "/home/test/core/core/database.vala"
			return _tmp19_;
#line 4089 "database.c"
		}
	}
#line 335 "/home/test/core/core/database.vala"
	result = TRUE;
#line 335 "/home/test/core/core/database.vala"
	_g_free0 (schema_path);
#line 335 "/home/test/core/core/database.vala"
	_g_free0 (basename);
#line 335 "/home/test/core/core/database.vala"
	return result;
#line 4100 "database.c"
}


gboolean
midori_database_transaction (MidoriDatabase* self,
                             MidoriDatabaseCallback callback,
                             gpointer callback_target,
                             GError** error)
{
	gboolean result = FALSE;
	GError* _inner_error0_ = NULL;
#line 338 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 339 "/home/test/core/core/database.vala"
	midori_database_exec (self, "BEGIN TRANSACTION;", &_inner_error0_);
#line 339 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 339 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 4120 "database.c"
			gboolean _tmp0_ = FALSE;
#line 339 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 339 "/home/test/core/core/database.vala"
			return _tmp0_;
#line 4126 "database.c"
		} else {
			gboolean _tmp1_ = FALSE;
#line 339 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 339 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 339 "/home/test/core/core/database.vala"
			return _tmp1_;
#line 4135 "database.c"
		}
	}
#line 340 "/home/test/core/core/database.vala"
	callback (callback_target, &_inner_error0_);
#line 340 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 340 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 4144 "database.c"
			gboolean _tmp2_ = FALSE;
#line 340 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 340 "/home/test/core/core/database.vala"
			return _tmp2_;
#line 4150 "database.c"
		} else {
			gboolean _tmp3_ = FALSE;
#line 340 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 340 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 340 "/home/test/core/core/database.vala"
			return _tmp3_;
#line 4159 "database.c"
		}
	}
#line 341 "/home/test/core/core/database.vala"
	midori_database_exec (self, "COMMIT;", &_inner_error0_);
#line 341 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 341 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 4168 "database.c"
			gboolean _tmp4_ = FALSE;
#line 341 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 341 "/home/test/core/core/database.vala"
			return _tmp4_;
#line 4174 "database.c"
		} else {
			gboolean _tmp5_ = FALSE;
#line 341 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 341 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 341 "/home/test/core/core/database.vala"
			return _tmp5_;
#line 4183 "database.c"
		}
	}
#line 342 "/home/test/core/core/database.vala"
	result = TRUE;
#line 342 "/home/test/core/core/database.vala"
	return result;
#line 4190 "database.c"
}


gboolean
midori_database_exec (MidoriDatabase* self,
                      const gchar* query,
                      GError** error)
{
	gboolean result = FALSE;
	sqlite3* _tmp0_;
	GError* _inner_error0_ = NULL;
#line 345 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 345 "/home/test/core/core/database.vala"
	g_return_val_if_fail (query != NULL, FALSE);
#line 346 "/home/test/core/core/database.vala"
	_tmp0_ = self->db;
#line 346 "/home/test/core/core/database.vala"
	if (_sqlite3_exec (_tmp0_, query, NULL, NULL, NULL) != SQLITE_OK) {
#line 4210 "database.c"
		const gchar* _tmp1_;
		const gchar* _tmp2_;
		GError* _tmp3_;
#line 347 "/home/test/core/core/database.vala"
		_tmp1_ = midori_database_get_errmsg (self);
#line 347 "/home/test/core/core/database.vala"
		_tmp2_ = _tmp1_;
#line 347 "/home/test/core/core/database.vala"
		_tmp3_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_EXECUTE, _tmp2_);
#line 347 "/home/test/core/core/database.vala"
		_inner_error0_ = _tmp3_;
#line 347 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 4224 "database.c"
			gboolean _tmp4_ = FALSE;
#line 347 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 347 "/home/test/core/core/database.vala"
			return _tmp4_;
#line 4230 "database.c"
		} else {
			gboolean _tmp5_ = FALSE;
#line 347 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 347 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 347 "/home/test/core/core/database.vala"
			return _tmp5_;
#line 4239 "database.c"
		}
	}
#line 348 "/home/test/core/core/database.vala"
	result = TRUE;
#line 348 "/home/test/core/core/database.vala"
	return result;
#line 4246 "database.c"
}


MidoriDatabaseStatement*
midori_database_prepare (MidoriDatabase* self,
                         const gchar* query,
                         GError** error,
                         ...)
{
	MidoriDatabaseStatement* result = NULL;
	MidoriDatabaseStatement* statement = NULL;
	MidoriDatabaseStatement* _tmp0_;
	va_list args = {0};
	const gchar* pname = NULL;
	const gchar* _tmp1_;
	GError* _inner_error0_ = NULL;
#line 355 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 355 "/home/test/core/core/database.vala"
	g_return_val_if_fail (query != NULL, NULL);
#line 356 "/home/test/core/core/database.vala"
	_tmp0_ = midori_database_statement_new (self, query, &_inner_error0_);
#line 356 "/home/test/core/core/database.vala"
	statement = _tmp0_;
#line 356 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 356 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 356 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 356 "/home/test/core/core/database.vala"
			return NULL;
#line 4279 "database.c"
		} else {
#line 356 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 356 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 356 "/home/test/core/core/database.vala"
			return NULL;
#line 4287 "database.c"
		}
	}
#line 357 "/home/test/core/core/database.vala"
	va_start (args, error);
#line 358 "/home/test/core/core/database.vala"
	_tmp1_ = va_arg (args, gchar*);
#line 358 "/home/test/core/core/database.vala"
	pname = _tmp1_;
#line 359 "/home/test/core/core/database.vala"
	while (TRUE) {
#line 4298 "database.c"
		const gchar* _tmp2_;
		GType ptype = 0UL;
		GType _tmp3_;
		const gchar* _tmp26_;
#line 359 "/home/test/core/core/database.vala"
		_tmp2_ = pname;
#line 359 "/home/test/core/core/database.vala"
		if (!(_tmp2_ != NULL)) {
#line 359 "/home/test/core/core/database.vala"
			break;
#line 4309 "database.c"
		}
#line 360 "/home/test/core/core/database.vala"
		ptype = va_arg (args, GType);
#line 361 "/home/test/core/core/database.vala"
		_tmp3_ = ptype;
#line 361 "/home/test/core/core/database.vala"
		if (_tmp3_ == G_TYPE_STRING) {
#line 4317 "database.c"
			gchar* pvalue = NULL;
			const gchar* _tmp4_;
			gchar* _tmp5_;
			MidoriDatabaseStatement* _tmp6_;
			const gchar* _tmp7_;
			GType _tmp8_;
			const gchar* _tmp9_;
#line 362 "/home/test/core/core/database.vala"
			_tmp4_ = va_arg (args, gchar*);
#line 362 "/home/test/core/core/database.vala"
			_tmp5_ = g_strdup (_tmp4_);
#line 362 "/home/test/core/core/database.vala"
			pvalue = _tmp5_;
#line 363 "/home/test/core/core/database.vala"
			_tmp6_ = statement;
#line 363 "/home/test/core/core/database.vala"
			_tmp7_ = pname;
#line 363 "/home/test/core/core/database.vala"
			_tmp8_ = ptype;
#line 363 "/home/test/core/core/database.vala"
			_tmp9_ = pvalue;
#line 363 "/home/test/core/core/database.vala"
			midori_database_statement_bind (_tmp6_, _tmp7_, &_inner_error0_, _tmp8_, _tmp9_, NULL);
#line 363 "/home/test/core/core/database.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 363 "/home/test/core/core/database.vala"
				if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 363 "/home/test/core/core/database.vala"
					g_propagate_error (error, _inner_error0_);
#line 363 "/home/test/core/core/database.vala"
					_g_free0 (pvalue);
#line 363 "/home/test/core/core/database.vala"
					va_end (args);
#line 363 "/home/test/core/core/database.vala"
					_g_object_unref0 (statement);
#line 363 "/home/test/core/core/database.vala"
					return NULL;
#line 4355 "database.c"
				} else {
#line 363 "/home/test/core/core/database.vala"
					_g_free0 (pvalue);
#line 363 "/home/test/core/core/database.vala"
					va_end (args);
#line 363 "/home/test/core/core/database.vala"
					_g_object_unref0 (statement);
#line 363 "/home/test/core/core/database.vala"
					g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 363 "/home/test/core/core/database.vala"
					g_clear_error (&_inner_error0_);
#line 363 "/home/test/core/core/database.vala"
					return NULL;
#line 4369 "database.c"
				}
			}
#line 361 "/home/test/core/core/database.vala"
			_g_free0 (pvalue);
#line 4374 "database.c"
		} else {
			GType _tmp10_;
#line 364 "/home/test/core/core/database.vala"
			_tmp10_ = ptype;
#line 364 "/home/test/core/core/database.vala"
			if (_tmp10_ == G_TYPE_INT64) {
#line 4381 "database.c"
				gint64 pvalue = 0LL;
				MidoriDatabaseStatement* _tmp11_;
				const gchar* _tmp12_;
				GType _tmp13_;
				gint64 _tmp14_;
#line 365 "/home/test/core/core/database.vala"
				pvalue = va_arg (args, gint64);
#line 366 "/home/test/core/core/database.vala"
				_tmp11_ = statement;
#line 366 "/home/test/core/core/database.vala"
				_tmp12_ = pname;
#line 366 "/home/test/core/core/database.vala"
				_tmp13_ = ptype;
#line 366 "/home/test/core/core/database.vala"
				_tmp14_ = pvalue;
#line 366 "/home/test/core/core/database.vala"
				midori_database_statement_bind (_tmp11_, _tmp12_, &_inner_error0_, _tmp13_, _tmp14_, NULL);
#line 366 "/home/test/core/core/database.vala"
				if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 366 "/home/test/core/core/database.vala"
					if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 366 "/home/test/core/core/database.vala"
						g_propagate_error (error, _inner_error0_);
#line 366 "/home/test/core/core/database.vala"
						va_end (args);
#line 366 "/home/test/core/core/database.vala"
						_g_object_unref0 (statement);
#line 366 "/home/test/core/core/database.vala"
						return NULL;
#line 4411 "database.c"
					} else {
#line 366 "/home/test/core/core/database.vala"
						va_end (args);
#line 366 "/home/test/core/core/database.vala"
						_g_object_unref0 (statement);
#line 366 "/home/test/core/core/database.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 366 "/home/test/core/core/database.vala"
						g_clear_error (&_inner_error0_);
#line 366 "/home/test/core/core/database.vala"
						return NULL;
#line 4423 "database.c"
					}
				}
			} else {
				GType _tmp15_;
#line 367 "/home/test/core/core/database.vala"
				_tmp15_ = ptype;
#line 367 "/home/test/core/core/database.vala"
				if (_tmp15_ == G_TYPE_DOUBLE) {
#line 4432 "database.c"
					gdouble pvalue = 0.0;
					MidoriDatabaseStatement* _tmp16_;
					const gchar* _tmp17_;
					GType _tmp18_;
					gdouble _tmp19_;
#line 368 "/home/test/core/core/database.vala"
					pvalue = va_arg (args, gdouble);
#line 369 "/home/test/core/core/database.vala"
					_tmp16_ = statement;
#line 369 "/home/test/core/core/database.vala"
					_tmp17_ = pname;
#line 369 "/home/test/core/core/database.vala"
					_tmp18_ = ptype;
#line 369 "/home/test/core/core/database.vala"
					_tmp19_ = pvalue;
#line 369 "/home/test/core/core/database.vala"
					midori_database_statement_bind (_tmp16_, _tmp17_, &_inner_error0_, _tmp18_, _tmp19_, NULL);
#line 369 "/home/test/core/core/database.vala"
					if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 369 "/home/test/core/core/database.vala"
						if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 369 "/home/test/core/core/database.vala"
							g_propagate_error (error, _inner_error0_);
#line 369 "/home/test/core/core/database.vala"
							va_end (args);
#line 369 "/home/test/core/core/database.vala"
							_g_object_unref0 (statement);
#line 369 "/home/test/core/core/database.vala"
							return NULL;
#line 4462 "database.c"
						} else {
#line 369 "/home/test/core/core/database.vala"
							va_end (args);
#line 369 "/home/test/core/core/database.vala"
							_g_object_unref0 (statement);
#line 369 "/home/test/core/core/database.vala"
							g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 369 "/home/test/core/core/database.vala"
							g_clear_error (&_inner_error0_);
#line 369 "/home/test/core/core/database.vala"
							return NULL;
#line 4474 "database.c"
						}
					}
				} else {
					GType _tmp20_;
					const gchar* _tmp21_;
					gchar* _tmp22_;
					gchar* _tmp23_;
					GError* _tmp24_;
					GError* _tmp25_;
#line 371 "/home/test/core/core/database.vala"
					_tmp20_ = ptype;
#line 371 "/home/test/core/core/database.vala"
					_tmp21_ = g_type_name (_tmp20_);
#line 371 "/home/test/core/core/database.vala"
					_tmp22_ = g_strdup_printf ("Invalid type '%s' in statement: %s", _tmp21_, query);
#line 371 "/home/test/core/core/database.vala"
					_tmp23_ = _tmp22_;
#line 371 "/home/test/core/core/database.vala"
					_tmp24_ = g_error_new_literal (MIDORI_DATABASE_ERROR, MIDORI_DATABASE_ERROR_TYPE, _tmp23_);
#line 371 "/home/test/core/core/database.vala"
					_tmp25_ = _tmp24_;
#line 371 "/home/test/core/core/database.vala"
					_g_free0 (_tmp23_);
#line 371 "/home/test/core/core/database.vala"
					_inner_error0_ = _tmp25_;
#line 371 "/home/test/core/core/database.vala"
					if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 371 "/home/test/core/core/database.vala"
						g_propagate_error (error, _inner_error0_);
#line 371 "/home/test/core/core/database.vala"
						va_end (args);
#line 371 "/home/test/core/core/database.vala"
						_g_object_unref0 (statement);
#line 371 "/home/test/core/core/database.vala"
						return NULL;
#line 4510 "database.c"
					} else {
#line 371 "/home/test/core/core/database.vala"
						va_end (args);
#line 371 "/home/test/core/core/database.vala"
						_g_object_unref0 (statement);
#line 371 "/home/test/core/core/database.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 371 "/home/test/core/core/database.vala"
						g_clear_error (&_inner_error0_);
#line 371 "/home/test/core/core/database.vala"
						return NULL;
#line 4522 "database.c"
					}
				}
			}
		}
#line 372 "/home/test/core/core/database.vala"
		_tmp26_ = va_arg (args, gchar*);
#line 372 "/home/test/core/core/database.vala"
		pname = _tmp26_;
#line 4531 "database.c"
	}
#line 374 "/home/test/core/core/database.vala"
	result = statement;
#line 374 "/home/test/core/core/database.vala"
	va_end (args);
#line 374 "/home/test/core/core/database.vala"
	return result;
#line 4539 "database.c"
}


static void
midori_database_real_delete_data_free (gpointer _data)
{
	MidoriDatabaseDeleteData* _data_;
	_data_ = _data;
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->item);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->self);
#line 181 "/home/test/core/core/database.vala"
	g_slice_free (MidoriDatabaseDeleteData, _data_);
#line 4554 "database.c"
}


static void
midori_database_real_delete (MidoriDatabase* self,
                             MidoriDatabaseItem* item,
                             GAsyncReadyCallback _callback_,
                             gpointer _user_data_)
{
	MidoriDatabaseDeleteData* _data_;
	MidoriDatabase* _tmp0_;
	MidoriDatabaseItem* _tmp1_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_slice_new0 (MidoriDatabaseDeleteData);
#line 181 "/home/test/core/core/database.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 181 "/home/test/core/core/database.vala"
	g_task_set_task_data (_data_->_async_result, _data_, midori_database_real_delete_data_free);
#line 181 "/home/test/core/core/database.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 181 "/home/test/core/core/database.vala"
	_data_->self = _tmp0_;
#line 181 "/home/test/core/core/database.vala"
	_tmp1_ = _g_object_ref0 (item);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->item);
#line 181 "/home/test/core/core/database.vala"
	_data_->item = _tmp1_;
#line 181 "/home/test/core/core/database.vala"
	midori_database_real_delete_co (_data_);
#line 4585 "database.c"
}


static gboolean
midori_database_real_delete_finish (MidoriDatabase* self,
                                    GAsyncResult* _res_,
                                    GError** error)
{
	gboolean result;
	MidoriDatabaseDeleteData* _data_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 181 "/home/test/core/core/database.vala"
	if (NULL == _data_) {
#line 4600 "database.c"
		gboolean _tmp0_ = FALSE;
#line 181 "/home/test/core/core/database.vala"
		return _tmp0_;
#line 4604 "database.c"
	}
#line 181 "/home/test/core/core/database.vala"
	result = _data_->result;
#line 181 "/home/test/core/core/database.vala"
	return result;
#line 4610 "database.c"
}


static gboolean
midori_database_real_delete_co (MidoriDatabaseDeleteData* _data_)
{
#line 380 "/home/test/core/core/database.vala"
	switch (_data_->_state_) {
#line 380 "/home/test/core/core/database.vala"
		case 0:
#line 4621 "database.c"
		goto _state_0;
		default:
#line 380 "/home/test/core/core/database.vala"
		g_assert_not_reached ();
#line 4626 "database.c"
	}
	_state_0:
#line 381 "/home/test/core/core/database.vala"
	_data_->_tmp0_ = _data_->self->priv->_table;
#line 381 "/home/test/core/core/database.vala"
	_data_->_tmp1_ = g_strdup_printf ("\n                DELETE FROM %s WHERE rowid = :id\n                ", _data_->_tmp0_);
#line 381 "/home/test/core/core/database.vala"
	_data_->sqlcmd = _data_->_tmp1_;
#line 4635 "database.c"
	{
#line 386 "/home/test/core/core/database.vala"
		_data_->_tmp3_ = _data_->sqlcmd;
#line 386 "/home/test/core/core/database.vala"
		_data_->_tmp4_ = midori_database_item_get_id (_data_->item);
#line 386 "/home/test/core/core/database.vala"
		_data_->_tmp5_ = _data_->_tmp4_;
#line 386 "/home/test/core/core/database.vala"
		_data_->_tmp6_ = midori_database_prepare (_data_->self, _data_->_tmp3_, &_data_->_inner_error0_, ":id", G_TYPE_INT64, _data_->_tmp5_, NULL);
#line 386 "/home/test/core/core/database.vala"
		_data_->_tmp2_ = _data_->_tmp6_;
#line 386 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 4649 "database.c"
			goto __catch17_g_error;
		}
#line 386 "/home/test/core/core/database.vala"
		_data_->_tmp7_ = _data_->_tmp2_;
#line 386 "/home/test/core/core/database.vala"
		_data_->_tmp2_ = NULL;
#line 386 "/home/test/core/core/database.vala"
		_g_object_unref0 (_data_->statement);
#line 386 "/home/test/core/core/database.vala"
		_data_->statement = _data_->_tmp7_;
#line 388 "/home/test/core/core/database.vala"
		_data_->_tmp9_ = _data_->statement;
#line 388 "/home/test/core/core/database.vala"
		_data_->_tmp8_ = midori_database_statement_exec (_data_->_tmp9_, &_data_->_inner_error0_);
#line 388 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 388 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->_tmp2_);
#line 4668 "database.c"
			goto __catch17_g_error;
		}
#line 388 "/home/test/core/core/database.vala"
		if (_data_->_tmp8_) {
#line 389 "/home/test/core/core/database.vala"
			_data_->_tmp10_ = _data_->self->priv->_items;
#line 389 "/home/test/core/core/database.vala"
			if (_data_->_tmp10_ != NULL) {
#line 390 "/home/test/core/core/database.vala"
				_data_->_tmp11_ = _data_->self->priv->_items;
#line 390 "/home/test/core/core/database.vala"
				_data_->index = g_list_index (_data_->_tmp11_, _data_->item);
#line 391 "/home/test/core/core/database.vala"
				_data_->self->priv->_items = g_list_remove (_data_->self->priv->_items, _data_->item);
#line 392 "/home/test/core/core/database.vala"
				_data_->_tmp12_ = _data_->index;
#line 392 "/home/test/core/core/database.vala"
				g_list_model_items_changed ((GListModel*) _data_->self, (guint) _data_->_tmp12_, (guint) 1, (guint) 0);
#line 4687 "database.c"
			}
#line 394 "/home/test/core/core/database.vala"
			_data_->result = TRUE;
#line 394 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->_tmp2_);
#line 394 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 394 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 394 "/home/test/core/core/database.vala"
			g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 394 "/home/test/core/core/database.vala"
			if (_data_->_state_ != 0) {
#line 394 "/home/test/core/core/database.vala"
				while (!g_task_get_completed (_data_->_async_result)) {
#line 394 "/home/test/core/core/database.vala"
					g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 4705 "database.c"
				}
			}
#line 394 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 394 "/home/test/core/core/database.vala"
			return FALSE;
#line 4712 "database.c"
		}
#line 385 "/home/test/core/core/database.vala"
		_g_object_unref0 (_data_->_tmp2_);
#line 4716 "database.c"
	}
	goto __finally17;
	__catch17_g_error:
	{
#line 385 "/home/test/core/core/database.vala"
		_data_->_error_ = _data_->_inner_error0_;
#line 385 "/home/test/core/core/database.vala"
		_data_->_inner_error0_ = NULL;
#line 397 "/home/test/core/core/database.vala"
		_data_->_tmp13_ = _data_->self->priv->_table;
#line 397 "/home/test/core/core/database.vala"
		_data_->_tmp14_ = _data_->_error_;
#line 397 "/home/test/core/core/database.vala"
		_data_->_tmp15_ = _data_->_tmp14_->message;
#line 397 "/home/test/core/core/database.vala"
		g_critical (_ ("Failed to delete from %s: %s"), _data_->_tmp13_, _data_->_tmp15_);
#line 385 "/home/test/core/core/database.vala"
		_g_error_free0 (_data_->_error_);
#line 4735 "database.c"
	}
	__finally17:
#line 385 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 385 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 385 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 385 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 385 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 385 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 385 "/home/test/core/core/database.vala"
			return FALSE;
#line 4752 "database.c"
		} else {
#line 385 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 385 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 385 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 385 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 385 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 385 "/home/test/core/core/database.vala"
			return FALSE;
#line 4766 "database.c"
		}
	}
#line 399 "/home/test/core/core/database.vala"
	_data_->result = FALSE;
#line 399 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->statement);
#line 399 "/home/test/core/core/database.vala"
	_g_free0 (_data_->sqlcmd);
#line 399 "/home/test/core/core/database.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 399 "/home/test/core/core/database.vala"
	if (_data_->_state_ != 0) {
#line 399 "/home/test/core/core/database.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 399 "/home/test/core/core/database.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 4783 "database.c"
		}
	}
#line 399 "/home/test/core/core/database.vala"
	g_object_unref (_data_->_async_result);
#line 399 "/home/test/core/core/database.vala"
	return FALSE;
#line 4790 "database.c"
}


void
midori_database_delete (MidoriDatabase* self,
                        MidoriDatabaseItem* item,
                        GAsyncReadyCallback _callback_,
                        gpointer _user_data_)
{
#line 181 "/home/test/core/core/database.vala"
	MIDORI_DATABASE_GET_CLASS (self)->delete (self, item, _callback_, _user_data_);
#line 4802 "database.c"
}


gboolean
midori_database_delete_finish (MidoriDatabase* self,
                               GAsyncResult* _res_,
                               GError** error)
{
#line 181 "/home/test/core/core/database.vala"
	return MIDORI_DATABASE_GET_CLASS (self)->delete_finish (self, _res_, error);
#line 4813 "database.c"
}


static void
midori_database_real_lookup_data_free (gpointer _data)
{
	MidoriDatabaseLookupData* _data_;
	_data_ = _data;
#line 181 "/home/test/core/core/database.vala"
	_g_free0 (_data_->uri);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->result);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->self);
#line 181 "/home/test/core/core/database.vala"
	g_slice_free (MidoriDatabaseLookupData, _data_);
#line 4830 "database.c"
}


static void
midori_database_real_lookup (MidoriDatabase* self,
                             const gchar* uri,
                             GAsyncReadyCallback _callback_,
                             gpointer _user_data_)
{
	MidoriDatabaseLookupData* _data_;
	MidoriDatabase* _tmp0_;
	gchar* _tmp1_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_slice_new0 (MidoriDatabaseLookupData);
#line 181 "/home/test/core/core/database.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 181 "/home/test/core/core/database.vala"
	g_task_set_task_data (_data_->_async_result, _data_, midori_database_real_lookup_data_free);
#line 181 "/home/test/core/core/database.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 181 "/home/test/core/core/database.vala"
	_data_->self = _tmp0_;
#line 181 "/home/test/core/core/database.vala"
	_tmp1_ = g_strdup (uri);
#line 181 "/home/test/core/core/database.vala"
	_g_free0 (_data_->uri);
#line 181 "/home/test/core/core/database.vala"
	_data_->uri = _tmp1_;
#line 181 "/home/test/core/core/database.vala"
	midori_database_real_lookup_co (_data_);
#line 4861 "database.c"
}


static MidoriDatabaseItem*
midori_database_real_lookup_finish (MidoriDatabase* self,
                                    GAsyncResult* _res_,
                                    GError** error)
{
	MidoriDatabaseItem* result;
	MidoriDatabaseLookupData* _data_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 181 "/home/test/core/core/database.vala"
	if (NULL == _data_) {
#line 181 "/home/test/core/core/database.vala"
		return NULL;
#line 4878 "database.c"
	}
#line 181 "/home/test/core/core/database.vala"
	result = _data_->result;
#line 181 "/home/test/core/core/database.vala"
	_data_->result = NULL;
#line 181 "/home/test/core/core/database.vala"
	return result;
#line 4886 "database.c"
}


static gboolean
midori_database_real_lookup_co (MidoriDatabaseLookupData* _data_)
{
#line 405 "/home/test/core/core/database.vala"
	switch (_data_->_state_) {
#line 405 "/home/test/core/core/database.vala"
		case 0:
#line 4897 "database.c"
		goto _state_0;
		default:
#line 405 "/home/test/core/core/database.vala"
		g_assert_not_reached ();
#line 4902 "database.c"
	}
	_state_0:
#line 406 "/home/test/core/core/database.vala"
	_data_->_tmp0_ = _data_->self->priv->_table;
#line 406 "/home/test/core/core/database.vala"
	_data_->_tmp1_ = g_strdup_printf ("\n" \
"                SELECT rowid, title, date FROM %s WHERE uri = :uri LIM" \
"IT 1\n" \
"                ", _data_->_tmp0_);
#line 406 "/home/test/core/core/database.vala"
	_data_->sqlcmd = _data_->_tmp1_;
#line 409 "/home/test/core/core/database.vala"
	_data_->_tmp2_ = _data_->sqlcmd;
#line 409 "/home/test/core/core/database.vala"
	_data_->_tmp3_ = midori_database_prepare (_data_->self, _data_->_tmp2_, &_data_->_inner_error0_, ":uri", G_TYPE_STRING, _data_->uri, NULL);
#line 409 "/home/test/core/core/database.vala"
	_data_->statement = _data_->_tmp3_;
#line 409 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 409 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 409 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 409 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 409 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 409 "/home/test/core/core/database.vala"
			return FALSE;
#line 4929 "database.c"
		} else {
#line 409 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 409 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 409 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 409 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 409 "/home/test/core/core/database.vala"
			return FALSE;
#line 4941 "database.c"
		}
	}
#line 411 "/home/test/core/core/database.vala"
	_data_->_tmp5_ = _data_->statement;
#line 411 "/home/test/core/core/database.vala"
	_data_->_tmp4_ = midori_database_statement_step (_data_->_tmp5_, &_data_->_inner_error0_);
#line 411 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 411 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 411 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 411 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 411 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 411 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 411 "/home/test/core/core/database.vala"
			return FALSE;
#line 4962 "database.c"
		} else {
#line 411 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 411 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 411 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 411 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 411 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 411 "/home/test/core/core/database.vala"
			return FALSE;
#line 4976 "database.c"
		}
	}
#line 411 "/home/test/core/core/database.vala"
	if (_data_->_tmp4_) {
#line 412 "/home/test/core/core/database.vala"
		_data_->_tmp6_ = _data_->statement;
#line 412 "/home/test/core/core/database.vala"
		_data_->_tmp7_ = midori_database_statement_get_string (_data_->_tmp6_, "title", &_data_->_inner_error0_);
#line 412 "/home/test/core/core/database.vala"
		_data_->title = _data_->_tmp7_;
#line 412 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 412 "/home/test/core/core/database.vala"
			if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 412 "/home/test/core/core/database.vala"
				g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 412 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->statement);
#line 412 "/home/test/core/core/database.vala"
				_g_free0 (_data_->sqlcmd);
#line 412 "/home/test/core/core/database.vala"
				g_object_unref (_data_->_async_result);
#line 412 "/home/test/core/core/database.vala"
				return FALSE;
#line 5001 "database.c"
			} else {
#line 412 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->statement);
#line 412 "/home/test/core/core/database.vala"
				_g_free0 (_data_->sqlcmd);
#line 412 "/home/test/core/core/database.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 412 "/home/test/core/core/database.vala"
				g_clear_error (&_data_->_inner_error0_);
#line 412 "/home/test/core/core/database.vala"
				g_object_unref (_data_->_async_result);
#line 412 "/home/test/core/core/database.vala"
				return FALSE;
#line 5015 "database.c"
			}
		}
#line 413 "/home/test/core/core/database.vala"
		_data_->_tmp8_ = _data_->statement;
#line 413 "/home/test/core/core/database.vala"
		_data_->date = midori_database_statement_get_int64 (_data_->_tmp8_, "date", &_data_->_inner_error0_);
#line 413 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 413 "/home/test/core/core/database.vala"
			if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 413 "/home/test/core/core/database.vala"
				g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 413 "/home/test/core/core/database.vala"
				_g_free0 (_data_->title);
#line 413 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->statement);
#line 413 "/home/test/core/core/database.vala"
				_g_free0 (_data_->sqlcmd);
#line 413 "/home/test/core/core/database.vala"
				g_object_unref (_data_->_async_result);
#line 413 "/home/test/core/core/database.vala"
				return FALSE;
#line 5038 "database.c"
			} else {
#line 413 "/home/test/core/core/database.vala"
				_g_free0 (_data_->title);
#line 413 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->statement);
#line 413 "/home/test/core/core/database.vala"
				_g_free0 (_data_->sqlcmd);
#line 413 "/home/test/core/core/database.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 413 "/home/test/core/core/database.vala"
				g_clear_error (&_data_->_inner_error0_);
#line 413 "/home/test/core/core/database.vala"
				g_object_unref (_data_->_async_result);
#line 413 "/home/test/core/core/database.vala"
				return FALSE;
#line 5054 "database.c"
			}
		}
#line 414 "/home/test/core/core/database.vala"
		_data_->_tmp9_ = _data_->title;
#line 414 "/home/test/core/core/database.vala"
		_data_->_tmp10_ = _data_->date;
#line 414 "/home/test/core/core/database.vala"
		_data_->_tmp11_ = midori_database_item_new (_data_->uri, _data_->_tmp9_, _data_->_tmp10_);
#line 414 "/home/test/core/core/database.vala"
		_data_->item = _data_->_tmp11_;
#line 415 "/home/test/core/core/database.vala"
		_data_->_tmp12_ = _data_->item;
#line 415 "/home/test/core/core/database.vala"
		midori_database_item_set_database (_data_->_tmp12_, _data_->self);
#line 416 "/home/test/core/core/database.vala"
		_data_->_tmp14_ = _data_->statement;
#line 416 "/home/test/core/core/database.vala"
		_data_->_tmp13_ = midori_database_statement_get_int64 (_data_->_tmp14_, "rowid", &_data_->_inner_error0_);
#line 416 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 416 "/home/test/core/core/database.vala"
			if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 416 "/home/test/core/core/database.vala"
				g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 416 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->item);
#line 416 "/home/test/core/core/database.vala"
				_g_free0 (_data_->title);
#line 416 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->statement);
#line 416 "/home/test/core/core/database.vala"
				_g_free0 (_data_->sqlcmd);
#line 416 "/home/test/core/core/database.vala"
				g_object_unref (_data_->_async_result);
#line 416 "/home/test/core/core/database.vala"
				return FALSE;
#line 5091 "database.c"
			} else {
#line 416 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->item);
#line 416 "/home/test/core/core/database.vala"
				_g_free0 (_data_->title);
#line 416 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->statement);
#line 416 "/home/test/core/core/database.vala"
				_g_free0 (_data_->sqlcmd);
#line 416 "/home/test/core/core/database.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 416 "/home/test/core/core/database.vala"
				g_clear_error (&_data_->_inner_error0_);
#line 416 "/home/test/core/core/database.vala"
				g_object_unref (_data_->_async_result);
#line 416 "/home/test/core/core/database.vala"
				return FALSE;
#line 5109 "database.c"
			}
		}
#line 416 "/home/test/core/core/database.vala"
		_data_->_tmp15_ = _data_->item;
#line 416 "/home/test/core/core/database.vala"
		midori_database_item_set_id (_data_->_tmp15_, _data_->_tmp13_);
#line 417 "/home/test/core/core/database.vala"
		_data_->result = _data_->item;
#line 417 "/home/test/core/core/database.vala"
		_g_free0 (_data_->title);
#line 417 "/home/test/core/core/database.vala"
		_g_object_unref0 (_data_->statement);
#line 417 "/home/test/core/core/database.vala"
		_g_free0 (_data_->sqlcmd);
#line 417 "/home/test/core/core/database.vala"
		g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 417 "/home/test/core/core/database.vala"
		if (_data_->_state_ != 0) {
#line 417 "/home/test/core/core/database.vala"
			while (!g_task_get_completed (_data_->_async_result)) {
#line 417 "/home/test/core/core/database.vala"
				g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 5132 "database.c"
			}
		}
#line 417 "/home/test/core/core/database.vala"
		g_object_unref (_data_->_async_result);
#line 417 "/home/test/core/core/database.vala"
		return FALSE;
#line 5139 "database.c"
	}
#line 419 "/home/test/core/core/database.vala"
	_data_->result = NULL;
#line 419 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->statement);
#line 419 "/home/test/core/core/database.vala"
	_g_free0 (_data_->sqlcmd);
#line 419 "/home/test/core/core/database.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 419 "/home/test/core/core/database.vala"
	if (_data_->_state_ != 0) {
#line 419 "/home/test/core/core/database.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 419 "/home/test/core/core/database.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 5155 "database.c"
		}
	}
#line 419 "/home/test/core/core/database.vala"
	g_object_unref (_data_->_async_result);
#line 419 "/home/test/core/core/database.vala"
	return FALSE;
#line 5162 "database.c"
}


void
midori_database_lookup (MidoriDatabase* self,
                        const gchar* uri,
                        GAsyncReadyCallback _callback_,
                        gpointer _user_data_)
{
#line 181 "/home/test/core/core/database.vala"
	MIDORI_DATABASE_GET_CLASS (self)->lookup (self, uri, _callback_, _user_data_);
#line 5174 "database.c"
}


MidoriDatabaseItem*
midori_database_lookup_finish (MidoriDatabase* self,
                               GAsyncResult* _res_,
                               GError** error)
{
#line 181 "/home/test/core/core/database.vala"
	return MIDORI_DATABASE_GET_CLASS (self)->lookup_finish (self, _res_, error);
#line 5185 "database.c"
}


gboolean
midori_database_contains (MidoriDatabase* self,
                          MidoriDatabaseItem* item,
                          GError** error)
{
	gboolean result = FALSE;
	gchar* sqlcmd = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	MidoriDatabaseStatement* statement = NULL;
	GError* _inner_error0_ = NULL;
#line 425 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 425 "/home/test/core/core/database.vala"
	g_return_val_if_fail (item != NULL, FALSE);
#line 426 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_table;
#line 426 "/home/test/core/core/database.vala"
	_tmp1_ = g_strdup_printf ("\n" \
"                SELECT uri FROM %s WHERE uri = :uri LIMIT 1\n" \
"                ", _tmp0_);
#line 426 "/home/test/core/core/database.vala"
	sqlcmd = _tmp1_;
#line 5210 "database.c"
	{
		MidoriDatabaseStatement* _tmp2_ = NULL;
		const gchar* _tmp3_;
		const gchar* _tmp4_;
		const gchar* _tmp5_;
		MidoriDatabaseStatement* _tmp6_;
		MidoriDatabaseStatement* _tmp7_;
		gboolean _tmp8_ = FALSE;
		MidoriDatabaseStatement* _tmp9_;
#line 431 "/home/test/core/core/database.vala"
		_tmp3_ = sqlcmd;
#line 431 "/home/test/core/core/database.vala"
		_tmp4_ = midori_database_item_get_uri (item);
#line 431 "/home/test/core/core/database.vala"
		_tmp5_ = _tmp4_;
#line 431 "/home/test/core/core/database.vala"
		_tmp6_ = midori_database_prepare (self, _tmp3_, &_inner_error0_, ":uri", G_TYPE_STRING, _tmp5_, NULL);
#line 431 "/home/test/core/core/database.vala"
		_tmp2_ = _tmp6_;
#line 431 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 5232 "database.c"
			goto __catch18_g_error;
		}
#line 431 "/home/test/core/core/database.vala"
		_tmp7_ = _tmp2_;
#line 431 "/home/test/core/core/database.vala"
		_tmp2_ = NULL;
#line 431 "/home/test/core/core/database.vala"
		_g_object_unref0 (statement);
#line 431 "/home/test/core/core/database.vala"
		statement = _tmp7_;
#line 433 "/home/test/core/core/database.vala"
		_tmp9_ = statement;
#line 433 "/home/test/core/core/database.vala"
		_tmp8_ = midori_database_statement_step (_tmp9_, &_inner_error0_);
#line 433 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 433 "/home/test/core/core/database.vala"
			_g_object_unref0 (_tmp2_);
#line 5251 "database.c"
			goto __catch18_g_error;
		}
#line 433 "/home/test/core/core/database.vala"
		result = _tmp8_;
#line 433 "/home/test/core/core/database.vala"
		_g_object_unref0 (_tmp2_);
#line 433 "/home/test/core/core/database.vala"
		_g_object_unref0 (statement);
#line 433 "/home/test/core/core/database.vala"
		_g_free0 (sqlcmd);
#line 433 "/home/test/core/core/database.vala"
		return result;
#line 5264 "database.c"
	}
	goto __finally18;
	__catch18_g_error:
	{
		GError* _error_ = NULL;
		const gchar* _tmp10_;
		GError* _tmp11_;
		const gchar* _tmp12_;
#line 430 "/home/test/core/core/database.vala"
		_error_ = _inner_error0_;
#line 430 "/home/test/core/core/database.vala"
		_inner_error0_ = NULL;
#line 435 "/home/test/core/core/database.vala"
		_tmp10_ = self->priv->_table;
#line 435 "/home/test/core/core/database.vala"
		_tmp11_ = _error_;
#line 435 "/home/test/core/core/database.vala"
		_tmp12_ = _tmp11_->message;
#line 435 "/home/test/core/core/database.vala"
		g_critical (_ ("Failed to select from %s: %s"), _tmp10_, _tmp12_);
#line 430 "/home/test/core/core/database.vala"
		_g_error_free0 (_error_);
#line 5287 "database.c"
	}
	__finally18:
#line 430 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 430 "/home/test/core/core/database.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 5294 "database.c"
			gboolean _tmp13_ = FALSE;
#line 430 "/home/test/core/core/database.vala"
			g_propagate_error (error, _inner_error0_);
#line 430 "/home/test/core/core/database.vala"
			_g_object_unref0 (statement);
#line 430 "/home/test/core/core/database.vala"
			_g_free0 (sqlcmd);
#line 430 "/home/test/core/core/database.vala"
			return _tmp13_;
#line 5304 "database.c"
		} else {
			gboolean _tmp14_ = FALSE;
#line 430 "/home/test/core/core/database.vala"
			_g_object_unref0 (statement);
#line 430 "/home/test/core/core/database.vala"
			_g_free0 (sqlcmd);
#line 430 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 430 "/home/test/core/core/database.vala"
			g_clear_error (&_inner_error0_);
#line 430 "/home/test/core/core/database.vala"
			return _tmp14_;
#line 5317 "database.c"
		}
	}
#line 437 "/home/test/core/core/database.vala"
	result = FALSE;
#line 437 "/home/test/core/core/database.vala"
	_g_object_unref0 (statement);
#line 437 "/home/test/core/core/database.vala"
	_g_free0 (sqlcmd);
#line 437 "/home/test/core/core/database.vala"
	return result;
#line 5328 "database.c"
}


static void
midori_database_real_query_data_free (gpointer _data)
{
	MidoriDatabaseQueryData* _data_;
	_data_ = _data;
#line 181 "/home/test/core/core/database.vala"
	_g_free0 (_data_->filter);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->cancellable);
#line 181 "/home/test/core/core/database.vala"
	(_data_->result == NULL) ? NULL : (_data_->result = (_g_list_free__g_object_unref0_ (_data_->result), NULL));
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->self);
#line 181 "/home/test/core/core/database.vala"
	g_slice_free (MidoriDatabaseQueryData, _data_);
#line 5347 "database.c"
}


static void
midori_database_real_query (MidoriDatabase* self,
                            const gchar* filter,
                            gint64 max_items,
                            GCancellable* cancellable,
                            GAsyncReadyCallback _callback_,
                            gpointer _user_data_)
{
	MidoriDatabaseQueryData* _data_;
	MidoriDatabase* _tmp0_;
	gchar* _tmp1_;
	GCancellable* _tmp2_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_slice_new0 (MidoriDatabaseQueryData);
#line 181 "/home/test/core/core/database.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), cancellable, _callback_, _user_data_);
#line 181 "/home/test/core/core/database.vala"
	g_task_set_task_data (_data_->_async_result, _data_, midori_database_real_query_data_free);
#line 181 "/home/test/core/core/database.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 181 "/home/test/core/core/database.vala"
	_data_->self = _tmp0_;
#line 181 "/home/test/core/core/database.vala"
	_tmp1_ = g_strdup (filter);
#line 181 "/home/test/core/core/database.vala"
	_g_free0 (_data_->filter);
#line 181 "/home/test/core/core/database.vala"
	_data_->filter = _tmp1_;
#line 181 "/home/test/core/core/database.vala"
	_data_->max_items = max_items;
#line 181 "/home/test/core/core/database.vala"
	_tmp2_ = _g_object_ref0 (cancellable);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->cancellable);
#line 181 "/home/test/core/core/database.vala"
	_data_->cancellable = _tmp2_;
#line 181 "/home/test/core/core/database.vala"
	midori_database_real_query_co (_data_);
#line 5389 "database.c"
}


static GList*
midori_database_real_query_finish (MidoriDatabase* self,
                                   GAsyncResult* _res_,
                                   GError** error)
{
	GList* result;
	MidoriDatabaseQueryData* _data_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 181 "/home/test/core/core/database.vala"
	if (NULL == _data_) {
#line 181 "/home/test/core/core/database.vala"
		return NULL;
#line 5406 "database.c"
	}
#line 181 "/home/test/core/core/database.vala"
	result = _data_->result;
#line 181 "/home/test/core/core/database.vala"
	_data_->result = NULL;
#line 181 "/home/test/core/core/database.vala"
	return result;
#line 5414 "database.c"
}


static gchar*
string_replace (const gchar* self,
                const gchar* old,
                const gchar* replacement)
{
	gchar* result = NULL;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	GError* _inner_error0_ = NULL;
#line 1479 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1479 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (old != NULL, NULL);
#line 1479 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (replacement != NULL, NULL);
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if ((*((gchar*) self)) == '\0') {
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp1_ = TRUE;
#line 5437 "database.c"
	} else {
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp1_ = (*((gchar*) old)) == '\0';
#line 5441 "database.c"
	}
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (_tmp1_) {
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp0_ = TRUE;
#line 5447 "database.c"
	} else {
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp0_ = g_strcmp0 (old, replacement) == 0;
#line 5451 "database.c"
	}
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (_tmp0_) {
#line 5455 "database.c"
		gchar* _tmp2_;
#line 1481 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp2_ = g_strdup (self);
#line 1481 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		result = _tmp2_;
#line 1481 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return result;
#line 5463 "database.c"
	}
	{
		GRegex* regex = NULL;
		gchar* _tmp3_;
		gchar* _tmp4_;
		GRegex* _tmp5_;
		GRegex* _tmp6_;
		gchar* _tmp7_ = NULL;
		GRegex* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp3_ = g_regex_escape_string (old, -1);
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp4_ = _tmp3_;
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp5_ = g_regex_new (_tmp4_, 0, 0, &_inner_error0_);
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp6_ = _tmp5_;
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_g_free0 (_tmp4_);
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		regex = _tmp6_;
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 5491 "database.c"
				goto __catch20_g_regex_error;
			}
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			return NULL;
#line 5500 "database.c"
		}
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp8_ = regex;
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp9_ = g_regex_replace_literal (_tmp8_, self, (gssize) -1, 0, replacement, 0, &_inner_error0_);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp7_ = _tmp9_;
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 5514 "database.c"
				goto __catch20_g_regex_error;
			}
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			return NULL;
#line 5523 "database.c"
		}
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp10_ = _tmp7_;
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp7_ = NULL;
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		result = _tmp10_;
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_g_free0 (_tmp7_);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return result;
#line 5537 "database.c"
	}
	goto __finally20;
	__catch20_g_regex_error:
	{
		GError* e = NULL;
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		e = _inner_error0_;
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_inner_error0_ = NULL;
#line 1487 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		g_assert_not_reached ();
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_g_error_free0 (e);
#line 5551 "database.c"
	}
	__finally20:
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		g_clear_error (&_inner_error0_);
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return NULL;
#line 5562 "database.c"
	}
}


static gboolean
_midori_database_real_query_co_gsource_func (gpointer self)
{
	gboolean result;
	result = midori_database_real_query_co (self);
#line 475 "/home/test/core/core/database.vala"
	return result;
#line 5574 "database.c"
}


static gboolean
midori_database_real_query_co (MidoriDatabaseQueryData* _data_)
{
#line 443 "/home/test/core/core/database.vala"
	switch (_data_->_state_) {
#line 443 "/home/test/core/core/database.vala"
		case 0:
#line 5585 "database.c"
		goto _state_0;
#line 443 "/home/test/core/core/database.vala"
		case 1:
#line 5589 "database.c"
		goto _state_1;
		default:
#line 443 "/home/test/core/core/database.vala"
		g_assert_not_reached ();
#line 5594 "database.c"
	}
	_state_0:
#line 444 "/home/test/core/core/database.vala"
	if (_data_->filter != NULL) {
#line 444 "/home/test/core/core/database.vala"
		_data_->_tmp0_ = "WHERE uri LIKE :filter OR title LIKE :filter";
#line 5601 "database.c"
	} else {
#line 444 "/home/test/core/core/database.vala"
		_data_->_tmp0_ = "";
#line 5605 "database.c"
	}
#line 444 "/home/test/core/core/database.vala"
	_data_->_tmp1_ = g_strdup (_data_->_tmp0_);
#line 444 "/home/test/core/core/database.vala"
	_data_->where = _data_->_tmp1_;
#line 445 "/home/test/core/core/database.vala"
	_data_->_tmp2_ = _data_->self->priv->_table;
#line 445 "/home/test/core/core/database.vala"
	_data_->_tmp3_ = _data_->where;
#line 445 "/home/test/core/core/database.vala"
	_data_->_tmp4_ = g_strdup_printf ("\n" \
"                SELECT rowid, uri, title, date, count (uri) AS ct FROM" \
" %s\n" \
"                %s\n" \
"                GROUP BY uri\n" \
"                ORDER BY ct DESC LIMIT :limit\n" \
"                ", _data_->_tmp2_, _data_->_tmp3_);
#line 445 "/home/test/core/core/database.vala"
	_data_->sqlcmd = _data_->_tmp4_;
#line 5619 "database.c"
	{
#line 453 "/home/test/core/core/database.vala"
		_data_->_tmp6_ = _data_->sqlcmd;
#line 453 "/home/test/core/core/database.vala"
		_data_->_tmp7_ = midori_database_prepare (_data_->self, _data_->_tmp6_, &_data_->_inner_error0_, ":limit", G_TYPE_INT64, _data_->max_items, NULL);
#line 453 "/home/test/core/core/database.vala"
		_data_->_tmp5_ = _data_->_tmp7_;
#line 453 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 5629 "database.c"
			goto __catch19_g_error;
		}
#line 453 "/home/test/core/core/database.vala"
		_data_->_tmp8_ = _data_->_tmp5_;
#line 453 "/home/test/core/core/database.vala"
		_data_->_tmp5_ = NULL;
#line 453 "/home/test/core/core/database.vala"
		_g_object_unref0 (_data_->statement);
#line 453 "/home/test/core/core/database.vala"
		_data_->statement = _data_->_tmp8_;
#line 455 "/home/test/core/core/database.vala"
		if (_data_->filter != NULL) {
#line 456 "/home/test/core/core/database.vala"
			_data_->_tmp9_ = string_replace (_data_->filter, " ", "%");
#line 456 "/home/test/core/core/database.vala"
			_data_->_tmp10_ = _data_->_tmp9_;
#line 456 "/home/test/core/core/database.vala"
			_data_->_tmp11_ = g_strconcat ("%", _data_->_tmp10_, NULL);
#line 456 "/home/test/core/core/database.vala"
			_data_->_tmp12_ = _data_->_tmp11_;
#line 456 "/home/test/core/core/database.vala"
			_data_->_tmp13_ = g_strconcat (_data_->_tmp12_, "%", NULL);
#line 456 "/home/test/core/core/database.vala"
			_data_->_tmp14_ = _data_->_tmp13_;
#line 456 "/home/test/core/core/database.vala"
			_g_free0 (_data_->_tmp12_);
#line 456 "/home/test/core/core/database.vala"
			_g_free0 (_data_->_tmp10_);
#line 456 "/home/test/core/core/database.vala"
			_data_->real_filter = _data_->_tmp14_;
#line 457 "/home/test/core/core/database.vala"
			_data_->_tmp15_ = _data_->statement;
#line 457 "/home/test/core/core/database.vala"
			_data_->_tmp16_ = _data_->real_filter;
#line 457 "/home/test/core/core/database.vala"
			midori_database_statement_bind (_data_->_tmp15_, ":filter", &_data_->_inner_error0_, G_TYPE_STRING, _data_->_tmp16_, NULL);
#line 457 "/home/test/core/core/database.vala"
			if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 457 "/home/test/core/core/database.vala"
				_g_free0 (_data_->real_filter);
#line 457 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->_tmp5_);
#line 5672 "database.c"
				goto __catch19_g_error;
			}
#line 455 "/home/test/core/core/database.vala"
			_g_free0 (_data_->real_filter);
#line 5677 "database.c"
		}
#line 452 "/home/test/core/core/database.vala"
		_g_object_unref0 (_data_->_tmp5_);
#line 5681 "database.c"
	}
	goto __finally19;
	__catch19_g_error:
	{
#line 452 "/home/test/core/core/database.vala"
		_data_->_error_ = _data_->_inner_error0_;
#line 452 "/home/test/core/core/database.vala"
		_data_->_inner_error0_ = NULL;
#line 460 "/home/test/core/core/database.vala"
		_data_->_tmp17_ = _data_->self->priv->_table;
#line 460 "/home/test/core/core/database.vala"
		_data_->_tmp18_ = _data_->_error_;
#line 460 "/home/test/core/core/database.vala"
		_data_->_tmp19_ = _data_->_tmp18_->message;
#line 460 "/home/test/core/core/database.vala"
		g_critical (_ ("Failed to select from %s: %s"), _data_->_tmp17_, _data_->_tmp19_);
#line 461 "/home/test/core/core/database.vala"
		_data_->result = NULL;
#line 461 "/home/test/core/core/database.vala"
		_g_error_free0 (_data_->_error_);
#line 461 "/home/test/core/core/database.vala"
		_g_object_unref0 (_data_->statement);
#line 461 "/home/test/core/core/database.vala"
		_g_free0 (_data_->sqlcmd);
#line 461 "/home/test/core/core/database.vala"
		_g_free0 (_data_->where);
#line 461 "/home/test/core/core/database.vala"
		g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 461 "/home/test/core/core/database.vala"
		if (_data_->_state_ != 0) {
#line 461 "/home/test/core/core/database.vala"
			while (!g_task_get_completed (_data_->_async_result)) {
#line 461 "/home/test/core/core/database.vala"
				g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 5716 "database.c"
			}
		}
#line 461 "/home/test/core/core/database.vala"
		g_object_unref (_data_->_async_result);
#line 461 "/home/test/core/core/database.vala"
		return FALSE;
#line 5723 "database.c"
	}
	__finally19:
#line 452 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 452 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 452 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 452 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 452 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 452 "/home/test/core/core/database.vala"
			_g_free0 (_data_->where);
#line 452 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 452 "/home/test/core/core/database.vala"
			return FALSE;
#line 5742 "database.c"
		} else {
#line 452 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 452 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 452 "/home/test/core/core/database.vala"
			_g_free0 (_data_->where);
#line 452 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 452 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 452 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 452 "/home/test/core/core/database.vala"
			return FALSE;
#line 5758 "database.c"
		}
	}
#line 464 "/home/test/core/core/database.vala"
	_data_->items = NULL;
#line 5763 "database.c"
	{
#line 466 "/home/test/core/core/database.vala"
		while (TRUE) {
#line 466 "/home/test/core/core/database.vala"
			_data_->_tmp21_ = _data_->statement;
#line 466 "/home/test/core/core/database.vala"
			_data_->_tmp20_ = midori_database_statement_step (_data_->_tmp21_, &_data_->_inner_error0_);
#line 466 "/home/test/core/core/database.vala"
			if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 5773 "database.c"
				goto __catch21_g_error;
			}
#line 466 "/home/test/core/core/database.vala"
			if (!_data_->_tmp20_) {
#line 466 "/home/test/core/core/database.vala"
				break;
#line 5780 "database.c"
			}
#line 467 "/home/test/core/core/database.vala"
			_data_->_tmp22_ = _data_->statement;
#line 467 "/home/test/core/core/database.vala"
			_data_->_tmp23_ = midori_database_statement_get_string (_data_->_tmp22_, "uri", &_data_->_inner_error0_);
#line 467 "/home/test/core/core/database.vala"
			_data_->uri = _data_->_tmp23_;
#line 467 "/home/test/core/core/database.vala"
			if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 5790 "database.c"
				goto __catch21_g_error;
			}
#line 468 "/home/test/core/core/database.vala"
			_data_->_tmp24_ = _data_->statement;
#line 468 "/home/test/core/core/database.vala"
			_data_->_tmp25_ = midori_database_statement_get_string (_data_->_tmp24_, "title", &_data_->_inner_error0_);
#line 468 "/home/test/core/core/database.vala"
			_data_->title = _data_->_tmp25_;
#line 468 "/home/test/core/core/database.vala"
			if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 468 "/home/test/core/core/database.vala"
				_g_free0 (_data_->uri);
#line 5803 "database.c"
				goto __catch21_g_error;
			}
#line 469 "/home/test/core/core/database.vala"
			_data_->_tmp26_ = _data_->statement;
#line 469 "/home/test/core/core/database.vala"
			_data_->date = midori_database_statement_get_int64 (_data_->_tmp26_, "date", &_data_->_inner_error0_);
#line 469 "/home/test/core/core/database.vala"
			if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 469 "/home/test/core/core/database.vala"
				_g_free0 (_data_->title);
#line 469 "/home/test/core/core/database.vala"
				_g_free0 (_data_->uri);
#line 5816 "database.c"
				goto __catch21_g_error;
			}
#line 470 "/home/test/core/core/database.vala"
			_data_->_tmp27_ = _data_->uri;
#line 470 "/home/test/core/core/database.vala"
			_data_->_tmp28_ = _data_->title;
#line 470 "/home/test/core/core/database.vala"
			_data_->_tmp29_ = _data_->date;
#line 470 "/home/test/core/core/database.vala"
			_data_->_tmp30_ = midori_database_item_new (_data_->_tmp27_, _data_->_tmp28_, _data_->_tmp29_);
#line 470 "/home/test/core/core/database.vala"
			_data_->item = _data_->_tmp30_;
#line 471 "/home/test/core/core/database.vala"
			_data_->_tmp31_ = _data_->item;
#line 471 "/home/test/core/core/database.vala"
			midori_database_item_set_database (_data_->_tmp31_, _data_->self);
#line 472 "/home/test/core/core/database.vala"
			_data_->_tmp33_ = _data_->statement;
#line 472 "/home/test/core/core/database.vala"
			_data_->_tmp32_ = midori_database_statement_get_int64 (_data_->_tmp33_, "rowid", &_data_->_inner_error0_);
#line 472 "/home/test/core/core/database.vala"
			if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 472 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->item);
#line 472 "/home/test/core/core/database.vala"
				_g_free0 (_data_->title);
#line 472 "/home/test/core/core/database.vala"
				_g_free0 (_data_->uri);
#line 5845 "database.c"
				goto __catch21_g_error;
			}
#line 472 "/home/test/core/core/database.vala"
			_data_->_tmp34_ = _data_->item;
#line 472 "/home/test/core/core/database.vala"
			midori_database_item_set_id (_data_->_tmp34_, _data_->_tmp32_);
#line 473 "/home/test/core/core/database.vala"
			_data_->_tmp35_ = _data_->item;
#line 473 "/home/test/core/core/database.vala"
			_data_->_tmp36_ = _g_object_ref0 (_data_->_tmp35_);
#line 473 "/home/test/core/core/database.vala"
			_data_->items = g_list_append (_data_->items, _data_->_tmp36_);
#line 475 "/home/test/core/core/database.vala"
			_data_->src = g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, _midori_database_real_query_co_gsource_func, _data_, NULL);
#line 476 "/home/test/core/core/database.vala"
			_data_->_state_ = 1;
#line 476 "/home/test/core/core/database.vala"
			return FALSE;
#line 5864 "database.c"
			_state_1:
			;
#line 477 "/home/test/core/core/database.vala"
			_data_->_tmp37_ = _data_->src;
#line 477 "/home/test/core/core/database.vala"
			g_source_remove (_data_->_tmp37_);
#line 479 "/home/test/core/core/database.vala"
			if (_data_->cancellable != NULL) {
#line 479 "/home/test/core/core/database.vala"
				_data_->_tmp38_ = g_cancellable_is_cancelled (_data_->cancellable);
#line 5875 "database.c"
			} else {
#line 479 "/home/test/core/core/database.vala"
				_data_->_tmp38_ = FALSE;
#line 5879 "database.c"
			}
#line 479 "/home/test/core/core/database.vala"
			if (_data_->_tmp38_) {
#line 480 "/home/test/core/core/database.vala"
				_data_->result = NULL;
#line 480 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->item);
#line 480 "/home/test/core/core/database.vala"
				_g_free0 (_data_->title);
#line 480 "/home/test/core/core/database.vala"
				_g_free0 (_data_->uri);
#line 480 "/home/test/core/core/database.vala"
				(_data_->items == NULL) ? NULL : (_data_->items = (_g_list_free__g_object_unref0_ (_data_->items), NULL));
#line 480 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->statement);
#line 480 "/home/test/core/core/database.vala"
				_g_free0 (_data_->sqlcmd);
#line 480 "/home/test/core/core/database.vala"
				_g_free0 (_data_->where);
#line 480 "/home/test/core/core/database.vala"
				g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 480 "/home/test/core/core/database.vala"
				if (_data_->_state_ != 0) {
#line 480 "/home/test/core/core/database.vala"
					while (!g_task_get_completed (_data_->_async_result)) {
#line 480 "/home/test/core/core/database.vala"
						g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 5907 "database.c"
					}
				}
#line 480 "/home/test/core/core/database.vala"
				g_object_unref (_data_->_async_result);
#line 480 "/home/test/core/core/database.vala"
				return FALSE;
#line 5914 "database.c"
			}
#line 466 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->item);
#line 466 "/home/test/core/core/database.vala"
			_g_free0 (_data_->title);
#line 466 "/home/test/core/core/database.vala"
			_g_free0 (_data_->uri);
#line 5922 "database.c"
		}
	}
	goto __finally21;
	__catch21_g_error:
	{
#line 465 "/home/test/core/core/database.vala"
		_data_->_vala1__error_ = _data_->_inner_error0_;
#line 465 "/home/test/core/core/database.vala"
		_data_->_inner_error0_ = NULL;
#line 483 "/home/test/core/core/database.vala"
		_data_->_tmp39_ = _data_->self->priv->_table;
#line 483 "/home/test/core/core/database.vala"
		_data_->_tmp40_ = _data_->_vala1__error_;
#line 483 "/home/test/core/core/database.vala"
		_data_->_tmp41_ = _data_->_tmp40_->message;
#line 483 "/home/test/core/core/database.vala"
		g_critical (_ ("Failed to select from %s: %s"), _data_->_tmp39_, _data_->_tmp41_);
#line 465 "/home/test/core/core/database.vala"
		_g_error_free0 (_data_->_vala1__error_);
#line 5942 "database.c"
	}
	__finally21:
#line 465 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 465 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 465 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 465 "/home/test/core/core/database.vala"
			(_data_->items == NULL) ? NULL : (_data_->items = (_g_list_free__g_object_unref0_ (_data_->items), NULL));
#line 465 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 465 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 465 "/home/test/core/core/database.vala"
			_g_free0 (_data_->where);
#line 465 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 465 "/home/test/core/core/database.vala"
			return FALSE;
#line 5963 "database.c"
		} else {
#line 465 "/home/test/core/core/database.vala"
			(_data_->items == NULL) ? NULL : (_data_->items = (_g_list_free__g_object_unref0_ (_data_->items), NULL));
#line 465 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 465 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 465 "/home/test/core/core/database.vala"
			_g_free0 (_data_->where);
#line 465 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 465 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 465 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 465 "/home/test/core/core/database.vala"
			return FALSE;
#line 5981 "database.c"
		}
	}
#line 486 "/home/test/core/core/database.vala"
	if (_data_->cancellable != NULL) {
#line 486 "/home/test/core/core/database.vala"
		_data_->_tmp42_ = g_cancellable_is_cancelled (_data_->cancellable);
#line 5988 "database.c"
	} else {
#line 486 "/home/test/core/core/database.vala"
		_data_->_tmp42_ = FALSE;
#line 5992 "database.c"
	}
#line 486 "/home/test/core/core/database.vala"
	if (_data_->_tmp42_) {
#line 487 "/home/test/core/core/database.vala"
		_data_->result = NULL;
#line 487 "/home/test/core/core/database.vala"
		(_data_->items == NULL) ? NULL : (_data_->items = (_g_list_free__g_object_unref0_ (_data_->items), NULL));
#line 487 "/home/test/core/core/database.vala"
		_g_object_unref0 (_data_->statement);
#line 487 "/home/test/core/core/database.vala"
		_g_free0 (_data_->sqlcmd);
#line 487 "/home/test/core/core/database.vala"
		_g_free0 (_data_->where);
#line 487 "/home/test/core/core/database.vala"
		g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 487 "/home/test/core/core/database.vala"
		if (_data_->_state_ != 0) {
#line 487 "/home/test/core/core/database.vala"
			while (!g_task_get_completed (_data_->_async_result)) {
#line 487 "/home/test/core/core/database.vala"
				g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 6014 "database.c"
			}
		}
#line 487 "/home/test/core/core/database.vala"
		g_object_unref (_data_->_async_result);
#line 487 "/home/test/core/core/database.vala"
		return FALSE;
#line 6021 "database.c"
	}
#line 488 "/home/test/core/core/database.vala"
	_data_->result = _data_->items;
#line 488 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->statement);
#line 488 "/home/test/core/core/database.vala"
	_g_free0 (_data_->sqlcmd);
#line 488 "/home/test/core/core/database.vala"
	_g_free0 (_data_->where);
#line 488 "/home/test/core/core/database.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 488 "/home/test/core/core/database.vala"
	if (_data_->_state_ != 0) {
#line 488 "/home/test/core/core/database.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 488 "/home/test/core/core/database.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 6039 "database.c"
		}
	}
#line 488 "/home/test/core/core/database.vala"
	g_object_unref (_data_->_async_result);
#line 488 "/home/test/core/core/database.vala"
	return FALSE;
#line 6046 "database.c"
}


void
midori_database_query (MidoriDatabase* self,
                       const gchar* filter,
                       gint64 max_items,
                       GCancellable* cancellable,
                       GAsyncReadyCallback _callback_,
                       gpointer _user_data_)
{
#line 181 "/home/test/core/core/database.vala"
	MIDORI_DATABASE_GET_CLASS (self)->query (self, filter, max_items, cancellable, _callback_, _user_data_);
#line 6060 "database.c"
}


GList*
midori_database_query_finish (MidoriDatabase* self,
                              GAsyncResult* _res_,
                              GError** error)
{
#line 181 "/home/test/core/core/database.vala"
	return MIDORI_DATABASE_GET_CLASS (self)->query_finish (self, _res_, error);
#line 6071 "database.c"
}


static void
midori_database_real_update_data_free (gpointer _data)
{
	MidoriDatabaseUpdateData* _data_;
	_data_ = _data;
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->item);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->self);
#line 181 "/home/test/core/core/database.vala"
	g_slice_free (MidoriDatabaseUpdateData, _data_);
#line 6086 "database.c"
}


static void
midori_database_real_update (MidoriDatabase* self,
                             MidoriDatabaseItem* item,
                             GAsyncReadyCallback _callback_,
                             gpointer _user_data_)
{
	MidoriDatabaseUpdateData* _data_;
	MidoriDatabase* _tmp0_;
	MidoriDatabaseItem* _tmp1_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_slice_new0 (MidoriDatabaseUpdateData);
#line 181 "/home/test/core/core/database.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 181 "/home/test/core/core/database.vala"
	g_task_set_task_data (_data_->_async_result, _data_, midori_database_real_update_data_free);
#line 181 "/home/test/core/core/database.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 181 "/home/test/core/core/database.vala"
	_data_->self = _tmp0_;
#line 181 "/home/test/core/core/database.vala"
	_tmp1_ = _g_object_ref0 (item);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->item);
#line 181 "/home/test/core/core/database.vala"
	_data_->item = _tmp1_;
#line 181 "/home/test/core/core/database.vala"
	midori_database_real_update_co (_data_);
#line 6117 "database.c"
}


static gboolean
midori_database_real_update_finish (MidoriDatabase* self,
                                    GAsyncResult* _res_,
                                    GError** error)
{
	gboolean result;
	MidoriDatabaseUpdateData* _data_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 181 "/home/test/core/core/database.vala"
	if (NULL == _data_) {
#line 6132 "database.c"
		gboolean _tmp0_ = FALSE;
#line 181 "/home/test/core/core/database.vala"
		return _tmp0_;
#line 6136 "database.c"
	}
#line 181 "/home/test/core/core/database.vala"
	result = _data_->result;
#line 181 "/home/test/core/core/database.vala"
	return result;
#line 6142 "database.c"
}


static gboolean
midori_database_real_update_co (MidoriDatabaseUpdateData* _data_)
{
#line 494 "/home/test/core/core/database.vala"
	switch (_data_->_state_) {
#line 494 "/home/test/core/core/database.vala"
		case 0:
#line 6153 "database.c"
		goto _state_0;
		default:
#line 494 "/home/test/core/core/database.vala"
		g_assert_not_reached ();
#line 6158 "database.c"
	}
	_state_0:
#line 495 "/home/test/core/core/database.vala"
	_data_->_tmp0_ = _data_->self->priv->_table;
#line 495 "/home/test/core/core/database.vala"
	_data_->_tmp1_ = g_strdup_printf ("\n" \
"                UPDATE %s SET uri=:uri, title=:title, date=:date WHERE" \
" rowid = :id\n" \
"                ", _data_->_tmp0_);
#line 495 "/home/test/core/core/database.vala"
	_data_->sqlcmd = _data_->_tmp1_;
#line 6167 "database.c"
	{
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp3_ = _data_->sqlcmd;
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp4_ = midori_database_item_get_id (_data_->item);
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp5_ = _data_->_tmp4_;
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp6_ = midori_database_item_get_uri (_data_->item);
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp7_ = _data_->_tmp6_;
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp8_ = midori_database_item_get_title (_data_->item);
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp9_ = _data_->_tmp8_;
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp10_ = midori_database_item_get_date (_data_->item);
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp11_ = _data_->_tmp10_;
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp12_ = midori_database_prepare (_data_->self, _data_->_tmp3_, &_data_->_inner_error0_, ":id", G_TYPE_INT64, _data_->_tmp5_, ":uri", G_TYPE_STRING, _data_->_tmp7_, ":title", G_TYPE_STRING, _data_->_tmp9_, ":date", G_TYPE_INT64, _data_->_tmp11_, NULL);
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp2_ = _data_->_tmp12_;
#line 500 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 6193 "database.c"
			goto __catch22_g_error;
		}
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp13_ = _data_->_tmp2_;
#line 500 "/home/test/core/core/database.vala"
		_data_->_tmp2_ = NULL;
#line 500 "/home/test/core/core/database.vala"
		_g_object_unref0 (_data_->statement);
#line 500 "/home/test/core/core/database.vala"
		_data_->statement = _data_->_tmp13_;
#line 505 "/home/test/core/core/database.vala"
		_data_->_tmp15_ = _data_->statement;
#line 505 "/home/test/core/core/database.vala"
		_data_->_tmp14_ = midori_database_statement_exec (_data_->_tmp15_, &_data_->_inner_error0_);
#line 505 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 505 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->_tmp2_);
#line 6212 "database.c"
			goto __catch22_g_error;
		}
#line 505 "/home/test/core/core/database.vala"
		if (_data_->_tmp14_) {
#line 506 "/home/test/core/core/database.vala"
			_data_->_tmp16_ = _data_->self->priv->_items;
#line 506 "/home/test/core/core/database.vala"
			if (_data_->_tmp16_ != NULL) {
#line 507 "/home/test/core/core/database.vala"
				_data_->_tmp17_ = _data_->self->priv->_items;
#line 507 "/home/test/core/core/database.vala"
				g_list_model_items_changed ((GListModel*) _data_->self, (guint) g_list_index (_data_->_tmp17_, _data_->item), (guint) 0, (guint) 0);
#line 6225 "database.c"
			}
#line 509 "/home/test/core/core/database.vala"
			_data_->result = TRUE;
#line 509 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->_tmp2_);
#line 509 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 509 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 509 "/home/test/core/core/database.vala"
			g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 509 "/home/test/core/core/database.vala"
			if (_data_->_state_ != 0) {
#line 509 "/home/test/core/core/database.vala"
				while (!g_task_get_completed (_data_->_async_result)) {
#line 509 "/home/test/core/core/database.vala"
					g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 6243 "database.c"
				}
			}
#line 509 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 509 "/home/test/core/core/database.vala"
			return FALSE;
#line 6250 "database.c"
		}
#line 499 "/home/test/core/core/database.vala"
		_g_object_unref0 (_data_->_tmp2_);
#line 6254 "database.c"
	}
	goto __finally22;
	__catch22_g_error:
	{
#line 499 "/home/test/core/core/database.vala"
		_data_->_error_ = _data_->_inner_error0_;
#line 499 "/home/test/core/core/database.vala"
		_data_->_inner_error0_ = NULL;
#line 512 "/home/test/core/core/database.vala"
		_data_->_tmp18_ = _data_->self->priv->_table;
#line 512 "/home/test/core/core/database.vala"
		_data_->_tmp19_ = _data_->_error_;
#line 512 "/home/test/core/core/database.vala"
		_data_->_tmp20_ = _data_->_tmp19_->message;
#line 512 "/home/test/core/core/database.vala"
		g_critical (_ ("Failed to update %s: %s"), _data_->_tmp18_, _data_->_tmp20_);
#line 499 "/home/test/core/core/database.vala"
		_g_error_free0 (_data_->_error_);
#line 6273 "database.c"
	}
	__finally22:
#line 499 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 499 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 499 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 499 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 499 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 499 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 499 "/home/test/core/core/database.vala"
			return FALSE;
#line 6290 "database.c"
		} else {
#line 499 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 499 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 499 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 499 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 499 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 499 "/home/test/core/core/database.vala"
			return FALSE;
#line 6304 "database.c"
		}
	}
#line 514 "/home/test/core/core/database.vala"
	_data_->result = FALSE;
#line 514 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->statement);
#line 514 "/home/test/core/core/database.vala"
	_g_free0 (_data_->sqlcmd);
#line 514 "/home/test/core/core/database.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 514 "/home/test/core/core/database.vala"
	if (_data_->_state_ != 0) {
#line 514 "/home/test/core/core/database.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 514 "/home/test/core/core/database.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 6321 "database.c"
		}
	}
#line 514 "/home/test/core/core/database.vala"
	g_object_unref (_data_->_async_result);
#line 514 "/home/test/core/core/database.vala"
	return FALSE;
#line 6328 "database.c"
}


void
midori_database_update (MidoriDatabase* self,
                        MidoriDatabaseItem* item,
                        GAsyncReadyCallback _callback_,
                        gpointer _user_data_)
{
#line 181 "/home/test/core/core/database.vala"
	MIDORI_DATABASE_GET_CLASS (self)->update (self, item, _callback_, _user_data_);
#line 6340 "database.c"
}


gboolean
midori_database_update_finish (MidoriDatabase* self,
                               GAsyncResult* _res_,
                               GError** error)
{
#line 181 "/home/test/core/core/database.vala"
	return MIDORI_DATABASE_GET_CLASS (self)->update_finish (self, _res_, error);
#line 6351 "database.c"
}


static void
midori_database_real_insert_data_free (gpointer _data)
{
	MidoriDatabaseInsertData* _data_;
	_data_ = _data;
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->item);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->self);
#line 181 "/home/test/core/core/database.vala"
	g_slice_free (MidoriDatabaseInsertData, _data_);
#line 6366 "database.c"
}


static void
midori_database_real_insert (MidoriDatabase* self,
                             MidoriDatabaseItem* item,
                             GAsyncReadyCallback _callback_,
                             gpointer _user_data_)
{
	MidoriDatabaseInsertData* _data_;
	MidoriDatabase* _tmp0_;
	MidoriDatabaseItem* _tmp1_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_slice_new0 (MidoriDatabaseInsertData);
#line 181 "/home/test/core/core/database.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 181 "/home/test/core/core/database.vala"
	g_task_set_task_data (_data_->_async_result, _data_, midori_database_real_insert_data_free);
#line 181 "/home/test/core/core/database.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 181 "/home/test/core/core/database.vala"
	_data_->self = _tmp0_;
#line 181 "/home/test/core/core/database.vala"
	_tmp1_ = _g_object_ref0 (item);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->item);
#line 181 "/home/test/core/core/database.vala"
	_data_->item = _tmp1_;
#line 181 "/home/test/core/core/database.vala"
	midori_database_real_insert_co (_data_);
#line 6397 "database.c"
}


static gboolean
midori_database_real_insert_finish (MidoriDatabase* self,
                                    GAsyncResult* _res_,
                                    GError** error)
{
	gboolean result;
	MidoriDatabaseInsertData* _data_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 181 "/home/test/core/core/database.vala"
	if (NULL == _data_) {
#line 6412 "database.c"
		gboolean _tmp0_ = FALSE;
#line 181 "/home/test/core/core/database.vala"
		return _tmp0_;
#line 6416 "database.c"
	}
#line 181 "/home/test/core/core/database.vala"
	result = _data_->result;
#line 181 "/home/test/core/core/database.vala"
	return result;
#line 6422 "database.c"
}


static gboolean
midori_database_real_insert_co (MidoriDatabaseInsertData* _data_)
{
#line 520 "/home/test/core/core/database.vala"
	switch (_data_->_state_) {
#line 520 "/home/test/core/core/database.vala"
		case 0:
#line 6433 "database.c"
		goto _state_0;
		default:
#line 520 "/home/test/core/core/database.vala"
		g_assert_not_reached ();
#line 6438 "database.c"
	}
	_state_0:
#line 521 "/home/test/core/core/database.vala"
	midori_database_item_set_database (_data_->item, _data_->self);
#line 523 "/home/test/core/core/database.vala"
	_data_->_tmp0_ = _data_->self->priv->_table;
#line 523 "/home/test/core/core/database.vala"
	_data_->_tmp1_ = g_strdup_printf ("\n" \
"                INSERT INTO %s (uri, title, date) VALUES (:uri, :title" \
", :date)\n" \
"                ", _data_->_tmp0_);
#line 523 "/home/test/core/core/database.vala"
	_data_->sqlcmd = _data_->_tmp1_;
#line 526 "/home/test/core/core/database.vala"
	_data_->_tmp2_ = _data_->sqlcmd;
#line 526 "/home/test/core/core/database.vala"
	_data_->_tmp3_ = midori_database_item_get_uri (_data_->item);
#line 526 "/home/test/core/core/database.vala"
	_data_->_tmp4_ = _data_->_tmp3_;
#line 526 "/home/test/core/core/database.vala"
	_data_->_tmp5_ = midori_database_item_get_title (_data_->item);
#line 526 "/home/test/core/core/database.vala"
	_data_->_tmp6_ = _data_->_tmp5_;
#line 526 "/home/test/core/core/database.vala"
	_data_->_tmp7_ = midori_database_item_get_date (_data_->item);
#line 526 "/home/test/core/core/database.vala"
	_data_->_tmp8_ = _data_->_tmp7_;
#line 526 "/home/test/core/core/database.vala"
	_data_->_tmp9_ = midori_database_prepare (_data_->self, _data_->_tmp2_, &_data_->_inner_error0_, ":uri", G_TYPE_STRING, _data_->_tmp4_, ":title", G_TYPE_STRING, _data_->_tmp6_, ":date", G_TYPE_INT64, _data_->_tmp8_, NULL);
#line 526 "/home/test/core/core/database.vala"
	_data_->statement = _data_->_tmp9_;
#line 526 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 526 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 526 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 526 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 526 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 526 "/home/test/core/core/database.vala"
			return FALSE;
#line 6479 "database.c"
		} else {
#line 526 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 526 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 526 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 526 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 526 "/home/test/core/core/database.vala"
			return FALSE;
#line 6491 "database.c"
		}
	}
#line 530 "/home/test/core/core/database.vala"
	_data_->_tmp11_ = _data_->statement;
#line 530 "/home/test/core/core/database.vala"
	_data_->_tmp10_ = midori_database_statement_exec (_data_->_tmp11_, &_data_->_inner_error0_);
#line 530 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 530 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 530 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 530 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 530 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 530 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 530 "/home/test/core/core/database.vala"
			return FALSE;
#line 6512 "database.c"
		} else {
#line 530 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 530 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 530 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 530 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 530 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 530 "/home/test/core/core/database.vala"
			return FALSE;
#line 6526 "database.c"
		}
	}
#line 530 "/home/test/core/core/database.vala"
	if (_data_->_tmp10_) {
#line 531 "/home/test/core/core/database.vala"
		_data_->_tmp13_ = _data_->statement;
#line 531 "/home/test/core/core/database.vala"
		_data_->_tmp12_ = midori_database_statement_row_id (_data_->_tmp13_, &_data_->_inner_error0_);
#line 531 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 531 "/home/test/core/core/database.vala"
			if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 531 "/home/test/core/core/database.vala"
				g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 531 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->statement);
#line 531 "/home/test/core/core/database.vala"
				_g_free0 (_data_->sqlcmd);
#line 531 "/home/test/core/core/database.vala"
				g_object_unref (_data_->_async_result);
#line 531 "/home/test/core/core/database.vala"
				return FALSE;
#line 6549 "database.c"
			} else {
#line 531 "/home/test/core/core/database.vala"
				_g_object_unref0 (_data_->statement);
#line 531 "/home/test/core/core/database.vala"
				_g_free0 (_data_->sqlcmd);
#line 531 "/home/test/core/core/database.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 531 "/home/test/core/core/database.vala"
				g_clear_error (&_data_->_inner_error0_);
#line 531 "/home/test/core/core/database.vala"
				g_object_unref (_data_->_async_result);
#line 531 "/home/test/core/core/database.vala"
				return FALSE;
#line 6563 "database.c"
			}
		}
#line 531 "/home/test/core/core/database.vala"
		midori_database_item_set_id (_data_->item, _data_->_tmp12_);
#line 532 "/home/test/core/core/database.vala"
		_data_->_tmp14_ = _data_->self->priv->_items;
#line 532 "/home/test/core/core/database.vala"
		if (_data_->_tmp14_ != NULL) {
#line 533 "/home/test/core/core/database.vala"
			_data_->_tmp15_ = _g_object_ref0 (_data_->item);
#line 533 "/home/test/core/core/database.vala"
			_data_->self->priv->_items = g_list_append (_data_->self->priv->_items, _data_->_tmp15_);
#line 534 "/home/test/core/core/database.vala"
			_data_->_tmp16_ = _data_->self->priv->_items;
#line 534 "/home/test/core/core/database.vala"
			g_list_model_items_changed ((GListModel*) _data_->self, (guint) g_list_index (_data_->_tmp16_, _data_->item), (guint) 0, (guint) 1);
#line 6580 "database.c"
		}
#line 536 "/home/test/core/core/database.vala"
		_data_->result = TRUE;
#line 536 "/home/test/core/core/database.vala"
		_g_object_unref0 (_data_->statement);
#line 536 "/home/test/core/core/database.vala"
		_g_free0 (_data_->sqlcmd);
#line 536 "/home/test/core/core/database.vala"
		g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 536 "/home/test/core/core/database.vala"
		if (_data_->_state_ != 0) {
#line 536 "/home/test/core/core/database.vala"
			while (!g_task_get_completed (_data_->_async_result)) {
#line 536 "/home/test/core/core/database.vala"
				g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 6596 "database.c"
			}
		}
#line 536 "/home/test/core/core/database.vala"
		g_object_unref (_data_->_async_result);
#line 536 "/home/test/core/core/database.vala"
		return FALSE;
#line 6603 "database.c"
	}
#line 538 "/home/test/core/core/database.vala"
	_data_->result = FALSE;
#line 538 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->statement);
#line 538 "/home/test/core/core/database.vala"
	_g_free0 (_data_->sqlcmd);
#line 538 "/home/test/core/core/database.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 538 "/home/test/core/core/database.vala"
	if (_data_->_state_ != 0) {
#line 538 "/home/test/core/core/database.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 538 "/home/test/core/core/database.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 6619 "database.c"
		}
	}
#line 538 "/home/test/core/core/database.vala"
	g_object_unref (_data_->_async_result);
#line 538 "/home/test/core/core/database.vala"
	return FALSE;
#line 6626 "database.c"
}


void
midori_database_insert (MidoriDatabase* self,
                        MidoriDatabaseItem* item,
                        GAsyncReadyCallback _callback_,
                        gpointer _user_data_)
{
#line 181 "/home/test/core/core/database.vala"
	MIDORI_DATABASE_GET_CLASS (self)->insert (self, item, _callback_, _user_data_);
#line 6638 "database.c"
}


gboolean
midori_database_insert_finish (MidoriDatabase* self,
                               GAsyncResult* _res_,
                               GError** error)
{
#line 181 "/home/test/core/core/database.vala"
	return MIDORI_DATABASE_GET_CLASS (self)->insert_finish (self, _res_, error);
#line 6649 "database.c"
}


static void
midori_database_real_clear_data_free (gpointer _data)
{
	MidoriDatabaseClearData* _data_;
	_data_ = _data;
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->self);
#line 181 "/home/test/core/core/database.vala"
	g_slice_free (MidoriDatabaseClearData, _data_);
#line 6662 "database.c"
}


static void
midori_database_real_clear (MidoriDatabase* self,
                            GTimeSpan timespan,
                            GAsyncReadyCallback _callback_,
                            gpointer _user_data_)
{
	MidoriDatabaseClearData* _data_;
	MidoriDatabase* _tmp0_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_slice_new0 (MidoriDatabaseClearData);
#line 181 "/home/test/core/core/database.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 181 "/home/test/core/core/database.vala"
	g_task_set_task_data (_data_->_async_result, _data_, midori_database_real_clear_data_free);
#line 181 "/home/test/core/core/database.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 181 "/home/test/core/core/database.vala"
	_data_->self = _tmp0_;
#line 181 "/home/test/core/core/database.vala"
	_data_->timespan = timespan;
#line 181 "/home/test/core/core/database.vala"
	midori_database_real_clear_co (_data_);
#line 6688 "database.c"
}


static gboolean
midori_database_real_clear_finish (MidoriDatabase* self,
                                   GAsyncResult* _res_,
                                   GError** error)
{
	gboolean result;
	MidoriDatabaseClearData* _data_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 181 "/home/test/core/core/database.vala"
	if (NULL == _data_) {
#line 6703 "database.c"
		gboolean _tmp0_ = FALSE;
#line 181 "/home/test/core/core/database.vala"
		return _tmp0_;
#line 6707 "database.c"
	}
#line 181 "/home/test/core/core/database.vala"
	result = _data_->result;
#line 181 "/home/test/core/core/database.vala"
	return result;
#line 6713 "database.c"
}


static gboolean
midori_database_real_clear_co (MidoriDatabaseClearData* _data_)
{
#line 544 "/home/test/core/core/database.vala"
	switch (_data_->_state_) {
#line 544 "/home/test/core/core/database.vala"
		case 0:
#line 6724 "database.c"
		goto _state_0;
		default:
#line 544 "/home/test/core/core/database.vala"
		g_assert_not_reached ();
#line 6729 "database.c"
	}
	_state_0:
#line 546 "/home/test/core/core/database.vala"
	_data_->_tmp0_ = g_date_time_new_now_local ();
#line 546 "/home/test/core/core/database.vala"
	_data_->_tmp1_ = _data_->_tmp0_;
#line 546 "/home/test/core/core/database.vala"
	_data_->_tmp2_ = g_date_time_to_unix (_data_->_tmp1_) - (_data_->timespan / 1000000);
#line 546 "/home/test/core/core/database.vala"
	_g_date_time_unref0 (_data_->_tmp1_);
#line 546 "/home/test/core/core/database.vala"
	_data_->maximum_age = _data_->_tmp2_;
#line 548 "/home/test/core/core/database.vala"
	_data_->_tmp3_ = _data_->self->priv->_table;
#line 548 "/home/test/core/core/database.vala"
	_data_->_tmp4_ = g_strdup_printf ("\n" \
"                DELETE FROM %s WHERE date <= :maximum_age\n" \
"                ", _data_->_tmp3_);
#line 548 "/home/test/core/core/database.vala"
	_data_->sqlcmd = _data_->_tmp4_;
#line 551 "/home/test/core/core/database.vala"
	_data_->_tmp5_ = _data_->sqlcmd;
#line 551 "/home/test/core/core/database.vala"
	_data_->_tmp6_ = _data_->maximum_age;
#line 551 "/home/test/core/core/database.vala"
	_data_->_tmp7_ = midori_database_prepare (_data_->self, _data_->_tmp5_, &_data_->_inner_error0_, ":maximum_age", G_TYPE_INT64, _data_->_tmp6_, NULL);
#line 551 "/home/test/core/core/database.vala"
	_data_->statement = _data_->_tmp7_;
#line 551 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 551 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 551 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 551 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 551 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 551 "/home/test/core/core/database.vala"
			return FALSE;
#line 6768 "database.c"
		} else {
#line 551 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 551 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 551 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 551 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 551 "/home/test/core/core/database.vala"
			return FALSE;
#line 6780 "database.c"
		}
	}
#line 553 "/home/test/core/core/database.vala"
	_data_->_tmp9_ = _data_->statement;
#line 553 "/home/test/core/core/database.vala"
	_data_->_tmp8_ = midori_database_statement_exec (_data_->_tmp9_, &_data_->_inner_error0_);
#line 553 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 553 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 553 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 553 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 553 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 553 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 553 "/home/test/core/core/database.vala"
			return FALSE;
#line 6801 "database.c"
		} else {
#line 553 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 553 "/home/test/core/core/database.vala"
			_g_free0 (_data_->sqlcmd);
#line 553 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 553 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 553 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 553 "/home/test/core/core/database.vala"
			return FALSE;
#line 6815 "database.c"
		}
	}
#line 553 "/home/test/core/core/database.vala"
	_data_->result = _data_->_tmp8_;
#line 553 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->statement);
#line 553 "/home/test/core/core/database.vala"
	_g_free0 (_data_->sqlcmd);
#line 553 "/home/test/core/core/database.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 553 "/home/test/core/core/database.vala"
	if (_data_->_state_ != 0) {
#line 553 "/home/test/core/core/database.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 553 "/home/test/core/core/database.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 6832 "database.c"
		}
	}
#line 553 "/home/test/core/core/database.vala"
	g_object_unref (_data_->_async_result);
#line 553 "/home/test/core/core/database.vala"
	return FALSE;
#line 6839 "database.c"
}


void
midori_database_clear (MidoriDatabase* self,
                       GTimeSpan timespan,
                       GAsyncReadyCallback _callback_,
                       gpointer _user_data_)
{
#line 181 "/home/test/core/core/database.vala"
	MIDORI_DATABASE_GET_CLASS (self)->clear (self, timespan, _callback_, _user_data_);
#line 6851 "database.c"
}


gboolean
midori_database_clear_finish (MidoriDatabase* self,
                              GAsyncResult* _res_,
                              GError** error)
{
#line 181 "/home/test/core/core/database.vala"
	return MIDORI_DATABASE_GET_CLASS (self)->clear_finish (self, _res_, error);
#line 6862 "database.c"
}


static void
midori_database_cap_data_free (gpointer _data)
{
	MidoriDatabaseCapData* _data_;
	_data_ = _data;
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->self);
#line 181 "/home/test/core/core/database.vala"
	g_slice_free (MidoriDatabaseCapData, _data_);
#line 6875 "database.c"
}


void
midori_database_cap (MidoriDatabase* self,
                     gint64 maximum_age,
                     GAsyncReadyCallback _callback_,
                     gpointer _user_data_)
{
	MidoriDatabaseCapData* _data_;
	MidoriDatabase* _tmp0_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_slice_new0 (MidoriDatabaseCapData);
#line 181 "/home/test/core/core/database.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 181 "/home/test/core/core/database.vala"
	g_task_set_task_data (_data_->_async_result, _data_, midori_database_cap_data_free);
#line 181 "/home/test/core/core/database.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 181 "/home/test/core/core/database.vala"
	_data_->self = _tmp0_;
#line 181 "/home/test/core/core/database.vala"
	_data_->maximum_age = maximum_age;
#line 181 "/home/test/core/core/database.vala"
	midori_database_cap_co (_data_);
#line 6901 "database.c"
}


gboolean
midori_database_cap_finish (MidoriDatabase* self,
                            GAsyncResult* _res_,
                            GError** error)
{
	gboolean result;
	MidoriDatabaseCapData* _data_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 181 "/home/test/core/core/database.vala"
	if (NULL == _data_) {
#line 6916 "database.c"
		gboolean _tmp0_ = FALSE;
#line 181 "/home/test/core/core/database.vala"
		return _tmp0_;
#line 6920 "database.c"
	}
#line 181 "/home/test/core/core/database.vala"
	result = _data_->result;
#line 181 "/home/test/core/core/database.vala"
	return result;
#line 6926 "database.c"
}


static gboolean
midori_database_cap_co (MidoriDatabaseCapData* _data_)
{
#line 559 "/home/test/core/core/database.vala"
	switch (_data_->_state_) {
#line 559 "/home/test/core/core/database.vala"
		case 0:
#line 6937 "database.c"
		goto _state_0;
		default:
#line 559 "/home/test/core/core/database.vala"
		g_assert_not_reached ();
#line 6942 "database.c"
	}
	_state_0:
#line 560 "/home/test/core/core/database.vala"
	_data_->sqlcmd = "\n" \
"                DELETE FROM %s WHERE date >= :maximum_age;\n" \
"                ";
#line 563 "/home/test/core/core/database.vala"
	_data_->_tmp0_ = _data_->sqlcmd;
#line 563 "/home/test/core/core/database.vala"
	_data_->_tmp1_ = midori_database_prepare (_data_->self, _data_->_tmp0_, &_data_->_inner_error0_, ":maximum_age", G_TYPE_INT64, _data_->maximum_age, NULL);
#line 563 "/home/test/core/core/database.vala"
	_data_->statement = _data_->_tmp1_;
#line 563 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 563 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 563 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 563 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 563 "/home/test/core/core/database.vala"
			return FALSE;
#line 6963 "database.c"
		} else {
#line 563 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 563 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 563 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 563 "/home/test/core/core/database.vala"
			return FALSE;
#line 6973 "database.c"
		}
	}
#line 565 "/home/test/core/core/database.vala"
	_data_->_tmp3_ = _data_->statement;
#line 565 "/home/test/core/core/database.vala"
	_data_->_tmp2_ = midori_database_statement_exec (_data_->_tmp3_, &_data_->_inner_error0_);
#line 565 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 565 "/home/test/core/core/database.vala"
		if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 565 "/home/test/core/core/database.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 565 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 565 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 565 "/home/test/core/core/database.vala"
			return FALSE;
#line 6992 "database.c"
		} else {
#line 565 "/home/test/core/core/database.vala"
			_g_object_unref0 (_data_->statement);
#line 565 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 565 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 565 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 565 "/home/test/core/core/database.vala"
			return FALSE;
#line 7004 "database.c"
		}
	}
#line 565 "/home/test/core/core/database.vala"
	_data_->result = _data_->_tmp2_;
#line 565 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->statement);
#line 565 "/home/test/core/core/database.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 565 "/home/test/core/core/database.vala"
	if (_data_->_state_ != 0) {
#line 565 "/home/test/core/core/database.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 565 "/home/test/core/core/database.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 7019 "database.c"
		}
	}
#line 565 "/home/test/core/core/database.vala"
	g_object_unref (_data_->_async_result);
#line 565 "/home/test/core/core/database.vala"
	return FALSE;
#line 7026 "database.c"
}


static GType
midori_database_real_get_item_type (GListModel* base)
{
	MidoriDatabase * self;
	GType result = 0UL;
#line 567 "/home/test/core/core/database.vala"
	self = (MidoriDatabase*) base;
#line 568 "/home/test/core/core/database.vala"
	result = MIDORI_TYPE_DATABASE_ITEM;
#line 568 "/home/test/core/core/database.vala"
	return result;
#line 7041 "database.c"
}


static GObject*
midori_database_real_get_item (GListModel* base,
                               guint position)
{
	MidoriDatabase * self;
	GObject* result = NULL;
	GList* _tmp0_;
	gconstpointer _tmp1_;
	GObject* _tmp2_;
#line 573 "/home/test/core/core/database.vala"
	self = (MidoriDatabase*) base;
#line 574 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_items;
#line 574 "/home/test/core/core/database.vala"
	_tmp1_ = g_list_nth_data (_tmp0_, position);
#line 574 "/home/test/core/core/database.vala"
	_tmp2_ = _g_object_ref0 ((GObject*) ((MidoriDatabaseItem*) _tmp1_));
#line 574 "/home/test/core/core/database.vala"
	result = _tmp2_;
#line 574 "/home/test/core/core/database.vala"
	return result;
#line 7066 "database.c"
}


static guint
midori_database_real_get_n_items (GListModel* base)
{
	MidoriDatabase * self;
	guint result = 0U;
	GList* _tmp0_;
	GList* _tmp5_;
#line 577 "/home/test/core/core/database.vala"
	self = (MidoriDatabase*) base;
#line 578 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_items;
#line 578 "/home/test/core/core/database.vala"
	if (_tmp0_ == NULL) {
#line 7083 "database.c"
		GCancellable* _tmp1_;
		GCancellable* _tmp3_;
		GCancellable* _tmp4_;
#line 579 "/home/test/core/core/database.vala"
		_tmp1_ = self->priv->populate_cancellable;
#line 579 "/home/test/core/core/database.vala"
		if (_tmp1_ != NULL) {
#line 7091 "database.c"
			GCancellable* _tmp2_;
#line 580 "/home/test/core/core/database.vala"
			_tmp2_ = self->priv->populate_cancellable;
#line 580 "/home/test/core/core/database.vala"
			g_cancellable_cancel (_tmp2_);
#line 7097 "database.c"
		}
#line 582 "/home/test/core/core/database.vala"
		_tmp3_ = g_cancellable_new ();
#line 582 "/home/test/core/core/database.vala"
		_g_object_unref0 (self->priv->populate_cancellable);
#line 582 "/home/test/core/core/database.vala"
		self->priv->populate_cancellable = _tmp3_;
#line 583 "/home/test/core/core/database.vala"
		_tmp4_ = self->priv->populate_cancellable;
#line 583 "/home/test/core/core/database.vala"
		midori_database_populate (self, _tmp4_, NULL, NULL);
#line 584 "/home/test/core/core/database.vala"
		result = (guint) 0;
#line 584 "/home/test/core/core/database.vala"
		return result;
#line 7113 "database.c"
	}
#line 586 "/home/test/core/core/database.vala"
	_tmp5_ = self->priv->_items;
#line 586 "/home/test/core/core/database.vala"
	result = g_list_length (_tmp5_);
#line 586 "/home/test/core/core/database.vala"
	return result;
#line 7121 "database.c"
}


static void
midori_database_populate_data_free (gpointer _data)
{
	MidoriDatabasePopulateData* _data_;
	_data_ = _data;
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->cancellable);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->self);
#line 181 "/home/test/core/core/database.vala"
	g_slice_free (MidoriDatabasePopulateData, _data_);
#line 7136 "database.c"
}


static void
midori_database_populate (MidoriDatabase* self,
                          GCancellable* cancellable,
                          GAsyncReadyCallback _callback_,
                          gpointer _user_data_)
{
	MidoriDatabasePopulateData* _data_;
	MidoriDatabase* _tmp0_;
	GCancellable* _tmp1_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_slice_new0 (MidoriDatabasePopulateData);
#line 181 "/home/test/core/core/database.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), cancellable, _callback_, _user_data_);
#line 181 "/home/test/core/core/database.vala"
	g_task_set_task_data (_data_->_async_result, _data_, midori_database_populate_data_free);
#line 181 "/home/test/core/core/database.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 181 "/home/test/core/core/database.vala"
	_data_->self = _tmp0_;
#line 181 "/home/test/core/core/database.vala"
	_tmp1_ = _g_object_ref0 (cancellable);
#line 181 "/home/test/core/core/database.vala"
	_g_object_unref0 (_data_->cancellable);
#line 181 "/home/test/core/core/database.vala"
	_data_->cancellable = _tmp1_;
#line 181 "/home/test/core/core/database.vala"
	midori_database_populate_co (_data_);
#line 7167 "database.c"
}


static void
midori_database_populate_finish (MidoriDatabase* self,
                                 GAsyncResult* _res_)
{
	MidoriDatabasePopulateData* _data_;
#line 181 "/home/test/core/core/database.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 181 "/home/test/core/core/database.vala"
	if (NULL == _data_) {
#line 181 "/home/test/core/core/database.vala"
		return;
#line 7182 "database.c"
	}
}


static void
midori_database_populate_ready (GObject* source_object,
                                GAsyncResult* _res_,
                                gpointer _user_data_)
{
	MidoriDatabasePopulateData* _data_;
#line 592 "/home/test/core/core/database.vala"
	_data_ = _user_data_;
#line 592 "/home/test/core/core/database.vala"
	_data_->_source_object_ = source_object;
#line 592 "/home/test/core/core/database.vala"
	_data_->_res_ = _res_;
#line 592 "/home/test/core/core/database.vala"
	midori_database_populate_co (_data_);
#line 7201 "database.c"
}


static gboolean
midori_database_populate_co (MidoriDatabasePopulateData* _data_)
{
#line 589 "/home/test/core/core/database.vala"
	switch (_data_->_state_) {
#line 589 "/home/test/core/core/database.vala"
		case 0:
#line 7212 "database.c"
		goto _state_0;
#line 589 "/home/test/core/core/database.vala"
		case 1:
#line 7216 "database.c"
		goto _state_1;
		default:
#line 589 "/home/test/core/core/database.vala"
		g_assert_not_reached ();
#line 7221 "database.c"
	}
	_state_0:
	{
#line 591 "/home/test/core/core/database.vala"
		_data_->_tmp0_ = _data_->self->priv->_items;
#line 591 "/home/test/core/core/database.vala"
		_data_->old_length = g_list_length (_data_->_tmp0_);
#line 592 "/home/test/core/core/database.vala"
		_data_->_tmp2_ = midori_database_get_key (_data_->self);
#line 592 "/home/test/core/core/database.vala"
		_data_->_tmp3_ = _data_->_tmp2_;
#line 592 "/home/test/core/core/database.vala"
		_data_->_state_ = 1;
#line 592 "/home/test/core/core/database.vala"
		midori_database_query (_data_->self, _data_->_tmp3_, (gint64) 15, NULL, midori_database_populate_ready, _data_);
#line 592 "/home/test/core/core/database.vala"
		return FALSE;
#line 7239 "database.c"
		_state_1:
#line 592 "/home/test/core/core/database.vala"
		_data_->_tmp4_ = midori_database_query_finish (_data_->self, _data_->_res_, &_data_->_inner_error0_);
#line 592 "/home/test/core/core/database.vala"
		_data_->_tmp1_ = _data_->_tmp4_;
#line 592 "/home/test/core/core/database.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 592 "/home/test/core/core/database.vala"
			if (_data_->_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 7249 "database.c"
				goto __catch23_midori_database_error;
			}
#line 592 "/home/test/core/core/database.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 592 "/home/test/core/core/database.vala"
			g_clear_error (&_data_->_inner_error0_);
#line 592 "/home/test/core/core/database.vala"
			g_object_unref (_data_->_async_result);
#line 592 "/home/test/core/core/database.vala"
			return FALSE;
#line 7260 "database.c"
		}
#line 592 "/home/test/core/core/database.vala"
		_data_->_tmp5_ = _data_->_tmp1_;
#line 592 "/home/test/core/core/database.vala"
		_data_->_tmp1_ = NULL;
#line 592 "/home/test/core/core/database.vala"
		(_data_->self->priv->_items == NULL) ? NULL : (_data_->self->priv->_items = (_g_list_free__g_object_unref0_ (_data_->self->priv->_items), NULL));
#line 592 "/home/test/core/core/database.vala"
		_data_->self->priv->_items = _data_->_tmp5_;
#line 593 "/home/test/core/core/database.vala"
		if (g_cancellable_is_cancelled (_data_->cancellable)) {
#line 594 "/home/test/core/core/database.vala"
			(_data_->self->priv->_items == NULL) ? NULL : (_data_->self->priv->_items = (_g_list_free__g_object_unref0_ (_data_->self->priv->_items), NULL));
#line 594 "/home/test/core/core/database.vala"
			_data_->self->priv->_items = NULL;
#line 7276 "database.c"
		} else {
#line 596 "/home/test/core/core/database.vala"
			_data_->_tmp6_ = _data_->self->priv->_items;
#line 596 "/home/test/core/core/database.vala"
			g_list_model_items_changed ((GListModel*) _data_->self, (guint) 0, _data_->old_length, g_list_length (_data_->_tmp6_));
#line 7282 "database.c"
		}
#line 590 "/home/test/core/core/database.vala"
		(_data_->_tmp1_ == NULL) ? NULL : (_data_->_tmp1_ = (_g_list_free__g_object_unref0_ (_data_->_tmp1_), NULL));
#line 7286 "database.c"
	}
	goto __finally23;
	__catch23_midori_database_error:
	{
#line 590 "/home/test/core/core/database.vala"
		_data_->_error_ = _data_->_inner_error0_;
#line 590 "/home/test/core/core/database.vala"
		_data_->_inner_error0_ = NULL;
#line 599 "/home/test/core/core/database.vala"
		_data_->_tmp7_ = _data_->_error_;
#line 599 "/home/test/core/core/database.vala"
		_data_->_tmp8_ = _data_->_tmp7_->message;
#line 599 "/home/test/core/core/database.vala"
		midori_loggable_debug ((MidoriLoggable*) _data_->self, "Failed to populate: %s", _data_->_tmp8_, NULL);
#line 590 "/home/test/core/core/database.vala"
		_g_error_free0 (_data_->_error_);
#line 7303 "database.c"
	}
	__finally23:
#line 590 "/home/test/core/core/database.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 590 "/home/test/core/core/database.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 590 "/home/test/core/core/database.vala"
		g_clear_error (&_data_->_inner_error0_);
#line 590 "/home/test/core/core/database.vala"
		g_object_unref (_data_->_async_result);
#line 590 "/home/test/core/core/database.vala"
		return FALSE;
#line 7316 "database.c"
	}
#line 589 "/home/test/core/core/database.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 589 "/home/test/core/core/database.vala"
	if (_data_->_state_ != 0) {
#line 589 "/home/test/core/core/database.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 589 "/home/test/core/core/database.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 7326 "database.c"
		}
	}
#line 589 "/home/test/core/core/database.vala"
	g_object_unref (_data_->_async_result);
#line 589 "/home/test/core/core/database.vala"
	return FALSE;
#line 7333 "database.c"
}


const gchar*
midori_database_get_table (MidoriDatabase* self)
{
	const gchar* result;
	const gchar* _tmp0_;
#line 186 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 186 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_table;
#line 186 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 186 "/home/test/core/core/database.vala"
	return result;
#line 7350 "database.c"
}


void
midori_database_set_table (MidoriDatabase* self,
                           const gchar* value)
{
#line 186 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 186 "/home/test/core/core/database.vala"
	if (g_strcmp0 (value, midori_database_get_table (self)) != 0) {
#line 7362 "database.c"
		gchar* _tmp0_;
#line 186 "/home/test/core/core/database.vala"
		_tmp0_ = g_strdup (value);
#line 186 "/home/test/core/core/database.vala"
		_g_free0 (self->priv->_table);
#line 186 "/home/test/core/core/database.vala"
		self->priv->_table = _tmp0_;
#line 186 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_properties[MIDORI_DATABASE_TABLE_PROPERTY]);
#line 7372 "database.c"
	}
}


const gchar*
midori_database_get_path (MidoriDatabase* self)
{
	const gchar* result;
	const gchar* _tmp0_;
#line 187 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 187 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_path;
#line 187 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 187 "/home/test/core/core/database.vala"
	return result;
#line 7390 "database.c"
}


void
midori_database_set_path (MidoriDatabase* self,
                          const gchar* value)
{
#line 187 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 187 "/home/test/core/core/database.vala"
	if (g_strcmp0 (value, midori_database_get_path (self)) != 0) {
#line 7402 "database.c"
		gchar* _tmp0_;
#line 187 "/home/test/core/core/database.vala"
		_tmp0_ = g_strdup (value);
#line 187 "/home/test/core/core/database.vala"
		_g_free0 (self->priv->_path);
#line 187 "/home/test/core/core/database.vala"
		self->priv->_path = _tmp0_;
#line 187 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_properties[MIDORI_DATABASE_PATH_PROPERTY]);
#line 7412 "database.c"
	}
}


const gchar*
midori_database_get_key (MidoriDatabase* self)
{
	const gchar* result;
	const gchar* _tmp0_;
#line 188 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 188 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_key;
#line 188 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 188 "/home/test/core/core/database.vala"
	return result;
#line 7430 "database.c"
}


void
midori_database_set_key (MidoriDatabase* self,
                         const gchar* value)
{
	gchar* _tmp0_;
	GCancellable* _tmp1_;
	GCancellable* _tmp3_;
	GCancellable* _tmp4_;
#line 188 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 189 "/home/test/core/core/database.vala"
	_tmp0_ = g_strdup (value);
#line 189 "/home/test/core/core/database.vala"
	_g_free0 (self->priv->_key);
#line 189 "/home/test/core/core/database.vala"
	self->priv->_key = _tmp0_;
#line 190 "/home/test/core/core/database.vala"
	_tmp1_ = self->priv->populate_cancellable;
#line 190 "/home/test/core/core/database.vala"
	if (_tmp1_ != NULL) {
#line 7454 "database.c"
		GCancellable* _tmp2_;
#line 191 "/home/test/core/core/database.vala"
		_tmp2_ = self->priv->populate_cancellable;
#line 191 "/home/test/core/core/database.vala"
		g_cancellable_cancel (_tmp2_);
#line 7460 "database.c"
	}
#line 193 "/home/test/core/core/database.vala"
	_tmp3_ = g_cancellable_new ();
#line 193 "/home/test/core/core/database.vala"
	_g_object_unref0 (self->priv->populate_cancellable);
#line 193 "/home/test/core/core/database.vala"
	self->priv->populate_cancellable = _tmp3_;
#line 194 "/home/test/core/core/database.vala"
	_tmp4_ = self->priv->populate_cancellable;
#line 194 "/home/test/core/core/database.vala"
	midori_database_populate (self, _tmp4_, NULL, NULL);
#line 188 "/home/test/core/core/database.vala"
	g_object_notify_by_pspec ((GObject *) self, midori_database_properties[MIDORI_DATABASE_KEY_PROPERTY]);
#line 7474 "database.c"
}


gint64
midori_database_get_maximum_age (MidoriDatabase* self)
{
	gint64 result;
	gint64 _tmp0_;
#line 197 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, 0LL);
#line 197 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_maximum_age;
#line 197 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 197 "/home/test/core/core/database.vala"
	return result;
#line 7491 "database.c"
}


void
midori_database_set_maximum_age (MidoriDatabase* self,
                                 gint64 value)
{
#line 197 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 197 "/home/test/core/core/database.vala"
	if (midori_database_get_maximum_age (self) != value) {
#line 197 "/home/test/core/core/database.vala"
		self->priv->_maximum_age = value;
#line 197 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_properties[MIDORI_DATABASE_MAXIMUM_AGE_PROPERTY]);
#line 7507 "database.c"
	}
}


gboolean
midori_database_get_readonly (MidoriDatabase* self)
{
	gboolean result;
	gboolean _tmp0_;
#line 202 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 202 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_readonly;
#line 202 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 202 "/home/test/core/core/database.vala"
	return result;
#line 7525 "database.c"
}


void
midori_database_set_readonly (MidoriDatabase* self,
                              gboolean value)
{
#line 202 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 202 "/home/test/core/core/database.vala"
	if (midori_database_get_readonly (self) != value) {
#line 202 "/home/test/core/core/database.vala"
		self->priv->_readonly = value;
#line 202 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_properties[MIDORI_DATABASE_READONLY_PROPERTY]);
#line 7541 "database.c"
	}
}


gboolean
midori_database_get_first_use (MidoriDatabase* self)
{
	gboolean result;
	gboolean _tmp0_;
#line 208 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 208 "/home/test/core/core/database.vala"
	_tmp0_ = self->priv->_first_use;
#line 208 "/home/test/core/core/database.vala"
	result = _tmp0_;
#line 208 "/home/test/core/core/database.vala"
	return result;
#line 7559 "database.c"
}


void
midori_database_set_first_use (MidoriDatabase* self,
                               gboolean value)
{
#line 208 "/home/test/core/core/database.vala"
	g_return_if_fail (self != NULL);
#line 208 "/home/test/core/core/database.vala"
	if (midori_database_get_first_use (self) != value) {
#line 208 "/home/test/core/core/database.vala"
		self->priv->_first_use = value;
#line 208 "/home/test/core/core/database.vala"
		g_object_notify_by_pspec ((GObject *) self, midori_database_properties[MIDORI_DATABASE_FIRST_USE_PROPERTY]);
#line 7575 "database.c"
	}
}


gint64
midori_database_get_last_row_id (MidoriDatabase* self)
{
	gint64 result;
	sqlite3* _tmp0_;
#line 213 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, 0LL);
#line 213 "/home/test/core/core/database.vala"
	_tmp0_ = self->db;
#line 213 "/home/test/core/core/database.vala"
	result = sqlite3_last_insert_rowid (_tmp0_);
#line 213 "/home/test/core/core/database.vala"
	return result;
#line 7593 "database.c"
}


const gchar*
midori_database_get_errmsg (MidoriDatabase* self)
{
	const gchar* result;
	sqlite3* _tmp0_;
	const gchar* _tmp1_;
#line 218 "/home/test/core/core/database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 218 "/home/test/core/core/database.vala"
	_tmp0_ = self->db;
#line 218 "/home/test/core/core/database.vala"
	_tmp1_ = sqlite3_errmsg (_tmp0_);
#line 218 "/home/test/core/core/database.vala"
	result = _tmp1_;
#line 218 "/home/test/core/core/database.vala"
	return result;
#line 7613 "database.c"
}


static void
midori_database_class_init (MidoriDatabaseClass * klass)
{
#line 181 "/home/test/core/core/database.vala"
	midori_database_parent_class = g_type_class_peek_parent (klass);
#line 181 "/home/test/core/core/database.vala"
	g_type_class_add_private (klass, sizeof (MidoriDatabasePrivate));
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->init = (gboolean (*) (MidoriDatabase*, GCancellable*, GError**)) midori_database_real_init;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->delete = (void (*) (MidoriDatabase*, MidoriDatabaseItem*, GAsyncReadyCallback, gpointer)) midori_database_real_delete;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->delete_finish = (gboolean (*) (MidoriDatabase*, GAsyncResult*, GError**)) midori_database_real_delete_finish;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->lookup = (void (*) (MidoriDatabase*, const gchar*, GAsyncReadyCallback, gpointer)) midori_database_real_lookup;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->lookup_finish = (MidoriDatabaseItem* (*) (MidoriDatabase*, GAsyncResult*, GError**)) midori_database_real_lookup_finish;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->query = (void (*) (MidoriDatabase*, const gchar*, gint64, GCancellable*, GAsyncReadyCallback, gpointer)) midori_database_real_query;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->query_finish = (GList* (*) (MidoriDatabase*, GAsyncResult*, GError**)) midori_database_real_query_finish;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->update = (void (*) (MidoriDatabase*, MidoriDatabaseItem*, GAsyncReadyCallback, gpointer)) midori_database_real_update;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->update_finish = (gboolean (*) (MidoriDatabase*, GAsyncResult*, GError**)) midori_database_real_update_finish;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->insert = (void (*) (MidoriDatabase*, MidoriDatabaseItem*, GAsyncReadyCallback, gpointer)) midori_database_real_insert;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->insert_finish = (gboolean (*) (MidoriDatabase*, GAsyncResult*, GError**)) midori_database_real_insert_finish;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->clear = (void (*) (MidoriDatabase*, GTimeSpan, GAsyncReadyCallback, gpointer)) midori_database_real_clear;
#line 181 "/home/test/core/core/database.vala"
	((MidoriDatabaseClass *) klass)->clear_finish = (gboolean (*) (MidoriDatabase*, GAsyncResult*, GError**)) midori_database_real_clear_finish;
#line 181 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_midori_database_get_property;
#line 181 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_midori_database_set_property;
#line 181 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (klass)->finalize = midori_database_finalize;
#line 181 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_TABLE_PROPERTY, midori_database_properties[MIDORI_DATABASE_TABLE_PROPERTY] = g_param_spec_string ("table", "table", "table", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 181 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_PATH_PROPERTY, midori_database_properties[MIDORI_DATABASE_PATH_PROPERTY] = g_param_spec_string ("path", "path", "path", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 181 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_KEY_PROPERTY, midori_database_properties[MIDORI_DATABASE_KEY_PROPERTY] = g_param_spec_string ("key", "key", "key", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 181 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_MAXIMUM_AGE_PROPERTY, midori_database_properties[MIDORI_DATABASE_MAXIMUM_AGE_PROPERTY] = g_param_spec_int64 ("maximum-age", "maximum-age", "maximum-age", G_MININT64, G_MAXINT64, (gint64) -1, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 181 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_READONLY_PROPERTY, midori_database_properties[MIDORI_DATABASE_READONLY_PROPERTY] = g_param_spec_boolean ("readonly", "readonly", "readonly", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 181 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_FIRST_USE_PROPERTY, midori_database_properties[MIDORI_DATABASE_FIRST_USE_PROPERTY] = g_param_spec_boolean ("first-use", "first-use", "first-use", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 181 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_LAST_ROW_ID_PROPERTY, midori_database_properties[MIDORI_DATABASE_LAST_ROW_ID_PROPERTY] = g_param_spec_int64 ("last-row-id", "last-row-id", "last-row-id", G_MININT64, G_MAXINT64, 0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 181 "/home/test/core/core/database.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MIDORI_DATABASE_ERRMSG_PROPERTY, midori_database_properties[MIDORI_DATABASE_ERRMSG_PROPERTY] = g_param_spec_string ("errmsg", "errmsg", "errmsg", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 7672 "database.c"
}


static void
midori_database_g_initable_interface_init (GInitableIface * iface)
{
#line 181 "/home/test/core/core/database.vala"
	midori_database_g_initable_parent_iface = g_type_interface_peek_parent (iface);
#line 181 "/home/test/core/core/database.vala"
	iface->init = (gboolean (*) (GInitable*, GCancellable*, GError**)) midori_database_init;
#line 7683 "database.c"
}


static void
midori_database_g_list_model_interface_init (GListModelInterface * iface)
{
#line 181 "/home/test/core/core/database.vala"
	midori_database_g_list_model_parent_iface = g_type_interface_peek_parent (iface);
#line 181 "/home/test/core/core/database.vala"
	iface->get_item_type = (GType (*) (GListModel*)) midori_database_real_get_item_type;
#line 181 "/home/test/core/core/database.vala"
	iface->get_item = (GObject* (*) (GListModel*, guint)) midori_database_real_get_item;
#line 181 "/home/test/core/core/database.vala"
	iface->get_n_items = (guint (*) (GListModel*)) midori_database_real_get_n_items;
#line 7698 "database.c"
}


static void
midori_database_midori_loggable_interface_init (MidoriLoggableIface * iface)
{
#line 181 "/home/test/core/core/database.vala"
	midori_database_midori_loggable_parent_iface = g_type_interface_peek_parent (iface);
#line 7707 "database.c"
}


static void
midori_database_instance_init (MidoriDatabase * self)
{
	gchar* _tmp0_;
#line 181 "/home/test/core/core/database.vala"
	self->priv = MIDORI_DATABASE_GET_PRIVATE (self);
#line 182 "/home/test/core/core/database.vala"
	self->db = NULL;
#line 183 "/home/test/core/core/database.vala"
	self->priv->_key = NULL;
#line 184 "/home/test/core/core/database.vala"
	self->priv->populate_cancellable = NULL;
#line 186 "/home/test/core/core/database.vala"
	self->priv->_table = NULL;
#line 187 "/home/test/core/core/database.vala"
	_tmp0_ = g_strdup (":memory:");
#line 187 "/home/test/core/core/database.vala"
	self->priv->_path = _tmp0_;
#line 197 "/home/test/core/core/database.vala"
	self->priv->_maximum_age = (gint64) -1;
#line 202 "/home/test/core/core/database.vala"
	self->priv->_readonly = FALSE;
#line 208 "/home/test/core/core/database.vala"
	self->priv->_first_use = FALSE;
#line 571 "/home/test/core/core/database.vala"
	self->priv->_items = NULL;
#line 7737 "database.c"
}


static void
midori_database_finalize (GObject * obj)
{
	MidoriDatabase * self;
#line 181 "/home/test/core/core/database.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MIDORI_TYPE_DATABASE, MidoriDatabase);
#line 182 "/home/test/core/core/database.vala"
	_sqlite3_close0 (self->db);
#line 183 "/home/test/core/core/database.vala"
	_g_free0 (self->priv->_key);
#line 184 "/home/test/core/core/database.vala"
	_g_object_unref0 (self->priv->populate_cancellable);
#line 186 "/home/test/core/core/database.vala"
	_g_free0 (self->priv->_table);
#line 187 "/home/test/core/core/database.vala"
	_g_free0 (self->priv->_path);
#line 571 "/home/test/core/core/database.vala"
	(self->priv->_items == NULL) ? NULL : (self->priv->_items = (_g_list_free__g_object_unref0_ (self->priv->_items), NULL));
#line 181 "/home/test/core/core/database.vala"
	G_OBJECT_CLASS (midori_database_parent_class)->finalize (obj);
#line 7761 "database.c"
}


GType
midori_database_get_type (void)
{
	static volatile gsize midori_database_type_id__volatile = 0;
	if (g_once_init_enter (&midori_database_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MidoriDatabaseClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) midori_database_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MidoriDatabase), 0, (GInstanceInitFunc) midori_database_instance_init, NULL };
		static const GInterfaceInfo g_initable_info = { (GInterfaceInitFunc) midori_database_g_initable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		static const GInterfaceInfo g_list_model_info = { (GInterfaceInitFunc) midori_database_g_list_model_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		static const GInterfaceInfo midori_loggable_info = { (GInterfaceInitFunc) midori_database_midori_loggable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		GType midori_database_type_id;
		midori_database_type_id = g_type_register_static (G_TYPE_OBJECT, "MidoriDatabase", &g_define_type_info, 0);
		g_type_add_interface_static (midori_database_type_id, g_initable_get_type (), &g_initable_info);
		g_type_add_interface_static (midori_database_type_id, g_list_model_get_type (), &g_list_model_info);
		g_type_add_interface_static (midori_database_type_id, MIDORI_TYPE_LOGGABLE, &midori_loggable_info);
		g_once_init_leave (&midori_database_type_id__volatile, midori_database_type_id);
	}
	return midori_database_type_id__volatile;
}


static void
_vala_midori_database_get_property (GObject * object,
                                    guint property_id,
                                    GValue * value,
                                    GParamSpec * pspec)
{
	MidoriDatabase * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MIDORI_TYPE_DATABASE, MidoriDatabase);
#line 181 "/home/test/core/core/database.vala"
	switch (property_id) {
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_TABLE_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		g_value_set_string (value, midori_database_get_table (self));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_PATH_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		g_value_set_string (value, midori_database_get_path (self));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_KEY_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		g_value_set_string (value, midori_database_get_key (self));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_MAXIMUM_AGE_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		g_value_set_int64 (value, midori_database_get_maximum_age (self));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_READONLY_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		g_value_set_boolean (value, midori_database_get_readonly (self));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_FIRST_USE_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		g_value_set_boolean (value, midori_database_get_first_use (self));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_LAST_ROW_ID_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		g_value_set_int64 (value, midori_database_get_last_row_id (self));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_ERRMSG_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		g_value_set_string (value, midori_database_get_errmsg (self));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 7843 "database.c"
		default:
#line 181 "/home/test/core/core/database.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 181 "/home/test/core/core/database.vala"
		break;
#line 7849 "database.c"
	}
}


static void
_vala_midori_database_set_property (GObject * object,
                                    guint property_id,
                                    const GValue * value,
                                    GParamSpec * pspec)
{
	MidoriDatabase * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MIDORI_TYPE_DATABASE, MidoriDatabase);
#line 181 "/home/test/core/core/database.vala"
	switch (property_id) {
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_TABLE_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		midori_database_set_table (self, g_value_get_string (value));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_PATH_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		midori_database_set_path (self, g_value_get_string (value));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_KEY_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		midori_database_set_key (self, g_value_get_string (value));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_MAXIMUM_AGE_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		midori_database_set_maximum_age (self, g_value_get_int64 (value));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_READONLY_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		midori_database_set_readonly (self, g_value_get_boolean (value));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 181 "/home/test/core/core/database.vala"
		case MIDORI_DATABASE_FIRST_USE_PROPERTY:
#line 181 "/home/test/core/core/database.vala"
		midori_database_set_first_use (self, g_value_get_boolean (value));
#line 181 "/home/test/core/core/database.vala"
		break;
#line 7900 "database.c"
		default:
#line 181 "/home/test/core/core/database.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 181 "/home/test/core/core/database.vala"
		break;
#line 7906 "database.c"
	}
}


static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint
_vala_array_length (gpointer array)
{
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



