/* settings.c generated by valac 0.40.23, the Vala compiler
 * generated from settings.vala, do not modify */

/*
 Copyright (C) 2018 Christian Dywan <christian@twotoats.de>

 This library is free software; you can redistribute it and/or
 modify it under the terms of the GNU Lesser General Public
 License as published by the Free Software Foundation; either
 version 2.1 of the License, or (at your option) any later version.

 See the file COPYING for the full license text.
*/


#include <glib.h>
#include <glib-object.h>
#include "midori-core.h"
#include <stdlib.h>
#include <string.h>
#include "config.h"
#include <gio/gio.h>


#define ADBLOCK_TYPE_SETTINGS (adblock_settings_get_type ())
#define ADBLOCK_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_SETTINGS, AdblockSettings))
#define ADBLOCK_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_SETTINGS, AdblockSettingsClass))
#define ADBLOCK_IS_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_SETTINGS))
#define ADBLOCK_IS_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_SETTINGS))
#define ADBLOCK_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_SETTINGS, AdblockSettingsClass))

typedef struct _AdblockSettings AdblockSettings;
typedef struct _AdblockSettingsClass AdblockSettingsClass;
typedef struct _AdblockSettingsPrivate AdblockSettingsPrivate;

#define ADBLOCK_TYPE_SUBSCRIPTION (adblock_subscription_get_type ())
#define ADBLOCK_SUBSCRIPTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_SUBSCRIPTION, AdblockSubscription))
#define ADBLOCK_SUBSCRIPTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_SUBSCRIPTION, AdblockSubscriptionClass))
#define ADBLOCK_IS_SUBSCRIPTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_SUBSCRIPTION))
#define ADBLOCK_IS_SUBSCRIPTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_SUBSCRIPTION))
#define ADBLOCK_SUBSCRIPTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_SUBSCRIPTION, AdblockSubscriptionClass))

typedef struct _AdblockSubscription AdblockSubscription;
typedef struct _AdblockSubscriptionClass AdblockSubscriptionClass;
enum  {
	ADBLOCK_SETTINGS_0_PROPERTY,
	ADBLOCK_SETTINGS_ENABLED_PROPERTY,
	ADBLOCK_SETTINGS_SIZE_PROPERTY,
	ADBLOCK_SETTINGS_NUM_PROPERTIES
};
static GParamSpec* adblock_settings_properties[ADBLOCK_SETTINGS_NUM_PROPERTIES];
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_string_free0(var) ((var == NULL) ? NULL : (var = (g_string_free (var, TRUE), NULL)))

struct _AdblockSettings {
	MidoriSettings parent_instance;
	AdblockSettingsPrivate * priv;
	gchar* default_filters;
};

struct _AdblockSettingsClass {
	MidoriSettingsClass parent_class;
};

struct _AdblockSettingsPrivate {
	GList* subscriptions;
	guint _size;
};


static gpointer adblock_settings_parent_class = NULL;
static AdblockSettings* adblock_settings__default;
static AdblockSettings* adblock_settings__default = NULL;
static GType adblock_settings_type_id = 0;

GType adblock_settings_register_type (GTypeModule * module);
GType adblock_settings_get_type (void) G_GNUC_CONST;
GType adblock_subscription_register_type (GTypeModule * module);
GType adblock_subscription_get_type (void) G_GNUC_CONST;
#define ADBLOCK_SETTINGS_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), ADBLOCK_TYPE_SETTINGS, AdblockSettingsPrivate))
static void _g_object_unref0_ (gpointer var);
static inline void _g_list_free__g_object_unref0_ (GList* self);
AdblockSettings* adblock_settings_get_default (void);
static AdblockSettings* adblock_settings_new (const gchar* filename);
static AdblockSettings* adblock_settings_construct (GType object_type,
                                             const gchar* filename);
void adblock_settings_add (AdblockSettings* self,
                           AdblockSubscription* sub);
AdblockSubscription* adblock_subscription_new (const gchar* uri,
                                               gboolean active);
AdblockSubscription* adblock_subscription_construct (GType object_type,
                                                     const gchar* uri,
                                                     gboolean active);
AdblockSubscription* adblock_settings_get (AdblockSettings* self,
                                           guint index);
gboolean adblock_settings_contains (AdblockSettings* self,
                                    AdblockSubscription* subscription);
GFile* adblock_subscription_get_file (AdblockSubscription* self);
static void adblock_settings_active_changed (AdblockSettings* self);
static void _adblock_settings_active_changed_g_object_notify (GObject* _sender,
                                                       GParamSpec* pspec,
                                                       gpointer self);
guint adblock_settings_get_size (AdblockSettings* self);
static void adblock_settings_set_size (AdblockSettings* self,
                                guint value);
const gchar* adblock_subscription_get_uri (AdblockSubscription* self);
gboolean adblock_subscription_get_active (AdblockSubscription* self);
void adblock_settings_remove (AdblockSettings* self,
                              AdblockSubscription* sub);
gboolean adblock_settings_get_enabled (AdblockSettings* self);
void adblock_settings_set_enabled (AdblockSettings* self,
                                   gboolean value);
static void adblock_settings_finalize (GObject * obj);
static void _vala_adblock_settings_get_property (GObject * object,
                                          guint property_id,
                                          GValue * value,
                                          GParamSpec * pspec);
static void _vala_adblock_settings_set_property (GObject * object,
                                          guint property_id,
                                          const GValue * value,
                                          GParamSpec * pspec);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


static void
_g_object_unref0_ (gpointer var)
{
#line 16 "/home/test/core/extensions/adblock/settings.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 138 "settings.c"
}


static inline void
_g_list_free__g_object_unref0_ (GList* self)
{
#line 16 "/home/test/core/extensions/adblock/settings.vala"
	g_list_free_full (self, (GDestroyNotify) _g_object_unref0_);
#line 147 "settings.c"
}


static gpointer
_g_object_ref0 (gpointer self)
{
#line 24 "/home/test/core/extensions/adblock/settings.vala"
	return self ? g_object_ref (self) : NULL;
#line 156 "settings.c"
}


AdblockSettings*
adblock_settings_get_default (void)
{
	AdblockSettings* result = NULL;
	AdblockSettings* _tmp0_;
	AdblockSettings* _tmp5_;
	AdblockSettings* _tmp6_;
#line 19 "/home/test/core/extensions/adblock/settings.vala"
	_tmp0_ = adblock_settings__default;
#line 19 "/home/test/core/extensions/adblock/settings.vala"
	if (_tmp0_ == NULL) {
#line 171 "settings.c"
		gchar* filename = NULL;
		const gchar* _tmp1_;
		gchar* _tmp2_;
		const gchar* _tmp3_;
		AdblockSettings* _tmp4_;
#line 20 "/home/test/core/extensions/adblock/settings.vala"
		_tmp1_ = g_get_user_config_dir ();
#line 20 "/home/test/core/extensions/adblock/settings.vala"
		_tmp2_ = g_build_filename (_tmp1_, PROJECT_NAME, "extensions", "libadblock.so", "config", NULL);
#line 20 "/home/test/core/extensions/adblock/settings.vala"
		filename = _tmp2_;
#line 22 "/home/test/core/extensions/adblock/settings.vala"
		_tmp3_ = filename;
#line 22 "/home/test/core/extensions/adblock/settings.vala"
		_tmp4_ = adblock_settings_new (_tmp3_);
#line 22 "/home/test/core/extensions/adblock/settings.vala"
		_g_object_unref0 (adblock_settings__default);
#line 22 "/home/test/core/extensions/adblock/settings.vala"
		adblock_settings__default = _tmp4_;
#line 19 "/home/test/core/extensions/adblock/settings.vala"
		_g_free0 (filename);
#line 193 "settings.c"
	}
#line 24 "/home/test/core/extensions/adblock/settings.vala"
	_tmp5_ = adblock_settings__default;
#line 24 "/home/test/core/extensions/adblock/settings.vala"
	_tmp6_ = _g_object_ref0 (_tmp5_);
#line 24 "/home/test/core/extensions/adblock/settings.vala"
	result = _tmp6_;
#line 24 "/home/test/core/extensions/adblock/settings.vala"
	return result;
#line 203 "settings.c"
}


static glong
string_strnlen (gchar* str,
                glong maxlen)
{
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
#line 1392 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp0_ = memchr (str, 0, (gsize) maxlen);
#line 1392 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	end = _tmp0_;
#line 1393 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp1_ = end;
#line 1393 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (_tmp1_ == NULL) {
#line 1394 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		result = maxlen;
#line 1394 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return result;
#line 227 "settings.c"
	} else {
		gchar* _tmp2_;
#line 1396 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp2_ = end;
#line 1396 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		result = (glong) (_tmp2_ - str);
#line 1396 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return result;
#line 236 "settings.c"
	}
}


static gchar*
string_substring (const gchar* self,
                  glong offset,
                  glong len)
{
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp6_;
	gchar* _tmp7_;
#line 1403 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1405 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (offset >= ((glong) 0)) {
#line 1405 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp0_ = len >= ((glong) 0);
#line 257 "settings.c"
	} else {
#line 1405 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp0_ = FALSE;
#line 261 "settings.c"
	}
#line 1405 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (_tmp0_) {
#line 1407 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		string_length = string_strnlen ((gchar*) self, offset + len);
#line 267 "settings.c"
	} else {
		gint _tmp1_;
		gint _tmp2_;
#line 1409 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp1_ = strlen (self);
#line 1409 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp2_ = _tmp1_;
#line 1409 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		string_length = (glong) _tmp2_;
#line 277 "settings.c"
	}
#line 1412 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (offset < ((glong) 0)) {
#line 281 "settings.c"
		glong _tmp3_;
#line 1413 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp3_ = string_length;
#line 1413 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		offset = _tmp3_ + offset;
#line 1414 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		g_return_val_if_fail (offset >= ((glong) 0), NULL);
#line 289 "settings.c"
	} else {
		glong _tmp4_;
#line 1416 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp4_ = string_length;
#line 1416 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		g_return_val_if_fail (offset <= _tmp4_, NULL);
#line 296 "settings.c"
	}
#line 1418 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (len < ((glong) 0)) {
#line 300 "settings.c"
		glong _tmp5_;
#line 1419 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp5_ = string_length;
#line 1419 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		len = _tmp5_ - offset;
#line 306 "settings.c"
	}
#line 1421 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp6_ = string_length;
#line 1421 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail ((offset + len) <= _tmp6_, NULL);
#line 1422 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp7_ = g_strndup (((gchar*) self) + offset, (gsize) len);
#line 1422 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	result = _tmp7_;
#line 1422 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	return result;
#line 318 "settings.c"
}


static AdblockSettings*
adblock_settings_construct (GType object_type,
                            const gchar* filename)
{
	AdblockSettings * self = NULL;
	gchar** filters = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar** _tmp3_;
	gchar** _tmp4_;
	gchar** _tmp5_;
	gint _tmp5__length1;
	gint filters_length1;
	gint _filters_size_;
	gchar** _tmp6_;
	gint _tmp6__length1;
	const gchar* _tmp30_;
	gchar** _tmp31_;
	gchar** _tmp32_;
#line 27 "/home/test/core/extensions/adblock/settings.vala"
	g_return_val_if_fail (filename != NULL, NULL);
#line 28 "/home/test/core/extensions/adblock/settings.vala"
	self = (AdblockSettings*) g_object_new (object_type, "filename", filename, NULL);
#line 29 "/home/test/core/extensions/adblock/settings.vala"
	_tmp0_ = self->default_filters;
#line 29 "/home/test/core/extensions/adblock/settings.vala"
	_tmp1_ = midori_settings_get_string ((MidoriSettings*) self, "settings", "filters", _tmp0_);
#line 29 "/home/test/core/extensions/adblock/settings.vala"
	_tmp2_ = _tmp1_;
#line 29 "/home/test/core/extensions/adblock/settings.vala"
	_tmp4_ = _tmp3_ = g_strsplit (_tmp2_, ";", 0);
#line 29 "/home/test/core/extensions/adblock/settings.vala"
	_tmp5_ = _tmp4_;
#line 29 "/home/test/core/extensions/adblock/settings.vala"
	_tmp5__length1 = _vala_array_length (_tmp3_);
#line 29 "/home/test/core/extensions/adblock/settings.vala"
	_g_free0 (_tmp2_);
#line 29 "/home/test/core/extensions/adblock/settings.vala"
	filters = _tmp5_;
#line 29 "/home/test/core/extensions/adblock/settings.vala"
	filters_length1 = _tmp5__length1;
#line 29 "/home/test/core/extensions/adblock/settings.vala"
	_filters_size_ = filters_length1;
#line 30 "/home/test/core/extensions/adblock/settings.vala"
	_tmp6_ = filters;
#line 30 "/home/test/core/extensions/adblock/settings.vala"
	_tmp6__length1 = filters_length1;
#line 370 "settings.c"
	{
		gchar** filter_collection = NULL;
		gint filter_collection_length1 = 0;
		gint _filter_collection_size_ = 0;
		gint filter_it = 0;
#line 30 "/home/test/core/extensions/adblock/settings.vala"
		filter_collection = _tmp6_;
#line 30 "/home/test/core/extensions/adblock/settings.vala"
		filter_collection_length1 = _tmp6__length1;
#line 30 "/home/test/core/extensions/adblock/settings.vala"
		for (filter_it = 0; filter_it < filter_collection_length1; filter_it = filter_it + 1) {
#line 382 "settings.c"
			const gchar* filter = NULL;
#line 30 "/home/test/core/extensions/adblock/settings.vala"
			filter = filter_collection[filter_it];
#line 386 "settings.c"
			{
				const gchar* _tmp7_;
				gchar* uri = NULL;
				const gchar* _tmp8_;
				gchar* _tmp9_;
				const gchar* _tmp10_;
				const gchar* _tmp25_;
				const gchar* _tmp26_;
				const gchar* _tmp27_;
				AdblockSubscription* _tmp28_;
				AdblockSubscription* _tmp29_;
#line 31 "/home/test/core/extensions/adblock/settings.vala"
				_tmp7_ = filter;
#line 31 "/home/test/core/extensions/adblock/settings.vala"
				if (g_strcmp0 (_tmp7_, "") == 0) {
#line 32 "/home/test/core/extensions/adblock/settings.vala"
					continue;
#line 404 "settings.c"
				}
#line 35 "/home/test/core/extensions/adblock/settings.vala"
				_tmp8_ = filter;
#line 35 "/home/test/core/extensions/adblock/settings.vala"
				_tmp9_ = g_strdup (_tmp8_);
#line 35 "/home/test/core/extensions/adblock/settings.vala"
				uri = _tmp9_;
#line 36 "/home/test/core/extensions/adblock/settings.vala"
				_tmp10_ = filter;
#line 36 "/home/test/core/extensions/adblock/settings.vala"
				if (g_str_has_prefix (_tmp10_, "http-/")) {
#line 416 "settings.c"
					const gchar* _tmp11_;
					gchar* _tmp12_;
					gchar* _tmp13_;
					gchar* _tmp14_;
#line 37 "/home/test/core/extensions/adblock/settings.vala"
					_tmp11_ = filter;
#line 37 "/home/test/core/extensions/adblock/settings.vala"
					_tmp12_ = string_substring (_tmp11_, (glong) 5, (glong) -1);
#line 37 "/home/test/core/extensions/adblock/settings.vala"
					_tmp13_ = _tmp12_;
#line 37 "/home/test/core/extensions/adblock/settings.vala"
					_tmp14_ = g_strconcat ("http:", _tmp13_, NULL);
#line 37 "/home/test/core/extensions/adblock/settings.vala"
					_g_free0 (uri);
#line 37 "/home/test/core/extensions/adblock/settings.vala"
					uri = _tmp14_;
#line 37 "/home/test/core/extensions/adblock/settings.vala"
					_g_free0 (_tmp13_);
#line 435 "settings.c"
				} else {
					const gchar* _tmp15_;
#line 38 "/home/test/core/extensions/adblock/settings.vala"
					_tmp15_ = filter;
#line 38 "/home/test/core/extensions/adblock/settings.vala"
					if (g_str_has_prefix (_tmp15_, "file-/")) {
#line 442 "settings.c"
						const gchar* _tmp16_;
						gchar* _tmp17_;
						gchar* _tmp18_;
						gchar* _tmp19_;
#line 39 "/home/test/core/extensions/adblock/settings.vala"
						_tmp16_ = filter;
#line 39 "/home/test/core/extensions/adblock/settings.vala"
						_tmp17_ = string_substring (_tmp16_, (glong) 5, (glong) -1);
#line 39 "/home/test/core/extensions/adblock/settings.vala"
						_tmp18_ = _tmp17_;
#line 39 "/home/test/core/extensions/adblock/settings.vala"
						_tmp19_ = g_strconcat ("file:", _tmp18_, NULL);
#line 39 "/home/test/core/extensions/adblock/settings.vala"
						_g_free0 (uri);
#line 39 "/home/test/core/extensions/adblock/settings.vala"
						uri = _tmp19_;
#line 39 "/home/test/core/extensions/adblock/settings.vala"
						_g_free0 (_tmp18_);
#line 461 "settings.c"
					} else {
						const gchar* _tmp20_;
#line 40 "/home/test/core/extensions/adblock/settings.vala"
						_tmp20_ = filter;
#line 40 "/home/test/core/extensions/adblock/settings.vala"
						if (g_str_has_prefix (_tmp20_, "http-:")) {
#line 468 "settings.c"
							const gchar* _tmp21_;
							gchar* _tmp22_;
							gchar* _tmp23_;
							gchar* _tmp24_;
#line 41 "/home/test/core/extensions/adblock/settings.vala"
							_tmp21_ = filter;
#line 41 "/home/test/core/extensions/adblock/settings.vala"
							_tmp22_ = string_substring (_tmp21_, (glong) 5, (glong) -1);
#line 41 "/home/test/core/extensions/adblock/settings.vala"
							_tmp23_ = _tmp22_;
#line 41 "/home/test/core/extensions/adblock/settings.vala"
							_tmp24_ = g_strconcat ("https", _tmp23_, NULL);
#line 41 "/home/test/core/extensions/adblock/settings.vala"
							_g_free0 (uri);
#line 41 "/home/test/core/extensions/adblock/settings.vala"
							uri = _tmp24_;
#line 41 "/home/test/core/extensions/adblock/settings.vala"
							_g_free0 (_tmp23_);
#line 487 "settings.c"
						}
					}
				}
#line 43 "/home/test/core/extensions/adblock/settings.vala"
				_tmp25_ = uri;
#line 43 "/home/test/core/extensions/adblock/settings.vala"
				_tmp26_ = filter;
#line 43 "/home/test/core/extensions/adblock/settings.vala"
				_tmp27_ = uri;
#line 43 "/home/test/core/extensions/adblock/settings.vala"
				_tmp28_ = adblock_subscription_new (_tmp25_, g_strcmp0 (_tmp26_, _tmp27_) == 0);
#line 43 "/home/test/core/extensions/adblock/settings.vala"
				_tmp29_ = _tmp28_;
#line 43 "/home/test/core/extensions/adblock/settings.vala"
				adblock_settings_add (self, _tmp29_);
#line 43 "/home/test/core/extensions/adblock/settings.vala"
				_g_object_unref0 (_tmp29_);
#line 30 "/home/test/core/extensions/adblock/settings.vala"
				_g_free0 (uri);
#line 507 "settings.c"
			}
		}
	}
#line 46 "/home/test/core/extensions/adblock/settings.vala"
	_tmp30_ = self->default_filters;
#line 46 "/home/test/core/extensions/adblock/settings.vala"
	_tmp32_ = _tmp31_ = g_strsplit (_tmp30_, ";", 0);
#line 515 "settings.c"
	{
		gchar** uri_collection = NULL;
		gint uri_collection_length1 = 0;
		gint _uri_collection_size_ = 0;
		gint uri_it = 0;
#line 46 "/home/test/core/extensions/adblock/settings.vala"
		uri_collection = _tmp32_;
#line 46 "/home/test/core/extensions/adblock/settings.vala"
		uri_collection_length1 = _vala_array_length (_tmp31_);
#line 46 "/home/test/core/extensions/adblock/settings.vala"
		for (uri_it = 0; uri_it < uri_collection_length1; uri_it = uri_it + 1) {
#line 527 "settings.c"
			const gchar* uri = NULL;
#line 46 "/home/test/core/extensions/adblock/settings.vala"
			uri = uri_collection[uri_it];
#line 531 "settings.c"
			{
				const gchar* _tmp33_;
				AdblockSubscription* _tmp34_;
				AdblockSubscription* _tmp35_;
#line 47 "/home/test/core/extensions/adblock/settings.vala"
				_tmp33_ = uri;
#line 47 "/home/test/core/extensions/adblock/settings.vala"
				_tmp34_ = adblock_subscription_new (_tmp33_, FALSE);
#line 47 "/home/test/core/extensions/adblock/settings.vala"
				_tmp35_ = _tmp34_;
#line 47 "/home/test/core/extensions/adblock/settings.vala"
				adblock_settings_add (self, _tmp35_);
#line 47 "/home/test/core/extensions/adblock/settings.vala"
				_g_object_unref0 (_tmp35_);
#line 546 "settings.c"
			}
		}
#line 46 "/home/test/core/extensions/adblock/settings.vala"
		uri_collection = (_vala_array_free (uri_collection, uri_collection_length1, (GDestroyNotify) g_free), NULL);
#line 551 "settings.c"
	}
#line 27 "/home/test/core/extensions/adblock/settings.vala"
	filters = (_vala_array_free (filters, filters_length1, (GDestroyNotify) g_free), NULL);
#line 27 "/home/test/core/extensions/adblock/settings.vala"
	return self;
#line 557 "settings.c"
}


static AdblockSettings*
adblock_settings_new (const gchar* filename)
{
#line 27 "/home/test/core/extensions/adblock/settings.vala"
	return adblock_settings_construct (ADBLOCK_TYPE_SETTINGS, filename);
#line 566 "settings.c"
}


AdblockSubscription*
adblock_settings_get (AdblockSettings* self,
                      guint index)
{
	AdblockSubscription* result = NULL;
	GList* _tmp0_;
	gconstpointer _tmp1_;
#line 58 "/home/test/core/extensions/adblock/settings.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 59 "/home/test/core/extensions/adblock/settings.vala"
	_tmp0_ = self->priv->subscriptions;
#line 59 "/home/test/core/extensions/adblock/settings.vala"
	_tmp1_ = g_list_nth_data (_tmp0_, index);
#line 59 "/home/test/core/extensions/adblock/settings.vala"
	result = (AdblockSubscription*) _tmp1_;
#line 59 "/home/test/core/extensions/adblock/settings.vala"
	return result;
#line 587 "settings.c"
}


gboolean
adblock_settings_contains (AdblockSettings* self,
                           AdblockSubscription* subscription)
{
	gboolean result = FALSE;
	GList* _tmp0_;
#line 63 "/home/test/core/extensions/adblock/settings.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 63 "/home/test/core/extensions/adblock/settings.vala"
	g_return_val_if_fail (subscription != NULL, FALSE);
#line 64 "/home/test/core/extensions/adblock/settings.vala"
	_tmp0_ = self->priv->subscriptions;
#line 603 "settings.c"
	{
		GList* sub_collection = NULL;
		GList* sub_it = NULL;
#line 64 "/home/test/core/extensions/adblock/settings.vala"
		sub_collection = _tmp0_;
#line 64 "/home/test/core/extensions/adblock/settings.vala"
		for (sub_it = sub_collection; sub_it != NULL; sub_it = sub_it->next) {
#line 611 "settings.c"
			AdblockSubscription* sub = NULL;
#line 64 "/home/test/core/extensions/adblock/settings.vala"
			sub = (AdblockSubscription*) sub_it->data;
#line 615 "settings.c"
			{
				AdblockSubscription* _tmp1_;
				GFile* _tmp2_;
				GFile* _tmp3_;
				gchar* _tmp4_;
				gchar* _tmp5_;
				GFile* _tmp6_;
				GFile* _tmp7_;
				gchar* _tmp8_;
				gchar* _tmp9_;
				gboolean _tmp10_;
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_tmp1_ = sub;
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_tmp2_ = adblock_subscription_get_file (_tmp1_);
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_tmp3_ = _tmp2_;
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_tmp4_ = g_file_get_path (_tmp3_);
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_tmp5_ = _tmp4_;
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_tmp6_ = adblock_subscription_get_file (subscription);
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_tmp7_ = _tmp6_;
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_tmp8_ = g_file_get_path (_tmp7_);
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_tmp9_ = _tmp8_;
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_tmp10_ = g_strcmp0 (_tmp5_, _tmp9_) == 0;
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_g_free0 (_tmp9_);
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				_g_free0 (_tmp5_);
#line 65 "/home/test/core/extensions/adblock/settings.vala"
				if (_tmp10_) {
#line 66 "/home/test/core/extensions/adblock/settings.vala"
					result = TRUE;
#line 66 "/home/test/core/extensions/adblock/settings.vala"
					return result;
#line 657 "settings.c"
				}
			}
		}
	}
#line 68 "/home/test/core/extensions/adblock/settings.vala"
	result = FALSE;
#line 68 "/home/test/core/extensions/adblock/settings.vala"
	return result;
#line 666 "settings.c"
}


static void
_adblock_settings_active_changed_g_object_notify (GObject* _sender,
                                                  GParamSpec* pspec,
                                                  gpointer self)
{
#line 76 "/home/test/core/extensions/adblock/settings.vala"
	adblock_settings_active_changed ((AdblockSettings*) self);
#line 677 "settings.c"
}


void
adblock_settings_add (AdblockSettings* self,
                      AdblockSubscription* sub)
{
	AdblockSubscription* _tmp0_;
	guint _tmp1_;
#line 71 "/home/test/core/extensions/adblock/settings.vala"
	g_return_if_fail (self != NULL);
#line 71 "/home/test/core/extensions/adblock/settings.vala"
	g_return_if_fail (sub != NULL);
#line 72 "/home/test/core/extensions/adblock/settings.vala"
	if (adblock_settings_contains (self, sub)) {
#line 73 "/home/test/core/extensions/adblock/settings.vala"
		return;
#line 695 "settings.c"
	}
#line 76 "/home/test/core/extensions/adblock/settings.vala"
	g_signal_connect_object ((GObject*) sub, "notify::active", (GCallback) _adblock_settings_active_changed_g_object_notify, self, 0);
#line 77 "/home/test/core/extensions/adblock/settings.vala"
	_tmp0_ = _g_object_ref0 (sub);
#line 77 "/home/test/core/extensions/adblock/settings.vala"
	self->priv->subscriptions = g_list_append (self->priv->subscriptions, _tmp0_);
#line 78 "/home/test/core/extensions/adblock/settings.vala"
	_tmp1_ = self->priv->_size;
#line 78 "/home/test/core/extensions/adblock/settings.vala"
	adblock_settings_set_size (self, _tmp1_ + 1);
#line 707 "settings.c"
}


static void
adblock_settings_active_changed (AdblockSettings* self)
{
	GString* filters = NULL;
	GString* _tmp0_;
	GList* _tmp1_;
	GString* _tmp52_;
	const gchar* _tmp53_;
	GString* _tmp57_;
	const gchar* _tmp58_;
#line 81 "/home/test/core/extensions/adblock/settings.vala"
	g_return_if_fail (self != NULL);
#line 82 "/home/test/core/extensions/adblock/settings.vala"
	_tmp0_ = g_string_new ("");
#line 82 "/home/test/core/extensions/adblock/settings.vala"
	filters = _tmp0_;
#line 83 "/home/test/core/extensions/adblock/settings.vala"
	_tmp1_ = self->priv->subscriptions;
#line 729 "settings.c"
	{
		GList* sub_collection = NULL;
		GList* sub_it = NULL;
#line 83 "/home/test/core/extensions/adblock/settings.vala"
		sub_collection = _tmp1_;
#line 83 "/home/test/core/extensions/adblock/settings.vala"
		for (sub_it = sub_collection; sub_it != NULL; sub_it = sub_it->next) {
#line 737 "settings.c"
			AdblockSubscription* sub = NULL;
#line 83 "/home/test/core/extensions/adblock/settings.vala"
			sub = (AdblockSubscription*) sub_it->data;
#line 741 "settings.c"
			{
				gboolean _tmp2_ = FALSE;
				AdblockSubscription* _tmp3_;
				const gchar* _tmp4_;
				const gchar* _tmp5_;
				GString* _tmp51_;
#line 84 "/home/test/core/extensions/adblock/settings.vala"
				_tmp3_ = sub;
#line 84 "/home/test/core/extensions/adblock/settings.vala"
				_tmp4_ = adblock_subscription_get_uri (_tmp3_);
#line 84 "/home/test/core/extensions/adblock/settings.vala"
				_tmp5_ = _tmp4_;
#line 84 "/home/test/core/extensions/adblock/settings.vala"
				if (g_str_has_prefix (_tmp5_, "http:")) {
#line 756 "settings.c"
					AdblockSubscription* _tmp6_;
					gboolean _tmp7_;
					gboolean _tmp8_;
#line 84 "/home/test/core/extensions/adblock/settings.vala"
					_tmp6_ = sub;
#line 84 "/home/test/core/extensions/adblock/settings.vala"
					_tmp7_ = adblock_subscription_get_active (_tmp6_);
#line 84 "/home/test/core/extensions/adblock/settings.vala"
					_tmp8_ = _tmp7_;
#line 84 "/home/test/core/extensions/adblock/settings.vala"
					_tmp2_ = !_tmp8_;
#line 768 "settings.c"
				} else {
#line 84 "/home/test/core/extensions/adblock/settings.vala"
					_tmp2_ = FALSE;
#line 772 "settings.c"
				}
#line 84 "/home/test/core/extensions/adblock/settings.vala"
				if (_tmp2_) {
#line 776 "settings.c"
					GString* _tmp9_;
					AdblockSubscription* _tmp10_;
					const gchar* _tmp11_;
					const gchar* _tmp12_;
					gchar* _tmp13_;
					gchar* _tmp14_;
					gchar* _tmp15_;
					gchar* _tmp16_;
#line 85 "/home/test/core/extensions/adblock/settings.vala"
					_tmp9_ = filters;
#line 85 "/home/test/core/extensions/adblock/settings.vala"
					_tmp10_ = sub;
#line 85 "/home/test/core/extensions/adblock/settings.vala"
					_tmp11_ = adblock_subscription_get_uri (_tmp10_);
#line 85 "/home/test/core/extensions/adblock/settings.vala"
					_tmp12_ = _tmp11_;
#line 85 "/home/test/core/extensions/adblock/settings.vala"
					_tmp13_ = string_substring (_tmp12_, (glong) 4, (glong) -1);
#line 85 "/home/test/core/extensions/adblock/settings.vala"
					_tmp14_ = _tmp13_;
#line 85 "/home/test/core/extensions/adblock/settings.vala"
					_tmp15_ = g_strconcat ("http-", _tmp14_, NULL);
#line 85 "/home/test/core/extensions/adblock/settings.vala"
					_tmp16_ = _tmp15_;
#line 85 "/home/test/core/extensions/adblock/settings.vala"
					g_string_append (_tmp9_, _tmp16_);
#line 85 "/home/test/core/extensions/adblock/settings.vala"
					_g_free0 (_tmp16_);
#line 85 "/home/test/core/extensions/adblock/settings.vala"
					_g_free0 (_tmp14_);
#line 807 "settings.c"
				} else {
					gboolean _tmp17_ = FALSE;
					AdblockSubscription* _tmp18_;
					const gchar* _tmp19_;
					const gchar* _tmp20_;
#line 86 "/home/test/core/extensions/adblock/settings.vala"
					_tmp18_ = sub;
#line 86 "/home/test/core/extensions/adblock/settings.vala"
					_tmp19_ = adblock_subscription_get_uri (_tmp18_);
#line 86 "/home/test/core/extensions/adblock/settings.vala"
					_tmp20_ = _tmp19_;
#line 86 "/home/test/core/extensions/adblock/settings.vala"
					if (g_str_has_prefix (_tmp20_, "file:")) {
#line 821 "settings.c"
						AdblockSubscription* _tmp21_;
						gboolean _tmp22_;
						gboolean _tmp23_;
#line 86 "/home/test/core/extensions/adblock/settings.vala"
						_tmp21_ = sub;
#line 86 "/home/test/core/extensions/adblock/settings.vala"
						_tmp22_ = adblock_subscription_get_active (_tmp21_);
#line 86 "/home/test/core/extensions/adblock/settings.vala"
						_tmp23_ = _tmp22_;
#line 86 "/home/test/core/extensions/adblock/settings.vala"
						_tmp17_ = !_tmp23_;
#line 833 "settings.c"
					} else {
#line 86 "/home/test/core/extensions/adblock/settings.vala"
						_tmp17_ = FALSE;
#line 837 "settings.c"
					}
#line 86 "/home/test/core/extensions/adblock/settings.vala"
					if (_tmp17_) {
#line 841 "settings.c"
						GString* _tmp24_;
						AdblockSubscription* _tmp25_;
						const gchar* _tmp26_;
						const gchar* _tmp27_;
						gchar* _tmp28_;
						gchar* _tmp29_;
						gchar* _tmp30_;
						gchar* _tmp31_;
#line 87 "/home/test/core/extensions/adblock/settings.vala"
						_tmp24_ = filters;
#line 87 "/home/test/core/extensions/adblock/settings.vala"
						_tmp25_ = sub;
#line 87 "/home/test/core/extensions/adblock/settings.vala"
						_tmp26_ = adblock_subscription_get_uri (_tmp25_);
#line 87 "/home/test/core/extensions/adblock/settings.vala"
						_tmp27_ = _tmp26_;
#line 87 "/home/test/core/extensions/adblock/settings.vala"
						_tmp28_ = string_substring (_tmp27_, (glong) 5, (glong) -1);
#line 87 "/home/test/core/extensions/adblock/settings.vala"
						_tmp29_ = _tmp28_;
#line 87 "/home/test/core/extensions/adblock/settings.vala"
						_tmp30_ = g_strconcat ("file-", _tmp29_, NULL);
#line 87 "/home/test/core/extensions/adblock/settings.vala"
						_tmp31_ = _tmp30_;
#line 87 "/home/test/core/extensions/adblock/settings.vala"
						g_string_append (_tmp24_, _tmp31_);
#line 87 "/home/test/core/extensions/adblock/settings.vala"
						_g_free0 (_tmp31_);
#line 87 "/home/test/core/extensions/adblock/settings.vala"
						_g_free0 (_tmp29_);
#line 872 "settings.c"
					} else {
						gboolean _tmp32_ = FALSE;
						AdblockSubscription* _tmp33_;
						const gchar* _tmp34_;
						const gchar* _tmp35_;
#line 88 "/home/test/core/extensions/adblock/settings.vala"
						_tmp33_ = sub;
#line 88 "/home/test/core/extensions/adblock/settings.vala"
						_tmp34_ = adblock_subscription_get_uri (_tmp33_);
#line 88 "/home/test/core/extensions/adblock/settings.vala"
						_tmp35_ = _tmp34_;
#line 88 "/home/test/core/extensions/adblock/settings.vala"
						if (g_str_has_prefix (_tmp35_, "https:")) {
#line 886 "settings.c"
							AdblockSubscription* _tmp36_;
							gboolean _tmp37_;
							gboolean _tmp38_;
#line 88 "/home/test/core/extensions/adblock/settings.vala"
							_tmp36_ = sub;
#line 88 "/home/test/core/extensions/adblock/settings.vala"
							_tmp37_ = adblock_subscription_get_active (_tmp36_);
#line 88 "/home/test/core/extensions/adblock/settings.vala"
							_tmp38_ = _tmp37_;
#line 88 "/home/test/core/extensions/adblock/settings.vala"
							_tmp32_ = !_tmp38_;
#line 898 "settings.c"
						} else {
#line 88 "/home/test/core/extensions/adblock/settings.vala"
							_tmp32_ = FALSE;
#line 902 "settings.c"
						}
#line 88 "/home/test/core/extensions/adblock/settings.vala"
						if (_tmp32_) {
#line 906 "settings.c"
							GString* _tmp39_;
							AdblockSubscription* _tmp40_;
							const gchar* _tmp41_;
							const gchar* _tmp42_;
							gchar* _tmp43_;
							gchar* _tmp44_;
							gchar* _tmp45_;
							gchar* _tmp46_;
#line 89 "/home/test/core/extensions/adblock/settings.vala"
							_tmp39_ = filters;
#line 89 "/home/test/core/extensions/adblock/settings.vala"
							_tmp40_ = sub;
#line 89 "/home/test/core/extensions/adblock/settings.vala"
							_tmp41_ = adblock_subscription_get_uri (_tmp40_);
#line 89 "/home/test/core/extensions/adblock/settings.vala"
							_tmp42_ = _tmp41_;
#line 89 "/home/test/core/extensions/adblock/settings.vala"
							_tmp43_ = string_substring (_tmp42_, (glong) 5, (glong) -1);
#line 89 "/home/test/core/extensions/adblock/settings.vala"
							_tmp44_ = _tmp43_;
#line 89 "/home/test/core/extensions/adblock/settings.vala"
							_tmp45_ = g_strconcat ("http-", _tmp44_, NULL);
#line 89 "/home/test/core/extensions/adblock/settings.vala"
							_tmp46_ = _tmp45_;
#line 89 "/home/test/core/extensions/adblock/settings.vala"
							g_string_append (_tmp39_, _tmp46_);
#line 89 "/home/test/core/extensions/adblock/settings.vala"
							_g_free0 (_tmp46_);
#line 89 "/home/test/core/extensions/adblock/settings.vala"
							_g_free0 (_tmp44_);
#line 937 "settings.c"
						} else {
							GString* _tmp47_;
							AdblockSubscription* _tmp48_;
							const gchar* _tmp49_;
							const gchar* _tmp50_;
#line 91 "/home/test/core/extensions/adblock/settings.vala"
							_tmp47_ = filters;
#line 91 "/home/test/core/extensions/adblock/settings.vala"
							_tmp48_ = sub;
#line 91 "/home/test/core/extensions/adblock/settings.vala"
							_tmp49_ = adblock_subscription_get_uri (_tmp48_);
#line 91 "/home/test/core/extensions/adblock/settings.vala"
							_tmp50_ = _tmp49_;
#line 91 "/home/test/core/extensions/adblock/settings.vala"
							g_string_append (_tmp47_, _tmp50_);
#line 953 "settings.c"
						}
					}
				}
#line 93 "/home/test/core/extensions/adblock/settings.vala"
				_tmp51_ = filters;
#line 93 "/home/test/core/extensions/adblock/settings.vala"
				g_string_append_c (_tmp51_, ';');
#line 961 "settings.c"
			}
		}
	}
#line 96 "/home/test/core/extensions/adblock/settings.vala"
	_tmp52_ = filters;
#line 96 "/home/test/core/extensions/adblock/settings.vala"
	_tmp53_ = _tmp52_->str;
#line 96 "/home/test/core/extensions/adblock/settings.vala"
	if (g_str_has_suffix (_tmp53_, ";")) {
#line 971 "settings.c"
		GString* _tmp54_;
		GString* _tmp55_;
		gssize _tmp56_;
#line 97 "/home/test/core/extensions/adblock/settings.vala"
		_tmp54_ = filters;
#line 97 "/home/test/core/extensions/adblock/settings.vala"
		_tmp55_ = filters;
#line 97 "/home/test/core/extensions/adblock/settings.vala"
		_tmp56_ = _tmp55_->len;
#line 97 "/home/test/core/extensions/adblock/settings.vala"
		g_string_truncate (_tmp54_, (gsize) (_tmp56_ - 1));
#line 983 "settings.c"
	}
#line 98 "/home/test/core/extensions/adblock/settings.vala"
	_tmp57_ = filters;
#line 98 "/home/test/core/extensions/adblock/settings.vala"
	_tmp58_ = _tmp57_->str;
#line 98 "/home/test/core/extensions/adblock/settings.vala"
	midori_settings_set_string ((MidoriSettings*) self, "settings", "filters", _tmp58_, NULL);
#line 81 "/home/test/core/extensions/adblock/settings.vala"
	_g_string_free0 (filters);
#line 993 "settings.c"
}


void
adblock_settings_remove (AdblockSettings* self,
                         AdblockSubscription* sub)
{
	guint _tmp0_;
	guint _tmp1_;
	GQuark _tmp2_;
#line 101 "/home/test/core/extensions/adblock/settings.vala"
	g_return_if_fail (self != NULL);
#line 101 "/home/test/core/extensions/adblock/settings.vala"
	g_return_if_fail (sub != NULL);
#line 102 "/home/test/core/extensions/adblock/settings.vala"
	self->priv->subscriptions = g_list_remove (self->priv->subscriptions, sub);
#line 103 "/home/test/core/extensions/adblock/settings.vala"
	_tmp0_ = self->priv->_size;
#line 103 "/home/test/core/extensions/adblock/settings.vala"
	adblock_settings_set_size (self, _tmp0_ - 1);
#line 104 "/home/test/core/extensions/adblock/settings.vala"
	g_signal_parse_name ("notify::active", G_TYPE_OBJECT, &_tmp1_, &_tmp2_, TRUE);
#line 104 "/home/test/core/extensions/adblock/settings.vala"
	g_signal_handlers_disconnect_matched ((GObject*) sub, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_DETAIL | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp1_, _tmp2_, NULL, (GCallback) _adblock_settings_active_changed_g_object_notify, self);
#line 105 "/home/test/core/extensions/adblock/settings.vala"
	adblock_settings_active_changed (self);
#line 1020 "settings.c"
}


gboolean
adblock_settings_get_enabled (AdblockSettings* self)
{
	gboolean result;
#line 51 "/home/test/core/extensions/adblock/settings.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 52 "/home/test/core/extensions/adblock/settings.vala"
	result = !midori_settings_get_boolean ((MidoriSettings*) self, "settings", "disabled", FALSE);
#line 52 "/home/test/core/extensions/adblock/settings.vala"
	return result;
#line 1034 "settings.c"
}


void
adblock_settings_set_enabled (AdblockSettings* self,
                              gboolean value)
{
#line 53 "/home/test/core/extensions/adblock/settings.vala"
	g_return_if_fail (self != NULL);
#line 54 "/home/test/core/extensions/adblock/settings.vala"
	midori_settings_set_boolean ((MidoriSettings*) self, "settings", "disabled", !value, FALSE);
#line 53 "/home/test/core/extensions/adblock/settings.vala"
	g_object_notify_by_pspec ((GObject *) self, adblock_settings_properties[ADBLOCK_SETTINGS_ENABLED_PROPERTY]);
#line 1048 "settings.c"
}


guint
adblock_settings_get_size (AdblockSettings* self)
{
	guint result;
	guint _tmp0_;
#line 61 "/home/test/core/extensions/adblock/settings.vala"
	g_return_val_if_fail (self != NULL, 0U);
#line 61 "/home/test/core/extensions/adblock/settings.vala"
	_tmp0_ = self->priv->_size;
#line 61 "/home/test/core/extensions/adblock/settings.vala"
	result = _tmp0_;
#line 61 "/home/test/core/extensions/adblock/settings.vala"
	return result;
#line 1065 "settings.c"
}


static void
adblock_settings_set_size (AdblockSettings* self,
                           guint value)
{
#line 61 "/home/test/core/extensions/adblock/settings.vala"
	g_return_if_fail (self != NULL);
#line 61 "/home/test/core/extensions/adblock/settings.vala"
	if (adblock_settings_get_size (self) != value) {
#line 61 "/home/test/core/extensions/adblock/settings.vala"
		self->priv->_size = value;
#line 61 "/home/test/core/extensions/adblock/settings.vala"
		g_object_notify_by_pspec ((GObject *) self, adblock_settings_properties[ADBLOCK_SETTINGS_SIZE_PROPERTY]);
#line 1081 "settings.c"
	}
}


static void
adblock_settings_class_init (AdblockSettingsClass * klass)
{
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	adblock_settings_parent_class = g_type_class_peek_parent (klass);
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	g_type_class_add_private (klass, sizeof (AdblockSettingsPrivate));
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_adblock_settings_get_property;
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_adblock_settings_set_property;
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	G_OBJECT_CLASS (klass)->finalize = adblock_settings_finalize;
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), ADBLOCK_SETTINGS_ENABLED_PROPERTY, adblock_settings_properties[ADBLOCK_SETTINGS_ENABLED_PROPERTY] = g_param_spec_boolean ("enabled", "enabled", "enabled", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), ADBLOCK_SETTINGS_SIZE_PROPERTY, adblock_settings_properties[ADBLOCK_SETTINGS_SIZE_PROPERTY] = g_param_spec_uint ("size", "size", "size", 0, G_MAXUINT, 0U, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 1103 "settings.c"
}


static void
adblock_settings_instance_init (AdblockSettings * self)
{
	gchar* _tmp0_;
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	self->priv = ADBLOCK_SETTINGS_GET_PRIVATE (self);
#line 15 "/home/test/core/extensions/adblock/settings.vala"
	_tmp0_ = g_strdup ("https://easylist.to/easylist/easylist.txt&title=EasyList;https://easyl" \
"ist.to/easylist/easyprivacy.txt&title=EasyPrivacy");
#line 15 "/home/test/core/extensions/adblock/settings.vala"
	self->default_filters = _tmp0_;
#line 1117 "settings.c"
}


static void
adblock_settings_finalize (GObject * obj)
{
	AdblockSettings * self;
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, ADBLOCK_TYPE_SETTINGS, AdblockSettings);
#line 15 "/home/test/core/extensions/adblock/settings.vala"
	_g_free0 (self->default_filters);
#line 16 "/home/test/core/extensions/adblock/settings.vala"
	(self->priv->subscriptions == NULL) ? NULL : (self->priv->subscriptions = (_g_list_free__g_object_unref0_ (self->priv->subscriptions), NULL));
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	G_OBJECT_CLASS (adblock_settings_parent_class)->finalize (obj);
#line 1133 "settings.c"
}


GType
adblock_settings_get_type (void)
{
	return adblock_settings_type_id;
}


GType
adblock_settings_register_type (GTypeModule * module)
{
	static const GTypeInfo g_define_type_info = { sizeof (AdblockSettingsClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) adblock_settings_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (AdblockSettings), 0, (GInstanceInitFunc) adblock_settings_instance_init, NULL };
	adblock_settings_type_id = g_type_module_register_type (module, MIDORI_TYPE_SETTINGS, "AdblockSettings", &g_define_type_info, 0);
	return adblock_settings_type_id;
}


static void
_vala_adblock_settings_get_property (GObject * object,
                                     guint property_id,
                                     GValue * value,
                                     GParamSpec * pspec)
{
	AdblockSettings * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, ADBLOCK_TYPE_SETTINGS, AdblockSettings);
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	switch (property_id) {
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		case ADBLOCK_SETTINGS_ENABLED_PROPERTY:
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		g_value_set_boolean (value, adblock_settings_get_enabled (self));
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		break;
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		case ADBLOCK_SETTINGS_SIZE_PROPERTY:
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		g_value_set_uint (value, adblock_settings_get_size (self));
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		break;
#line 1175 "settings.c"
		default:
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		break;
#line 1181 "settings.c"
	}
}


static void
_vala_adblock_settings_set_property (GObject * object,
                                     guint property_id,
                                     const GValue * value,
                                     GParamSpec * pspec)
{
	AdblockSettings * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, ADBLOCK_TYPE_SETTINGS, AdblockSettings);
#line 13 "/home/test/core/extensions/adblock/settings.vala"
	switch (property_id) {
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		case ADBLOCK_SETTINGS_ENABLED_PROPERTY:
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		adblock_settings_set_enabled (self, g_value_get_boolean (value));
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		break;
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		case ADBLOCK_SETTINGS_SIZE_PROPERTY:
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		adblock_settings_set_size (self, g_value_get_uint (value));
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		break;
#line 1208 "settings.c"
		default:
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 13 "/home/test/core/extensions/adblock/settings.vala"
		break;
#line 1214 "settings.c"
	}
}


static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint
_vala_array_length (gpointer array)
{
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



