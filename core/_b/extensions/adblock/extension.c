/* extension.c generated by valac 0.40.23, the Vala compiler
 * generated from extension.vala, do not modify */

/*
 Copyright (C) 2009-2018 Christian Dywan <christian@twotoats.de>
 Copyright (C) 2009-2012 Alexander Butenko <a.butenka@gmail.com>

 This library is free software; you can redistribute it and/or
 modify it under the terms of the GNU Lesser General Public
 License as published by the Free Software Foundation; either
 version 2.1 of the License, or (at your option) any later version.

 See the file COPYING for the full license text.
*/


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include "midori-core.h"
#include <gio/gio.h>
#include "webkit2/webkit2.h"
#include <glib/gi18n-lib.h>
#include <libpeas/peas.h>


#define ADBLOCK_TYPE_BUTTON (adblock_button_get_type ())
#define ADBLOCK_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_BUTTON, AdblockButton))
#define ADBLOCK_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_BUTTON, AdblockButtonClass))
#define ADBLOCK_IS_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_BUTTON))
#define ADBLOCK_IS_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_BUTTON))
#define ADBLOCK_BUTTON_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_BUTTON, AdblockButtonClass))

typedef struct _AdblockButton AdblockButton;
typedef struct _AdblockButtonClass AdblockButtonClass;
typedef struct _AdblockButtonPrivate AdblockButtonPrivate;

#define ADBLOCK_TYPE_SETTINGS (adblock_settings_get_type ())
#define ADBLOCK_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_SETTINGS, AdblockSettings))
#define ADBLOCK_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_SETTINGS, AdblockSettingsClass))
#define ADBLOCK_IS_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_SETTINGS))
#define ADBLOCK_IS_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_SETTINGS))
#define ADBLOCK_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_SETTINGS, AdblockSettingsClass))

typedef struct _AdblockSettings AdblockSettings;
typedef struct _AdblockSettingsClass AdblockSettingsClass;
enum  {
	ADBLOCK_BUTTON_0_PROPERTY,
	ADBLOCK_BUTTON_ICON_NAME_PROPERTY,
	ADBLOCK_BUTTON_NUM_PROPERTIES
};
static GParamSpec* adblock_button_properties[ADBLOCK_BUTTON_NUM_PROPERTIES];
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
typedef struct _Block1Data Block1Data;

#define ADBLOCK_TYPE_FRONTEND (adblock_frontend_get_type ())
#define ADBLOCK_FRONTEND(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_FRONTEND, AdblockFrontend))
#define ADBLOCK_FRONTEND_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_FRONTEND, AdblockFrontendClass))
#define ADBLOCK_IS_FRONTEND(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_FRONTEND))
#define ADBLOCK_IS_FRONTEND_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_FRONTEND))
#define ADBLOCK_FRONTEND_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_FRONTEND, AdblockFrontendClass))

typedef struct _AdblockFrontend AdblockFrontend;
typedef struct _AdblockFrontendClass AdblockFrontendClass;
typedef struct _AdblockFrontendPrivate AdblockFrontendPrivate;
enum  {
	ADBLOCK_FRONTEND_0_PROPERTY,
	ADBLOCK_FRONTEND_BROWSER_PROPERTY,
	ADBLOCK_FRONTEND_NUM_PROPERTIES
};
static GParamSpec* adblock_frontend_properties[ADBLOCK_FRONTEND_NUM_PROPERTIES];
typedef struct _Block2Data Block2Data;

#define ADBLOCK_TYPE_SUBSCRIPTION (adblock_subscription_get_type ())
#define ADBLOCK_SUBSCRIPTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_SUBSCRIPTION, AdblockSubscription))
#define ADBLOCK_SUBSCRIPTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_SUBSCRIPTION, AdblockSubscriptionClass))
#define ADBLOCK_IS_SUBSCRIPTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_SUBSCRIPTION))
#define ADBLOCK_IS_SUBSCRIPTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_SUBSCRIPTION))
#define ADBLOCK_SUBSCRIPTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_SUBSCRIPTION, AdblockSubscriptionClass))

typedef struct _AdblockSubscription AdblockSubscription;
typedef struct _AdblockSubscriptionClass AdblockSubscriptionClass;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define ADBLOCK_TYPE_REQUEST_FILTER (adblock_request_filter_get_type ())
#define ADBLOCK_REQUEST_FILTER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_REQUEST_FILTER, AdblockRequestFilter))
#define ADBLOCK_REQUEST_FILTER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_REQUEST_FILTER, AdblockRequestFilterClass))
#define ADBLOCK_IS_REQUEST_FILTER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_REQUEST_FILTER))
#define ADBLOCK_IS_REQUEST_FILTER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_REQUEST_FILTER))
#define ADBLOCK_REQUEST_FILTER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_REQUEST_FILTER, AdblockRequestFilterClass))

typedef struct _AdblockRequestFilter AdblockRequestFilter;
typedef struct _AdblockRequestFilterClass AdblockRequestFilterClass;
typedef struct _AdblockRequestFilterPrivate AdblockRequestFilterPrivate;
enum  {
	ADBLOCK_REQUEST_FILTER_0_PROPERTY,
	ADBLOCK_REQUEST_FILTER_OBJECT_PROPERTY,
	ADBLOCK_REQUEST_FILTER_NUM_PROPERTIES
};
static GParamSpec* adblock_request_filter_properties[ADBLOCK_REQUEST_FILTER_NUM_PROPERTIES];
typedef enum  {
	ADBLOCK_DIRECTIVE_ALLOW,
	ADBLOCK_DIRECTIVE_BLOCK
} AdblockDirective;


#define ADBLOCK_TYPE_DIRECTIVE (adblock_directive_get_type ())

#define ADBLOCK_TYPE_PREFERENCES (adblock_preferences_get_type ())
#define ADBLOCK_PREFERENCES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_PREFERENCES, AdblockPreferences))
#define ADBLOCK_PREFERENCES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_PREFERENCES, AdblockPreferencesClass))
#define ADBLOCK_IS_PREFERENCES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_PREFERENCES))
#define ADBLOCK_IS_PREFERENCES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_PREFERENCES))
#define ADBLOCK_PREFERENCES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_PREFERENCES, AdblockPreferencesClass))

typedef struct _AdblockPreferences AdblockPreferences;
typedef struct _AdblockPreferencesClass AdblockPreferencesClass;
typedef struct _AdblockPreferencesPrivate AdblockPreferencesPrivate;
enum  {
	ADBLOCK_PREFERENCES_0_PROPERTY,
	ADBLOCK_PREFERENCES_PREFERENCES_PROPERTY,
	ADBLOCK_PREFERENCES_NUM_PROPERTIES
};
static GParamSpec* adblock_preferences_properties[ADBLOCK_PREFERENCES_NUM_PROPERTIES];
typedef struct _Block3Data Block3Data;
typedef struct _Block4Data Block4Data;
typedef struct _AdblockSettingsPrivate AdblockSettingsPrivate;

struct _AdblockButton {
	GtkButton parent_instance;
	AdblockButtonPrivate * priv;
};

struct _AdblockButtonClass {
	GtkButtonClass parent_class;
};

struct _AdblockButtonPrivate {
	gchar* _icon_name;
	AdblockSettings* settings;
};

struct _Block1Data {
	int _ref_count_;
	AdblockButton* self;
	GSimpleAction* action;
	MidoriBrowser* browser;
};

struct _AdblockFrontend {
	GObject parent_instance;
	AdblockFrontendPrivate * priv;
};

struct _AdblockFrontendClass {
	GObjectClass parent_class;
};

struct _AdblockFrontendPrivate {
	MidoriBrowser* _browser;
};

struct _Block2Data {
	int _ref_count_;
	AdblockFrontend* self;
	AdblockButton* button;
};

struct _AdblockRequestFilter {
	PeasExtensionBase parent_instance;
	AdblockRequestFilterPrivate * priv;
};

struct _AdblockRequestFilterClass {
	PeasExtensionBaseClass parent_class;
};

struct _AdblockRequestFilterPrivate {
	GObject* _object;
};

struct _AdblockPreferences {
	GObject parent_instance;
	AdblockPreferencesPrivate * priv;
};

struct _AdblockPreferencesClass {
	GObjectClass parent_class;
};

struct _AdblockPreferencesPrivate {
	MidoriPreferences* _preferences;
};

struct _Block3Data {
	int _ref_count_;
	AdblockPreferences* self;
	MidoriLabelWidget* box;
	AdblockSettings* settings;
};

struct _Block4Data {
	int _ref_count_;
	Block3Data * _data3_;
	AdblockSubscription* sub;
	GtkBox* row;
};

struct _AdblockSettings {
	MidoriSettings parent_instance;
	AdblockSettingsPrivate * priv;
	gchar* default_filters;
};

struct _AdblockSettingsClass {
	MidoriSettingsClass parent_class;
};


static gpointer adblock_button_parent_class = NULL;
static GType adblock_button_type_id = 0;
static gpointer adblock_frontend_parent_class = NULL;
static MidoriBrowserActivatableIface * adblock_frontend_midori_browser_activatable_parent_iface = NULL;
static GType adblock_frontend_type_id = 0;
static gpointer adblock_request_filter_parent_class = NULL;
static PeasActivatableInterface * adblock_request_filter_peas_activatable_parent_iface = NULL;
static GType adblock_request_filter_type_id = 0;
static gpointer adblock_preferences_parent_class = NULL;
static MidoriPreferencesActivatableIface * adblock_preferences_midori_preferences_activatable_parent_iface = NULL;
static GType adblock_preferences_type_id = 0;

GType adblock_button_register_type (GTypeModule * module);
GType adblock_button_get_type (void) G_GNUC_CONST;
GType adblock_settings_register_type (GTypeModule * module);
GType adblock_settings_get_type (void) G_GNUC_CONST;
#define ADBLOCK_BUTTON_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), ADBLOCK_TYPE_BUTTON, AdblockButtonPrivate))
AdblockSettings* adblock_settings_get_default (void);
static void adblock_button_update_icon (AdblockButton* self);
gboolean adblock_settings_get_enabled (AdblockSettings* self);
void adblock_button_set_icon_name (AdblockButton* self,
                                   const gchar* value);
AdblockButton* adblock_button_new (MidoriBrowser* browser);
AdblockButton* adblock_button_construct (GType object_type,
                                         MidoriBrowser* browser);
static Block1Data* block1_data_ref (Block1Data* _data1_);
static void block1_data_unref (void * _userdata_);
static void __lambda5_ (Block1Data* _data1_);
void adblock_settings_set_enabled (AdblockSettings* self,
                                   gboolean value);
static void ___lambda5__g_simple_action_activate (GSimpleAction* _sender,
                                           GVariant* parameter,
                                           gpointer self);
static void __lambda6_ (Block1Data* _data1_);
static void ___lambda6__g_object_notify (GObject* _sender,
                                  GParamSpec* pspec,
                                  gpointer self);
const gchar* adblock_button_get_icon_name (AdblockButton* self);
static GObject * adblock_button_constructor (GType type,
                                      guint n_construct_properties,
                                      GObjectConstructParam * construct_properties);
static void _adblock_button_update_icon_g_object_notify (GObject* _sender,
                                                  GParamSpec* pspec,
                                                  gpointer self);
static void adblock_button_finalize (GObject * obj);
static void _vala_adblock_button_get_property (GObject * object,
                                        guint property_id,
                                        GValue * value,
                                        GParamSpec * pspec);
static void _vala_adblock_button_set_property (GObject * object,
                                        guint property_id,
                                        const GValue * value,
                                        GParamSpec * pspec);
GType adblock_frontend_register_type (GTypeModule * module);
GType adblock_frontend_get_type (void) G_GNUC_CONST;
#define ADBLOCK_FRONTEND_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), ADBLOCK_TYPE_FRONTEND, AdblockFrontendPrivate))
static void adblock_frontend_real_activate (MidoriBrowserActivatable* base);
static Block2Data* block2_data_ref (Block2Data* _data2_);
static void block2_data_unref (void * _userdata_);
static void __lambda7_ (Block2Data* _data2_);
static void ___lambda7__midori_browser_activatable_deactivate (MidoriBrowserActivatable* _sender,
                                                        gpointer self);
static void __lambda8_ (AdblockFrontend* self,
                 WebKitURISchemeRequest* request);
GType adblock_subscription_register_type (GTypeModule * module);
GType adblock_subscription_get_type (void) G_GNUC_CONST;
AdblockSubscription* adblock_subscription_new (const gchar* uri,
                                               gboolean active);
AdblockSubscription* adblock_subscription_construct (GType object_type,
                                                     const gchar* uri,
                                                     gboolean active);
const gchar* adblock_subscription_get_uri (AdblockSubscription* self);
void adblock_settings_add (AdblockSettings* self,
                           AdblockSubscription* sub);
void adblock_subscription_set_active (AdblockSubscription* self,
                                      gboolean value);
static void ___lambda8__web_kit_uri_scheme_request_callback (WebKitURISchemeRequest* request,
                                                      gpointer self);
AdblockFrontend* adblock_frontend_new (void);
AdblockFrontend* adblock_frontend_construct (GType object_type);
static void adblock_frontend_finalize (GObject * obj);
static void _vala_adblock_frontend_get_property (GObject * object,
                                          guint property_id,
                                          GValue * value,
                                          GParamSpec * pspec);
static void _vala_adblock_frontend_set_property (GObject * object,
                                          guint property_id,
                                          const GValue * value,
                                          GParamSpec * pspec);
GType adblock_request_filter_register_type (GTypeModule * module);
GType adblock_request_filter_get_type (void) G_GNUC_CONST;
#define ADBLOCK_REQUEST_FILTER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), ADBLOCK_TYPE_REQUEST_FILTER, AdblockRequestFilterPrivate))
static void adblock_request_filter_real_activate (PeasActivatable* base);
static gboolean adblock_request_filter_handle_request (AdblockRequestFilter* self,
                                                GObject* request,
                                                GObject* response,
                                                const gchar* page_uri);
GType adblock_directive_get_type (void) G_GNUC_CONST;
static AdblockDirective adblock_request_filter_get_directive_for_uri (AdblockRequestFilter* self,
                                                               const gchar* request_uri,
                                                               const gchar* page_uri);
guint adblock_settings_get_size (AdblockSettings* self);
AdblockSubscription* adblock_settings_get (AdblockSettings* self,
                                           guint index);
AdblockDirective* adblock_subscription_get_directive (AdblockSubscription* self,
                                                      const gchar* request_uri,
                                                      const gchar* page_uri);
static AdblockDirective* _adblock_directive_dup (AdblockDirective* self);
static void adblock_request_filter_real_deactivate (PeasActivatable* base);
static void adblock_request_filter_real_update_state (PeasActivatable* base);
AdblockRequestFilter* adblock_request_filter_new (void);
AdblockRequestFilter* adblock_request_filter_construct (GType object_type);
static void adblock_request_filter_finalize (GObject * obj);
static void _vala_adblock_request_filter_get_property (GObject * object,
                                                guint property_id,
                                                GValue * value,
                                                GParamSpec * pspec);
static void _vala_adblock_request_filter_set_property (GObject * object,
                                                guint property_id,
                                                const GValue * value,
                                                GParamSpec * pspec);
GType adblock_preferences_register_type (GTypeModule * module);
GType adblock_preferences_get_type (void) G_GNUC_CONST;
#define ADBLOCK_PREFERENCES_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), ADBLOCK_TYPE_PREFERENCES, AdblockPreferencesPrivate))
static void adblock_preferences_real_activate (MidoriPreferencesActivatable* base);
static Block3Data* block3_data_ref (Block3Data* _data3_);
static void block3_data_unref (void * _userdata_);
static Block4Data* block4_data_ref (Block4Data* _data4_);
static void block4_data_unref (void * _userdata_);
const gchar* adblock_subscription_get_title (AdblockSubscription* self);
static void _____lambda9_ (Block4Data* _data4_);
void adblock_settings_remove (AdblockSettings* self,
                              AdblockSubscription* sub);
static void ______lambda9__gtk_button_clicked (GtkButton* _sender,
                                        gpointer self);
static gboolean __lambda10_ (AdblockPreferences* self,
                      const gchar* uri);
static gboolean ___lambda10__gtk_label_activate_link (GtkLabel* _sender,
                                               const gchar* uri,
                                               gpointer self);
static void __lambda11_ (Block3Data* _data3_);
static void ___lambda11__midori_preferences_activatable_deactivate (MidoriPreferencesActivatable* _sender,
                                                             gpointer self);
AdblockPreferences* adblock_preferences_new (void);
AdblockPreferences* adblock_preferences_construct (GType object_type);
static void adblock_preferences_finalize (GObject * obj);
static void _vala_adblock_preferences_get_property (GObject * object,
                                             guint property_id,
                                             GValue * value,
                                             GParamSpec * pspec);
static void _vala_adblock_preferences_set_property (GObject * object,
                                             guint property_id,
                                             const GValue * value,
                                             GParamSpec * pspec);
void peas_register_types (GTypeModule* module);
GType adblock_button_register_type (GTypeModule * module);
GType adblock_frontend_register_type (GTypeModule * module);
GType adblock_request_filter_register_type (GTypeModule * module);
GType adblock_preferences_register_type (GTypeModule * module);
GType adblock_feature_register_type (GTypeModule * module);
GType adblock_filter_register_type (GTypeModule * module);
GType adblock_keys_register_type (GTypeModule * module);
GType adblock_options_register_type (GTypeModule * module);
GType adblock_pattern_register_type (GTypeModule * module);
GType adblock_settings_register_type (GTypeModule * module);
GType adblock_subscription_register_type (GTypeModule * module);
GType adblock_whitelist_register_type (GTypeModule * module);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


static void
adblock_button_update_icon (AdblockButton* self)
{
	const gchar* _tmp0_ = NULL;
	AdblockSettings* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
#line 31 "/home/test/core/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 32 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = self->priv->settings;
#line 32 "/home/test/core/extensions/adblock/extension.vala"
	_tmp2_ = adblock_settings_get_enabled (_tmp1_);
#line 32 "/home/test/core/extensions/adblock/extension.vala"
	_tmp3_ = _tmp2_;
#line 32 "/home/test/core/extensions/adblock/extension.vala"
	if (_tmp3_) {
#line 32 "/home/test/core/extensions/adblock/extension.vala"
		_tmp0_ = "high";
#line 421 "extension.c"
	} else {
#line 32 "/home/test/core/extensions/adblock/extension.vala"
		_tmp0_ = "low";
#line 425 "extension.c"
	}
#line 32 "/home/test/core/extensions/adblock/extension.vala"
	_tmp4_ = g_strdup_printf ("security-%s-symbolic", _tmp0_);
#line 32 "/home/test/core/extensions/adblock/extension.vala"
	_tmp5_ = _tmp4_;
#line 32 "/home/test/core/extensions/adblock/extension.vala"
	adblock_button_set_icon_name (self, _tmp5_);
#line 32 "/home/test/core/extensions/adblock/extension.vala"
	_g_free0 (_tmp5_);
#line 435 "extension.c"
}


static gpointer
_g_object_ref0 (gpointer self)
{
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	return self ? g_object_ref (self) : NULL;
#line 444 "extension.c"
}


static Block1Data*
block1_data_ref (Block1Data* _data1_)
{
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	g_atomic_int_inc (&_data1_->_ref_count_);
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	return _data1_;
#line 455 "extension.c"
}


static void
block1_data_unref (void * _userdata_)
{
	Block1Data* _data1_;
	_data1_ = (Block1Data*) _userdata_;
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	if (g_atomic_int_dec_and_test (&_data1_->_ref_count_)) {
#line 466 "extension.c"
		AdblockButton* self;
#line 35 "/home/test/core/extensions/adblock/extension.vala"
		self = _data1_->self;
#line 35 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (_data1_->action);
#line 35 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (_data1_->browser);
#line 35 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (self);
#line 35 "/home/test/core/extensions/adblock/extension.vala"
		g_slice_free (Block1Data, _data1_);
#line 478 "extension.c"
	}
}


static void
__lambda5_ (Block1Data* _data1_)
{
	AdblockButton* self;
	AdblockSettings* _tmp0_;
	AdblockSettings* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	MidoriTab* _tmp4_;
	MidoriTab* _tmp5_;
#line 37 "/home/test/core/extensions/adblock/extension.vala"
	self = _data1_->self;
#line 38 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = self->priv->settings;
#line 38 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = self->priv->settings;
#line 38 "/home/test/core/extensions/adblock/extension.vala"
	_tmp2_ = adblock_settings_get_enabled (_tmp1_);
#line 38 "/home/test/core/extensions/adblock/extension.vala"
	_tmp3_ = _tmp2_;
#line 38 "/home/test/core/extensions/adblock/extension.vala"
	adblock_settings_set_enabled (_tmp0_, !_tmp3_);
#line 39 "/home/test/core/extensions/adblock/extension.vala"
	_tmp4_ = midori_browser_get_tab (_data1_->browser);
#line 39 "/home/test/core/extensions/adblock/extension.vala"
	_tmp5_ = _tmp4_;
#line 39 "/home/test/core/extensions/adblock/extension.vala"
	webkit_web_view_reload ((WebKitWebView*) _tmp5_);
#line 511 "extension.c"
}


static void
___lambda5__g_simple_action_activate (GSimpleAction* _sender,
                                      GVariant* parameter,
                                      gpointer self)
{
#line 37 "/home/test/core/extensions/adblock/extension.vala"
	__lambda5_ (self);
#line 522 "extension.c"
}


static void
__lambda6_ (Block1Data* _data1_)
{
	AdblockButton* self;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
#line 41 "/home/test/core/extensions/adblock/extension.vala"
	self = _data1_->self;
#line 42 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = midori_browser_get_uri (_data1_->browser);
#line 42 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = _tmp0_;
#line 42 "/home/test/core/extensions/adblock/extension.vala"
	g_simple_action_set_enabled (_data1_->action, g_str_has_prefix (_tmp1_, "http"));
#line 540 "extension.c"
}


static void
___lambda6__g_object_notify (GObject* _sender,
                             GParamSpec* pspec,
                             gpointer self)
{
#line 41 "/home/test/core/extensions/adblock/extension.vala"
	__lambda6_ (self);
#line 551 "extension.c"
}


AdblockButton*
adblock_button_construct (GType object_type,
                          MidoriBrowser* browser)
{
	AdblockButton * self = NULL;
	Block1Data* _data1_;
	MidoriBrowser* _tmp0_;
	GSimpleAction* _tmp1_;
	GtkApplication* _tmp2_;
	GtkApplication* _tmp3_;
	gchar** _tmp4_;
	gchar** _tmp5_;
	gint _tmp5__length1;
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	g_return_val_if_fail (browser != NULL, NULL);
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	_data1_ = g_slice_new0 (Block1Data);
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	_data1_->_ref_count_ = 1;
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = _g_object_ref0 (browser);
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (_data1_->browser);
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	_data1_->browser = _tmp0_;
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockButton*) g_object_new (object_type, NULL);
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	_data1_->self = g_object_ref (self);
#line 36 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = g_simple_action_new ("adblock-status", NULL);
#line 36 "/home/test/core/extensions/adblock/extension.vala"
	_data1_->action = _tmp1_;
#line 37 "/home/test/core/extensions/adblock/extension.vala"
	g_signal_connect_data (_data1_->action, "activate", (GCallback) ___lambda5__g_simple_action_activate, block1_data_ref (_data1_), (GClosureNotify) block1_data_unref, 0);
#line 41 "/home/test/core/extensions/adblock/extension.vala"
	g_signal_connect_data ((GObject*) _data1_->browser, "notify::uri", (GCallback) ___lambda6__g_object_notify, block1_data_ref (_data1_), (GClosureNotify) block1_data_unref, 0);
#line 44 "/home/test/core/extensions/adblock/extension.vala"
	g_action_map_add_action ((GActionMap*) _data1_->browser, (GAction*) _data1_->action);
#line 45 "/home/test/core/extensions/adblock/extension.vala"
	_tmp2_ = gtk_window_get_application ((GtkWindow*) _data1_->browser);
#line 45 "/home/test/core/extensions/adblock/extension.vala"
	_tmp3_ = _tmp2_;
#line 45 "/home/test/core/extensions/adblock/extension.vala"
	_tmp4_ = g_new0 (gchar*, 0 + 1);
#line 45 "/home/test/core/extensions/adblock/extension.vala"
	_tmp5_ = _tmp4_;
#line 45 "/home/test/core/extensions/adblock/extension.vala"
	_tmp5__length1 = 0;
#line 45 "/home/test/core/extensions/adblock/extension.vala"
	gtk_application_set_accels_for_action (_tmp3_, "win.adblock-status", _tmp5_);
#line 45 "/home/test/core/extensions/adblock/extension.vala"
	_tmp5_ = (_vala_array_free (_tmp5_, _tmp5__length1, (GDestroyNotify) g_free), NULL);
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	block1_data_unref (_data1_);
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	_data1_ = NULL;
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	return self;
#line 614 "extension.c"
}


AdblockButton*
adblock_button_new (MidoriBrowser* browser)
{
#line 35 "/home/test/core/extensions/adblock/extension.vala"
	return adblock_button_construct (ADBLOCK_TYPE_BUTTON, browser);
#line 623 "extension.c"
}


const gchar*
adblock_button_get_icon_name (AdblockButton* self)
{
	const gchar* result;
	const gchar* _tmp0_;
#line 15 "/home/test/core/extensions/adblock/extension.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 15 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = self->priv->_icon_name;
#line 15 "/home/test/core/extensions/adblock/extension.vala"
	result = _tmp0_;
#line 15 "/home/test/core/extensions/adblock/extension.vala"
	return result;
#line 640 "extension.c"
}


void
adblock_button_set_icon_name (AdblockButton* self,
                              const gchar* value)
{
#line 15 "/home/test/core/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 15 "/home/test/core/extensions/adblock/extension.vala"
	if (g_strcmp0 (value, adblock_button_get_icon_name (self)) != 0) {
#line 652 "extension.c"
		gchar* _tmp0_;
#line 15 "/home/test/core/extensions/adblock/extension.vala"
		_tmp0_ = g_strdup (value);
#line 15 "/home/test/core/extensions/adblock/extension.vala"
		_g_free0 (self->priv->_icon_name);
#line 15 "/home/test/core/extensions/adblock/extension.vala"
		self->priv->_icon_name = _tmp0_;
#line 15 "/home/test/core/extensions/adblock/extension.vala"
		g_object_notify_by_pspec ((GObject *) self, adblock_button_properties[ADBLOCK_BUTTON_ICON_NAME_PROPERTY]);
#line 662 "extension.c"
	}
}


static void
_adblock_button_update_icon_g_object_notify (GObject* _sender,
                                             GParamSpec* pspec,
                                             gpointer self)
{
#line 26 "/home/test/core/extensions/adblock/extension.vala"
	adblock_button_update_icon ((AdblockButton*) self);
#line 674 "extension.c"
}


static GObject *
adblock_button_constructor (GType type,
                            guint n_construct_properties,
                            GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	AdblockButton * self;
	GtkImage* image = NULL;
	const gchar* _tmp0_;
	GtkImage* _tmp1_;
	GtkImage* _tmp2_;
	GtkImage* _tmp3_;
	GtkImage* _tmp4_;
	GtkImage* _tmp5_;
	AdblockSettings* _tmp6_;
#line 18 "/home/test/core/extensions/adblock/extension.vala"
	parent_class = G_OBJECT_CLASS (adblock_button_parent_class);
#line 18 "/home/test/core/extensions/adblock/extension.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 18 "/home/test/core/extensions/adblock/extension.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, ADBLOCK_TYPE_BUTTON, AdblockButton);
#line 19 "/home/test/core/extensions/adblock/extension.vala"
	gtk_actionable_set_action_name ((GtkActionable*) self, "win.adblock-status");
#line 20 "/home/test/core/extensions/adblock/extension.vala"
	gtk_widget_set_tooltip_text ((GtkWidget*) self, _ ("Advertisement blocker"));
#line 21 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = self->priv->_icon_name;
#line 21 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = (GtkImage*) gtk_image_new_from_icon_name (_tmp0_, (GtkIconSize) GTK_ICON_SIZE_BUTTON);
#line 21 "/home/test/core/extensions/adblock/extension.vala"
	g_object_ref_sink (_tmp1_);
#line 21 "/home/test/core/extensions/adblock/extension.vala"
	image = _tmp1_;
#line 22 "/home/test/core/extensions/adblock/extension.vala"
	_tmp2_ = image;
#line 22 "/home/test/core/extensions/adblock/extension.vala"
	g_object_bind_property_with_closures ((GObject*) self, "icon-name", (GObject*) _tmp2_, "icon-name", G_BINDING_DEFAULT, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 23 "/home/test/core/extensions/adblock/extension.vala"
	_tmp3_ = image;
#line 23 "/home/test/core/extensions/adblock/extension.vala"
	g_object_set (_tmp3_, "use-fallback", TRUE, NULL);
#line 24 "/home/test/core/extensions/adblock/extension.vala"
	_tmp4_ = image;
#line 24 "/home/test/core/extensions/adblock/extension.vala"
	gtk_widget_show ((GtkWidget*) _tmp4_);
#line 25 "/home/test/core/extensions/adblock/extension.vala"
	_tmp5_ = image;
#line 25 "/home/test/core/extensions/adblock/extension.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp5_);
#line 26 "/home/test/core/extensions/adblock/extension.vala"
	_tmp6_ = self->priv->settings;
#line 26 "/home/test/core/extensions/adblock/extension.vala"
	g_signal_connect_object ((GObject*) _tmp6_, "notify::enabled", (GCallback) _adblock_button_update_icon_g_object_notify, self, 0);
#line 27 "/home/test/core/extensions/adblock/extension.vala"
	adblock_button_update_icon (self);
#line 28 "/home/test/core/extensions/adblock/extension.vala"
	gtk_widget_show ((GtkWidget*) self);
#line 18 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (image);
#line 18 "/home/test/core/extensions/adblock/extension.vala"
	return obj;
#line 740 "extension.c"
}


static void
adblock_button_class_init (AdblockButtonClass * klass)
{
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	adblock_button_parent_class = g_type_class_peek_parent (klass);
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	g_type_class_add_private (klass, sizeof (AdblockButtonPrivate));
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_adblock_button_get_property;
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_adblock_button_set_property;
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->constructor = adblock_button_constructor;
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->finalize = adblock_button_finalize;
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), ADBLOCK_BUTTON_ICON_NAME_PROPERTY, adblock_button_properties[ADBLOCK_BUTTON_ICON_NAME_PROPERTY] = g_param_spec_string ("icon-name", "icon-name", "icon-name", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 761 "extension.c"
}


static void
adblock_button_instance_init (AdblockButton * self)
{
	AdblockSettings* _tmp0_;
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	self->priv = ADBLOCK_BUTTON_GET_PRIVATE (self);
#line 16 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = adblock_settings_get_default ();
#line 16 "/home/test/core/extensions/adblock/extension.vala"
	self->priv->settings = _tmp0_;
#line 775 "extension.c"
}


static void
adblock_button_finalize (GObject * obj)
{
	AdblockButton * self;
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, ADBLOCK_TYPE_BUTTON, AdblockButton);
#line 15 "/home/test/core/extensions/adblock/extension.vala"
	_g_free0 (self->priv->_icon_name);
#line 16 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (self->priv->settings);
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (adblock_button_parent_class)->finalize (obj);
#line 791 "extension.c"
}


GType
adblock_button_get_type (void)
{
	return adblock_button_type_id;
}


GType
adblock_button_register_type (GTypeModule * module)
{
	static const GTypeInfo g_define_type_info = { sizeof (AdblockButtonClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) adblock_button_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (AdblockButton), 0, (GInstanceInitFunc) adblock_button_instance_init, NULL };
	adblock_button_type_id = g_type_module_register_type (module, gtk_button_get_type (), "AdblockButton", &g_define_type_info, 0);
	return adblock_button_type_id;
}


static void
_vala_adblock_button_get_property (GObject * object,
                                   guint property_id,
                                   GValue * value,
                                   GParamSpec * pspec)
{
	AdblockButton * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, ADBLOCK_TYPE_BUTTON, AdblockButton);
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	switch (property_id) {
#line 14 "/home/test/core/extensions/adblock/extension.vala"
		case ADBLOCK_BUTTON_ICON_NAME_PROPERTY:
#line 14 "/home/test/core/extensions/adblock/extension.vala"
		g_value_set_string (value, adblock_button_get_icon_name (self));
#line 14 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 827 "extension.c"
		default:
#line 14 "/home/test/core/extensions/adblock/extension.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 14 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 833 "extension.c"
	}
}


static void
_vala_adblock_button_set_property (GObject * object,
                                   guint property_id,
                                   const GValue * value,
                                   GParamSpec * pspec)
{
	AdblockButton * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, ADBLOCK_TYPE_BUTTON, AdblockButton);
#line 14 "/home/test/core/extensions/adblock/extension.vala"
	switch (property_id) {
#line 14 "/home/test/core/extensions/adblock/extension.vala"
		case ADBLOCK_BUTTON_ICON_NAME_PROPERTY:
#line 14 "/home/test/core/extensions/adblock/extension.vala"
		adblock_button_set_icon_name (self, g_value_get_string (value));
#line 14 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 854 "extension.c"
		default:
#line 14 "/home/test/core/extensions/adblock/extension.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 14 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 860 "extension.c"
	}
}


static Block2Data*
block2_data_ref (Block2Data* _data2_)
{
#line 52 "/home/test/core/extensions/adblock/extension.vala"
	g_atomic_int_inc (&_data2_->_ref_count_);
#line 52 "/home/test/core/extensions/adblock/extension.vala"
	return _data2_;
#line 872 "extension.c"
}


static void
block2_data_unref (void * _userdata_)
{
	Block2Data* _data2_;
	_data2_ = (Block2Data*) _userdata_;
#line 52 "/home/test/core/extensions/adblock/extension.vala"
	if (g_atomic_int_dec_and_test (&_data2_->_ref_count_)) {
#line 883 "extension.c"
		AdblockFrontend* self;
#line 52 "/home/test/core/extensions/adblock/extension.vala"
		self = _data2_->self;
#line 52 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (_data2_->button);
#line 52 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (self);
#line 52 "/home/test/core/extensions/adblock/extension.vala"
		g_slice_free (Block2Data, _data2_);
#line 893 "extension.c"
	}
}


static void
__lambda7_ (Block2Data* _data2_)
{
	AdblockFrontend* self;
#line 55 "/home/test/core/extensions/adblock/extension.vala"
	self = _data2_->self;
#line 56 "/home/test/core/extensions/adblock/extension.vala"
	gtk_widget_destroy ((GtkWidget*) _data2_->button);
#line 906 "extension.c"
}


static void
___lambda7__midori_browser_activatable_deactivate (MidoriBrowserActivatable* _sender,
                                                   gpointer self)
{
#line 55 "/home/test/core/extensions/adblock/extension.vala"
	__lambda7_ (self);
#line 916 "extension.c"
}


static glong
string_strnlen (gchar* str,
                glong maxlen)
{
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
#line 1392 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp0_ = memchr (str, 0, (gsize) maxlen);
#line 1392 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	end = _tmp0_;
#line 1393 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp1_ = end;
#line 1393 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (_tmp1_ == NULL) {
#line 1394 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		result = maxlen;
#line 1394 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return result;
#line 940 "extension.c"
	} else {
		gchar* _tmp2_;
#line 1396 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp2_ = end;
#line 1396 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		result = (glong) (_tmp2_ - str);
#line 1396 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return result;
#line 949 "extension.c"
	}
}


static gchar*
string_substring (const gchar* self,
                  glong offset,
                  glong len)
{
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp6_;
	gchar* _tmp7_;
#line 1403 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1405 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (offset >= ((glong) 0)) {
#line 1405 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp0_ = len >= ((glong) 0);
#line 970 "extension.c"
	} else {
#line 1405 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp0_ = FALSE;
#line 974 "extension.c"
	}
#line 1405 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (_tmp0_) {
#line 1407 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		string_length = string_strnlen ((gchar*) self, offset + len);
#line 980 "extension.c"
	} else {
		gint _tmp1_;
		gint _tmp2_;
#line 1409 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp1_ = strlen (self);
#line 1409 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp2_ = _tmp1_;
#line 1409 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		string_length = (glong) _tmp2_;
#line 990 "extension.c"
	}
#line 1412 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (offset < ((glong) 0)) {
#line 994 "extension.c"
		glong _tmp3_;
#line 1413 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp3_ = string_length;
#line 1413 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		offset = _tmp3_ + offset;
#line 1414 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		g_return_val_if_fail (offset >= ((glong) 0), NULL);
#line 1002 "extension.c"
	} else {
		glong _tmp4_;
#line 1416 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp4_ = string_length;
#line 1416 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		g_return_val_if_fail (offset <= _tmp4_, NULL);
#line 1009 "extension.c"
	}
#line 1418 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (len < ((glong) 0)) {
#line 1013 "extension.c"
		glong _tmp5_;
#line 1419 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp5_ = string_length;
#line 1419 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		len = _tmp5_ - offset;
#line 1019 "extension.c"
	}
#line 1421 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp6_ = string_length;
#line 1421 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail ((offset + len) <= _tmp6_, NULL);
#line 1422 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp7_ = g_strndup (((gchar*) self) + offset, (gsize) len);
#line 1422 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	result = _tmp7_;
#line 1422 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	return result;
#line 1031 "extension.c"
}


static void
__lambda8_ (AdblockFrontend* self,
            WebKitURISchemeRequest* request)
{
	const gchar* _tmp0_;
#line 59 "/home/test/core/extensions/adblock/extension.vala"
	g_return_if_fail (request != NULL);
#line 60 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = webkit_uri_scheme_request_get_uri (request);
#line 60 "/home/test/core/extensions/adblock/extension.vala"
	if (g_str_has_prefix (_tmp0_, "abp:subscribe?location=")) {
#line 1046 "extension.c"
		AdblockSubscription* sub = NULL;
		const gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		AdblockSubscription* _tmp4_;
		AdblockSubscription* _tmp5_;
		AdblockSubscription* _tmp6_;
		const gchar* _tmp7_;
		const gchar* _tmp8_;
		AdblockSettings* _tmp9_;
		AdblockSettings* _tmp10_;
		AdblockSubscription* _tmp11_;
		AdblockSubscription* _tmp12_;
		WebKitWebView* _tmp13_;
#line 62 "/home/test/core/extensions/adblock/extension.vala"
		_tmp1_ = webkit_uri_scheme_request_get_uri (request);
#line 62 "/home/test/core/extensions/adblock/extension.vala"
		_tmp2_ = string_substring (_tmp1_, (glong) 23, (glong) -1);
#line 62 "/home/test/core/extensions/adblock/extension.vala"
		_tmp3_ = _tmp2_;
#line 62 "/home/test/core/extensions/adblock/extension.vala"
		_tmp4_ = adblock_subscription_new (_tmp3_, FALSE);
#line 62 "/home/test/core/extensions/adblock/extension.vala"
		_tmp5_ = _tmp4_;
#line 62 "/home/test/core/extensions/adblock/extension.vala"
		_g_free0 (_tmp3_);
#line 62 "/home/test/core/extensions/adblock/extension.vala"
		sub = _tmp5_;
#line 63 "/home/test/core/extensions/adblock/extension.vala"
		_tmp6_ = sub;
#line 63 "/home/test/core/extensions/adblock/extension.vala"
		_tmp7_ = adblock_subscription_get_uri (_tmp6_);
#line 63 "/home/test/core/extensions/adblock/extension.vala"
		_tmp8_ = _tmp7_;
#line 63 "/home/test/core/extensions/adblock/extension.vala"
		g_debug ("extension.vala:63: Adding %s to filters\n", _tmp8_);
#line 64 "/home/test/core/extensions/adblock/extension.vala"
		_tmp9_ = adblock_settings_get_default ();
#line 64 "/home/test/core/extensions/adblock/extension.vala"
		_tmp10_ = _tmp9_;
#line 64 "/home/test/core/extensions/adblock/extension.vala"
		_tmp11_ = sub;
#line 64 "/home/test/core/extensions/adblock/extension.vala"
		adblock_settings_add (_tmp10_, _tmp11_);
#line 64 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (_tmp10_);
#line 65 "/home/test/core/extensions/adblock/extension.vala"
		_tmp12_ = sub;
#line 65 "/home/test/core/extensions/adblock/extension.vala"
		adblock_subscription_set_active (_tmp12_, TRUE);
#line 66 "/home/test/core/extensions/adblock/extension.vala"
		_tmp13_ = webkit_uri_scheme_request_get_web_view (request);
#line 66 "/home/test/core/extensions/adblock/extension.vala"
		webkit_web_view_stop_loading (_tmp13_);
#line 60 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (sub);
#line 1103 "extension.c"
	} else {
		GError* _tmp14_;
		GError* _tmp15_;
#line 68 "/home/test/core/extensions/adblock/extension.vala"
		_tmp14_ = g_error_new_literal (G_FILE_ERROR, G_FILE_ERROR_NOENT, _ ("Invalid URI"));
#line 68 "/home/test/core/extensions/adblock/extension.vala"
		_tmp15_ = _tmp14_;
#line 68 "/home/test/core/extensions/adblock/extension.vala"
		webkit_uri_scheme_request_finish_error (request, _tmp15_);
#line 68 "/home/test/core/extensions/adblock/extension.vala"
		_g_error_free0 (_tmp15_);
#line 1115 "extension.c"
	}
}


static void
___lambda8__web_kit_uri_scheme_request_callback (WebKitURISchemeRequest* request,
                                                 gpointer self)
{
#line 59 "/home/test/core/extensions/adblock/extension.vala"
	__lambda8_ ((AdblockFrontend*) self, request);
#line 1126 "extension.c"
}


static void
adblock_frontend_real_activate (MidoriBrowserActivatable* base)
{
	AdblockFrontend * self;
	Block2Data* _data2_;
	MidoriBrowser* _tmp0_;
	MidoriBrowser* _tmp1_;
	MidoriBrowser* _tmp2_;
	AdblockButton* _tmp3_;
	AdblockButton* _tmp4_;
	MidoriBrowser* _tmp5_;
	MidoriBrowser* _tmp6_;
	MidoriBrowser* _tmp7_;
	MidoriBrowser* _tmp8_;
	MidoriBrowser* _tmp9_;
	MidoriBrowser* _tmp10_;
	WebKitWebContext* _tmp11_;
	WebKitWebContext* _tmp12_;
#line 52 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockFrontend*) base;
#line 52 "/home/test/core/extensions/adblock/extension.vala"
	_data2_ = g_slice_new0 (Block2Data);
#line 52 "/home/test/core/extensions/adblock/extension.vala"
	_data2_->_ref_count_ = 1;
#line 52 "/home/test/core/extensions/adblock/extension.vala"
	_data2_->self = g_object_ref (self);
#line 53 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = midori_browser_activatable_get_browser ((MidoriBrowserActivatable*) self);
#line 53 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = _tmp0_;
#line 53 "/home/test/core/extensions/adblock/extension.vala"
	_tmp2_ = _tmp1_;
#line 53 "/home/test/core/extensions/adblock/extension.vala"
	_tmp3_ = adblock_button_new (_tmp2_);
#line 53 "/home/test/core/extensions/adblock/extension.vala"
	g_object_ref_sink (_tmp3_);
#line 53 "/home/test/core/extensions/adblock/extension.vala"
	_tmp4_ = _tmp3_;
#line 53 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (_tmp2_);
#line 53 "/home/test/core/extensions/adblock/extension.vala"
	_data2_->button = _tmp4_;
#line 54 "/home/test/core/extensions/adblock/extension.vala"
	_tmp5_ = midori_browser_activatable_get_browser ((MidoriBrowserActivatable*) self);
#line 54 "/home/test/core/extensions/adblock/extension.vala"
	_tmp6_ = _tmp5_;
#line 54 "/home/test/core/extensions/adblock/extension.vala"
	_tmp7_ = _tmp6_;
#line 54 "/home/test/core/extensions/adblock/extension.vala"
	midori_browser_add_button (_tmp7_, (GtkButton*) _data2_->button);
#line 54 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (_tmp7_);
#line 55 "/home/test/core/extensions/adblock/extension.vala"
	g_signal_connect_data ((MidoriBrowserActivatable*) self, "deactivate", (GCallback) ___lambda7__midori_browser_activatable_deactivate, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
#line 59 "/home/test/core/extensions/adblock/extension.vala"
	_tmp8_ = midori_browser_activatable_get_browser ((MidoriBrowserActivatable*) self);
#line 59 "/home/test/core/extensions/adblock/extension.vala"
	_tmp9_ = _tmp8_;
#line 59 "/home/test/core/extensions/adblock/extension.vala"
	_tmp10_ = _tmp9_;
#line 59 "/home/test/core/extensions/adblock/extension.vala"
	_tmp11_ = midori_browser_get_web_context (_tmp10_);
#line 59 "/home/test/core/extensions/adblock/extension.vala"
	_tmp12_ = _tmp11_;
#line 59 "/home/test/core/extensions/adblock/extension.vala"
	webkit_web_context_register_uri_scheme (_tmp12_, "abp", ___lambda8__web_kit_uri_scheme_request_callback, g_object_ref (self), g_object_unref);
#line 59 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (_tmp10_);
#line 52 "/home/test/core/extensions/adblock/extension.vala"
	block2_data_unref (_data2_);
#line 52 "/home/test/core/extensions/adblock/extension.vala"
	_data2_ = NULL;
#line 1202 "extension.c"
}


AdblockFrontend*
adblock_frontend_construct (GType object_type)
{
	AdblockFrontend * self = NULL;
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockFrontend*) g_object_new (object_type, NULL);
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	return self;
#line 1214 "extension.c"
}


AdblockFrontend*
adblock_frontend_new (void)
{
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	return adblock_frontend_construct (ADBLOCK_TYPE_FRONTEND);
#line 1223 "extension.c"
}


static MidoriBrowser*
adblock_frontend_real_get_browser (MidoriBrowserActivatable* base)
{
	MidoriBrowser* result;
	AdblockFrontend* self;
	MidoriBrowser* _tmp0_;
	MidoriBrowser* _tmp1_;
#line 50 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockFrontend*) base;
#line 50 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = self->priv->_browser;
#line 50 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 50 "/home/test/core/extensions/adblock/extension.vala"
	result = _tmp1_;
#line 50 "/home/test/core/extensions/adblock/extension.vala"
	return result;
#line 1244 "extension.c"
}


static void
adblock_frontend_real_set_browser (MidoriBrowserActivatable* base,
                                   MidoriBrowser* value)
{
	AdblockFrontend* self;
#line 50 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockFrontend*) base;
#line 50 "/home/test/core/extensions/adblock/extension.vala"
	if (adblock_frontend_real_get_browser (base) != value) {
#line 1257 "extension.c"
		MidoriBrowser* _tmp0_;
#line 50 "/home/test/core/extensions/adblock/extension.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 50 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (self->priv->_browser);
#line 50 "/home/test/core/extensions/adblock/extension.vala"
		self->priv->_browser = _tmp0_;
#line 50 "/home/test/core/extensions/adblock/extension.vala"
		g_object_notify_by_pspec ((GObject *) self, adblock_frontend_properties[ADBLOCK_FRONTEND_BROWSER_PROPERTY]);
#line 1267 "extension.c"
	}
}


static void
adblock_frontend_class_init (AdblockFrontendClass * klass)
{
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	adblock_frontend_parent_class = g_type_class_peek_parent (klass);
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	g_type_class_add_private (klass, sizeof (AdblockFrontendPrivate));
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_adblock_frontend_get_property;
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_adblock_frontend_set_property;
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->finalize = adblock_frontend_finalize;
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), ADBLOCK_FRONTEND_BROWSER_PROPERTY, adblock_frontend_properties[ADBLOCK_FRONTEND_BROWSER_PROPERTY] = g_param_spec_object ("browser", "browser", "browser", MIDORI_TYPE_BROWSER, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 1287 "extension.c"
}


static void
adblock_frontend_midori_browser_activatable_interface_init (MidoriBrowserActivatableIface * iface)
{
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	adblock_frontend_midori_browser_activatable_parent_iface = g_type_interface_peek_parent (iface);
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	iface->activate = (void (*) (MidoriBrowserActivatable*)) adblock_frontend_real_activate;
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	iface->get_browser = adblock_frontend_real_get_browser;
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	iface->set_browser = adblock_frontend_real_set_browser;
#line 1302 "extension.c"
}


static void
adblock_frontend_instance_init (AdblockFrontend * self)
{
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	self->priv = ADBLOCK_FRONTEND_GET_PRIVATE (self);
#line 1311 "extension.c"
}


static void
adblock_frontend_finalize (GObject * obj)
{
	AdblockFrontend * self;
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, ADBLOCK_TYPE_FRONTEND, AdblockFrontend);
#line 50 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (self->priv->_browser);
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (adblock_frontend_parent_class)->finalize (obj);
#line 1325 "extension.c"
}


GType
adblock_frontend_get_type (void)
{
	return adblock_frontend_type_id;
}


GType
adblock_frontend_register_type (GTypeModule * module)
{
	static const GTypeInfo g_define_type_info = { sizeof (AdblockFrontendClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) adblock_frontend_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (AdblockFrontend), 0, (GInstanceInitFunc) adblock_frontend_instance_init, NULL };
	static const GInterfaceInfo midori_browser_activatable_info = { (GInterfaceInitFunc) adblock_frontend_midori_browser_activatable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
	adblock_frontend_type_id = g_type_module_register_type (module, G_TYPE_OBJECT, "AdblockFrontend", &g_define_type_info, 0);
	g_type_module_add_interface (module, adblock_frontend_type_id, MIDORI_TYPE_BROWSER_ACTIVATABLE, &midori_browser_activatable_info);
	return adblock_frontend_type_id;
}


static void
_vala_adblock_frontend_get_property (GObject * object,
                                     guint property_id,
                                     GValue * value,
                                     GParamSpec * pspec)
{
	AdblockFrontend * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, ADBLOCK_TYPE_FRONTEND, AdblockFrontend);
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	switch (property_id) {
#line 49 "/home/test/core/extensions/adblock/extension.vala"
		case ADBLOCK_FRONTEND_BROWSER_PROPERTY:
#line 49 "/home/test/core/extensions/adblock/extension.vala"
		g_value_take_object (value, midori_browser_activatable_get_browser ((MidoriBrowserActivatable*) self));
#line 49 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 1363 "extension.c"
		default:
#line 49 "/home/test/core/extensions/adblock/extension.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 49 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 1369 "extension.c"
	}
}


static void
_vala_adblock_frontend_set_property (GObject * object,
                                     guint property_id,
                                     const GValue * value,
                                     GParamSpec * pspec)
{
	AdblockFrontend * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, ADBLOCK_TYPE_FRONTEND, AdblockFrontend);
#line 49 "/home/test/core/extensions/adblock/extension.vala"
	switch (property_id) {
#line 49 "/home/test/core/extensions/adblock/extension.vala"
		case ADBLOCK_FRONTEND_BROWSER_PROPERTY:
#line 49 "/home/test/core/extensions/adblock/extension.vala"
		midori_browser_activatable_set_browser ((MidoriBrowserActivatable*) self, g_value_get_object (value));
#line 49 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 1390 "extension.c"
		default:
#line 49 "/home/test/core/extensions/adblock/extension.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 49 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 1396 "extension.c"
	}
}


static void
adblock_request_filter_real_activate (PeasActivatable* base)
{
	AdblockRequestFilter * self;
	gchar* page_uri = NULL;
	GObject* _tmp0_;
	GObject* _tmp1_;
	GObject* _tmp2_;
	gchar* _tmp3_ = NULL;
	GObject* _tmp4_;
	GObject* _tmp5_;
	GObject* _tmp6_;
#line 77 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockRequestFilter*) base;
#line 79 "/home/test/core/extensions/adblock/extension.vala"
	g_object_get ((PeasActivatable*) self, "object", &_tmp0_, NULL);
#line 79 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = _tmp0_;
#line 79 "/home/test/core/extensions/adblock/extension.vala"
	_tmp2_ = _tmp1_;
#line 79 "/home/test/core/extensions/adblock/extension.vala"
	g_object_get (_tmp2_, "uri", &_tmp3_, NULL);
#line 79 "/home/test/core/extensions/adblock/extension.vala"
	_g_free0 (page_uri);
#line 79 "/home/test/core/extensions/adblock/extension.vala"
	page_uri = _tmp3_;
#line 79 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (_tmp2_);
#line 80 "/home/test/core/extensions/adblock/extension.vala"
	g_object_get ((PeasActivatable*) self, "object", &_tmp4_, NULL);
#line 80 "/home/test/core/extensions/adblock/extension.vala"
	_tmp5_ = _tmp4_;
#line 80 "/home/test/core/extensions/adblock/extension.vala"
	_tmp6_ = _tmp5_;
#line 80 "/home/test/core/extensions/adblock/extension.vala"
	g_object_connect (_tmp6_, "signal::send-request", adblock_request_filter_handle_request, page_uri, NULL);
#line 80 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (_tmp6_);
#line 77 "/home/test/core/extensions/adblock/extension.vala"
	_g_free0 (page_uri);
#line 1441 "extension.c"
}


static gboolean
adblock_request_filter_handle_request (AdblockRequestFilter* self,
                                       GObject* request,
                                       GObject* response,
                                       const gchar* page_uri)
{
	gboolean result = FALSE;
	gchar* uri = NULL;
	gchar* _tmp0_ = NULL;
	const gchar* _tmp2_;
#line 83 "/home/test/core/extensions/adblock/extension.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 83 "/home/test/core/extensions/adblock/extension.vala"
	g_return_val_if_fail (request != NULL, FALSE);
#line 85 "/home/test/core/extensions/adblock/extension.vala"
	g_object_get (request, "uri", &_tmp0_, NULL);
#line 85 "/home/test/core/extensions/adblock/extension.vala"
	_g_free0 (uri);
#line 85 "/home/test/core/extensions/adblock/extension.vala"
	uri = _tmp0_;
#line 86 "/home/test/core/extensions/adblock/extension.vala"
	if (page_uri == NULL) {
#line 1467 "extension.c"
		const gchar* _tmp1_ = NULL;
#line 88 "/home/test/core/extensions/adblock/extension.vala"
		g_object_get ((GObject*) self, "uri", &_tmp1_, NULL);
#line 88 "/home/test/core/extensions/adblock/extension.vala"
		page_uri = _tmp1_;
#line 1473 "extension.c"
	}
#line 90 "/home/test/core/extensions/adblock/extension.vala"
	_tmp2_ = uri;
#line 90 "/home/test/core/extensions/adblock/extension.vala"
	result = adblock_request_filter_get_directive_for_uri (self, _tmp2_, page_uri) == ADBLOCK_DIRECTIVE_BLOCK;
#line 90 "/home/test/core/extensions/adblock/extension.vala"
	_g_free0 (uri);
#line 90 "/home/test/core/extensions/adblock/extension.vala"
	return result;
#line 1483 "extension.c"
}


static AdblockDirective*
_adblock_directive_dup (AdblockDirective* self)
{
	AdblockDirective* dup;
#line 115 "/home/test/core/extensions/adblock/extension.vala"
	dup = g_new0 (AdblockDirective, 1);
#line 115 "/home/test/core/extensions/adblock/extension.vala"
	memcpy (dup, self, sizeof (AdblockDirective));
#line 115 "/home/test/core/extensions/adblock/extension.vala"
	return dup;
#line 1497 "extension.c"
}


static gpointer
__adblock_directive_dup0 (gpointer self)
{
#line 115 "/home/test/core/extensions/adblock/extension.vala"
	return self ? _adblock_directive_dup (self) : NULL;
#line 1506 "extension.c"
}


static AdblockDirective
adblock_request_filter_get_directive_for_uri (AdblockRequestFilter* self,
                                              const gchar* request_uri,
                                              const gchar* page_uri)
{
	AdblockDirective result = 0;
	AdblockSettings* settings = NULL;
	AdblockSettings* _tmp0_;
	AdblockSettings* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	AdblockDirective* directive = NULL;
	AdblockDirective* _tmp19_;
	AdblockDirective* _tmp22_;
	AdblockDirective _tmp23_;
#line 93 "/home/test/core/extensions/adblock/extension.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 93 "/home/test/core/extensions/adblock/extension.vala"
	g_return_val_if_fail (request_uri != NULL, 0);
#line 93 "/home/test/core/extensions/adblock/extension.vala"
	g_return_val_if_fail (page_uri != NULL, 0);
#line 94 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = adblock_settings_get_default ();
#line 94 "/home/test/core/extensions/adblock/extension.vala"
	settings = _tmp0_;
#line 96 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = settings;
#line 96 "/home/test/core/extensions/adblock/extension.vala"
	_tmp2_ = adblock_settings_get_enabled (_tmp1_);
#line 96 "/home/test/core/extensions/adblock/extension.vala"
	_tmp3_ = _tmp2_;
#line 96 "/home/test/core/extensions/adblock/extension.vala"
	if (!_tmp3_) {
#line 97 "/home/test/core/extensions/adblock/extension.vala"
		result = ADBLOCK_DIRECTIVE_ALLOW;
#line 97 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (settings);
#line 97 "/home/test/core/extensions/adblock/extension.vala"
		return result;
#line 1549 "extension.c"
	}
#line 100 "/home/test/core/extensions/adblock/extension.vala"
	if (g_strcmp0 (request_uri, page_uri) == 0) {
#line 101 "/home/test/core/extensions/adblock/extension.vala"
		result = ADBLOCK_DIRECTIVE_ALLOW;
#line 101 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (settings);
#line 101 "/home/test/core/extensions/adblock/extension.vala"
		return result;
#line 1559 "extension.c"
	}
#line 104 "/home/test/core/extensions/adblock/extension.vala"
	if (!g_str_has_prefix (request_uri, "http")) {
#line 105 "/home/test/core/extensions/adblock/extension.vala"
		result = ADBLOCK_DIRECTIVE_ALLOW;
#line 105 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (settings);
#line 105 "/home/test/core/extensions/adblock/extension.vala"
		return result;
#line 1569 "extension.c"
	}
#line 107 "/home/test/core/extensions/adblock/extension.vala"
	directive = NULL;
#line 1573 "extension.c"
	{
		AdblockSettings* _sub_list = NULL;
		AdblockSettings* _tmp4_;
		AdblockSettings* _tmp5_;
		guint _sub_size = 0U;
		AdblockSettings* _tmp6_;
		guint _tmp7_;
		guint _tmp8_;
		gint _sub_index = 0;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
		_tmp4_ = settings;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
		_tmp5_ = _g_object_ref0 (_tmp4_);
#line 108 "/home/test/core/extensions/adblock/extension.vala"
		_sub_list = _tmp5_;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
		_tmp6_ = _sub_list;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
		_tmp7_ = adblock_settings_get_size (_tmp6_);
#line 108 "/home/test/core/extensions/adblock/extension.vala"
		_tmp8_ = _tmp7_;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
		_sub_size = _tmp8_;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
		_sub_index = -1;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
		while (TRUE) {
#line 1601 "extension.c"
			gint _tmp9_;
			gint _tmp10_;
			guint _tmp11_;
			AdblockSubscription* sub = NULL;
			AdblockSettings* _tmp12_;
			gint _tmp13_;
			AdblockSubscription* _tmp14_;
			AdblockSubscription* _tmp15_;
			AdblockSubscription* _tmp16_;
			AdblockDirective* _tmp17_;
			AdblockDirective* _tmp18_;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
			_tmp9_ = _sub_index;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
			_sub_index = _tmp9_ + 1;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
			_tmp10_ = _sub_index;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
			_tmp11_ = _sub_size;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
			if (!(((guint) _tmp10_) < _tmp11_)) {
#line 108 "/home/test/core/extensions/adblock/extension.vala"
				break;
#line 1625 "extension.c"
			}
#line 108 "/home/test/core/extensions/adblock/extension.vala"
			_tmp12_ = _sub_list;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
			_tmp13_ = _sub_index;
#line 108 "/home/test/core/extensions/adblock/extension.vala"
			_tmp14_ = adblock_settings_get (_tmp12_, (guint) _tmp13_);
#line 108 "/home/test/core/extensions/adblock/extension.vala"
			_tmp15_ = _g_object_ref0 (_tmp14_);
#line 108 "/home/test/core/extensions/adblock/extension.vala"
			sub = _tmp15_;
#line 109 "/home/test/core/extensions/adblock/extension.vala"
			_tmp16_ = sub;
#line 109 "/home/test/core/extensions/adblock/extension.vala"
			_tmp17_ = adblock_subscription_get_directive (_tmp16_, request_uri, page_uri);
#line 109 "/home/test/core/extensions/adblock/extension.vala"
			_g_free0 (directive);
#line 109 "/home/test/core/extensions/adblock/extension.vala"
			directive = _tmp17_;
#line 110 "/home/test/core/extensions/adblock/extension.vala"
			_tmp18_ = directive;
#line 110 "/home/test/core/extensions/adblock/extension.vala"
			if (_tmp18_ != NULL) {
#line 111 "/home/test/core/extensions/adblock/extension.vala"
				_g_object_unref0 (sub);
#line 111 "/home/test/core/extensions/adblock/extension.vala"
				break;
#line 1653 "extension.c"
			}
#line 108 "/home/test/core/extensions/adblock/extension.vala"
			_g_object_unref0 (sub);
#line 1657 "extension.c"
		}
#line 108 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (_sub_list);
#line 1661 "extension.c"
	}
#line 114 "/home/test/core/extensions/adblock/extension.vala"
	_tmp19_ = directive;
#line 114 "/home/test/core/extensions/adblock/extension.vala"
	if (_tmp19_ == NULL) {
#line 1667 "extension.c"
		AdblockDirective _tmp20_;
		AdblockDirective* _tmp21_;
#line 115 "/home/test/core/extensions/adblock/extension.vala"
		_tmp20_ = ADBLOCK_DIRECTIVE_ALLOW;
#line 115 "/home/test/core/extensions/adblock/extension.vala"
		_tmp21_ = __adblock_directive_dup0 (&_tmp20_);
#line 115 "/home/test/core/extensions/adblock/extension.vala"
		_g_free0 (directive);
#line 115 "/home/test/core/extensions/adblock/extension.vala"
		directive = _tmp21_;
#line 1678 "extension.c"
	}
#line 117 "/home/test/core/extensions/adblock/extension.vala"
	_tmp22_ = directive;
#line 117 "/home/test/core/extensions/adblock/extension.vala"
	_tmp23_ = *_tmp22_;
#line 117 "/home/test/core/extensions/adblock/extension.vala"
	_g_free0 (_tmp22_);
#line 117 "/home/test/core/extensions/adblock/extension.vala"
	result = _tmp23_;
#line 117 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (settings);
#line 117 "/home/test/core/extensions/adblock/extension.vala"
	return result;
#line 1692 "extension.c"
}


static void
adblock_request_filter_real_deactivate (PeasActivatable* base)
{
	AdblockRequestFilter * self;
#line 120 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockRequestFilter*) base;
#line 1702 "extension.c"
}


static void
adblock_request_filter_real_update_state (PeasActivatable* base)
{
	AdblockRequestFilter * self;
#line 123 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockRequestFilter*) base;
#line 1712 "extension.c"
}


AdblockRequestFilter*
adblock_request_filter_construct (GType object_type)
{
	AdblockRequestFilter * self = NULL;
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockRequestFilter*) g_object_new (object_type, NULL);
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	return self;
#line 1724 "extension.c"
}


AdblockRequestFilter*
adblock_request_filter_new (void)
{
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	return adblock_request_filter_construct (ADBLOCK_TYPE_REQUEST_FILTER);
#line 1733 "extension.c"
}


static GObject*
adblock_request_filter_real_get_object (PeasActivatable* base)
{
	GObject* result;
	AdblockRequestFilter* self;
	GObject* _tmp0_;
	GObject* _tmp1_;
#line 75 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockRequestFilter*) base;
#line 75 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = self->priv->_object;
#line 75 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 75 "/home/test/core/extensions/adblock/extension.vala"
	result = _tmp1_;
#line 75 "/home/test/core/extensions/adblock/extension.vala"
	return result;
#line 1754 "extension.c"
}


static void
adblock_request_filter_real_set_object (PeasActivatable* base,
                                        GObject* value)
{
	AdblockRequestFilter* self;
#line 75 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockRequestFilter*) base;
#line 75 "/home/test/core/extensions/adblock/extension.vala"
	if (adblock_request_filter_real_get_object (base) != value) {
#line 1767 "extension.c"
		GObject* _tmp0_;
#line 75 "/home/test/core/extensions/adblock/extension.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 75 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (self->priv->_object);
#line 75 "/home/test/core/extensions/adblock/extension.vala"
		self->priv->_object = _tmp0_;
#line 75 "/home/test/core/extensions/adblock/extension.vala"
		g_object_notify_by_pspec ((GObject *) self, adblock_request_filter_properties[ADBLOCK_REQUEST_FILTER_OBJECT_PROPERTY]);
#line 1777 "extension.c"
	}
}


static void
adblock_request_filter_class_init (AdblockRequestFilterClass * klass)
{
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	adblock_request_filter_parent_class = g_type_class_peek_parent (klass);
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	g_type_class_add_private (klass, sizeof (AdblockRequestFilterPrivate));
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_adblock_request_filter_get_property;
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_adblock_request_filter_set_property;
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->finalize = adblock_request_filter_finalize;
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), ADBLOCK_REQUEST_FILTER_OBJECT_PROPERTY, adblock_request_filter_properties[ADBLOCK_REQUEST_FILTER_OBJECT_PROPERTY] = g_param_spec_object ("object", "object", "object", G_TYPE_OBJECT, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 1797 "extension.c"
}


static void
adblock_request_filter_peas_activatable_interface_init (PeasActivatableInterface * iface)
{
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	adblock_request_filter_peas_activatable_parent_iface = g_type_interface_peek_parent (iface);
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	iface->activate = (void (*) (PeasActivatable*)) adblock_request_filter_real_activate;
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	iface->deactivate = (void (*) (PeasActivatable*)) adblock_request_filter_real_deactivate;
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	iface->update_state = (void (*) (PeasActivatable*)) adblock_request_filter_real_update_state;
#line 1812 "extension.c"
}


static void
adblock_request_filter_instance_init (AdblockRequestFilter * self)
{
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	self->priv = ADBLOCK_REQUEST_FILTER_GET_PRIVATE (self);
#line 1821 "extension.c"
}


static void
adblock_request_filter_finalize (GObject * obj)
{
	AdblockRequestFilter * self;
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, ADBLOCK_TYPE_REQUEST_FILTER, AdblockRequestFilter);
#line 75 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (self->priv->_object);
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (adblock_request_filter_parent_class)->finalize (obj);
#line 1835 "extension.c"
}


GType
adblock_request_filter_get_type (void)
{
	return adblock_request_filter_type_id;
}


GType
adblock_request_filter_register_type (GTypeModule * module)
{
	static const GTypeInfo g_define_type_info = { sizeof (AdblockRequestFilterClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) adblock_request_filter_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (AdblockRequestFilter), 0, (GInstanceInitFunc) adblock_request_filter_instance_init, NULL };
	static const GInterfaceInfo peas_activatable_info = { (GInterfaceInitFunc) adblock_request_filter_peas_activatable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
	adblock_request_filter_type_id = g_type_module_register_type (module, peas_extension_base_get_type (), "AdblockRequestFilter", &g_define_type_info, 0);
	g_type_module_add_interface (module, adblock_request_filter_type_id, peas_activatable_get_type (), &peas_activatable_info);
	return adblock_request_filter_type_id;
}


static void
_vala_adblock_request_filter_get_property (GObject * object,
                                           guint property_id,
                                           GValue * value,
                                           GParamSpec * pspec)
{
	AdblockRequestFilter * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, ADBLOCK_TYPE_REQUEST_FILTER, AdblockRequestFilter);
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	switch (property_id) {
#line 74 "/home/test/core/extensions/adblock/extension.vala"
		case ADBLOCK_REQUEST_FILTER_OBJECT_PROPERTY:
#line 74 "/home/test/core/extensions/adblock/extension.vala"
		g_value_take_object (value, adblock_request_filter_real_get_object ((PeasActivatable*) self));
#line 74 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 1873 "extension.c"
		default:
#line 74 "/home/test/core/extensions/adblock/extension.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 74 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 1879 "extension.c"
	}
}


static void
_vala_adblock_request_filter_set_property (GObject * object,
                                           guint property_id,
                                           const GValue * value,
                                           GParamSpec * pspec)
{
	AdblockRequestFilter * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, ADBLOCK_TYPE_REQUEST_FILTER, AdblockRequestFilter);
#line 74 "/home/test/core/extensions/adblock/extension.vala"
	switch (property_id) {
#line 74 "/home/test/core/extensions/adblock/extension.vala"
		case ADBLOCK_REQUEST_FILTER_OBJECT_PROPERTY:
#line 74 "/home/test/core/extensions/adblock/extension.vala"
		adblock_request_filter_real_set_object ((PeasActivatable*) self, g_value_get_object (value));
#line 74 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 1900 "extension.c"
		default:
#line 74 "/home/test/core/extensions/adblock/extension.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 74 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 1906 "extension.c"
	}
}


static Block3Data*
block3_data_ref (Block3Data* _data3_)
{
#line 130 "/home/test/core/extensions/adblock/extension.vala"
	g_atomic_int_inc (&_data3_->_ref_count_);
#line 130 "/home/test/core/extensions/adblock/extension.vala"
	return _data3_;
#line 1918 "extension.c"
}


static void
block3_data_unref (void * _userdata_)
{
	Block3Data* _data3_;
	_data3_ = (Block3Data*) _userdata_;
#line 130 "/home/test/core/extensions/adblock/extension.vala"
	if (g_atomic_int_dec_and_test (&_data3_->_ref_count_)) {
#line 1929 "extension.c"
		AdblockPreferences* self;
#line 130 "/home/test/core/extensions/adblock/extension.vala"
		self = _data3_->self;
#line 130 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (_data3_->settings);
#line 130 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (_data3_->box);
#line 130 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (self);
#line 130 "/home/test/core/extensions/adblock/extension.vala"
		g_slice_free (Block3Data, _data3_);
#line 1941 "extension.c"
	}
}


static Block4Data*
block4_data_ref (Block4Data* _data4_)
{
#line 135 "/home/test/core/extensions/adblock/extension.vala"
	g_atomic_int_inc (&_data4_->_ref_count_);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
	return _data4_;
#line 1953 "extension.c"
}


static void
block4_data_unref (void * _userdata_)
{
	Block4Data* _data4_;
	_data4_ = (Block4Data*) _userdata_;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
	if (g_atomic_int_dec_and_test (&_data4_->_ref_count_)) {
#line 1964 "extension.c"
		AdblockPreferences* self;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		self = _data4_->_data3_->self;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (_data4_->row);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (_data4_->sub);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		block3_data_unref (_data4_->_data3_);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_data4_->_data3_ = NULL;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		g_slice_free (Block4Data, _data4_);
#line 1978 "extension.c"
	}
}


static gboolean
string_contains (const gchar* self,
                 const gchar* needle)
{
	gboolean result = FALSE;
	gchar* _tmp0_;
#line 1475 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, FALSE);
#line 1475 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (needle != NULL, FALSE);
#line 1476 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp0_ = strstr ((gchar*) self, (gchar*) needle);
#line 1476 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	result = _tmp0_ != NULL;
#line 1476 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	return result;
#line 1999 "extension.c"
}


static void
_____lambda9_ (Block4Data* _data4_)
{
	Block3Data* _data3_;
	AdblockPreferences* self;
	AdblockSettings* _tmp0_;
	AdblockSubscription* _tmp1_;
	GtkBox* _tmp2_;
#line 144 "/home/test/core/extensions/adblock/extension.vala"
	_data3_ = _data4_->_data3_;
#line 144 "/home/test/core/extensions/adblock/extension.vala"
	self = _data3_->self;
#line 145 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = _data3_->settings;
#line 145 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = _data4_->sub;
#line 145 "/home/test/core/extensions/adblock/extension.vala"
	adblock_settings_remove (_tmp0_, _tmp1_);
#line 146 "/home/test/core/extensions/adblock/extension.vala"
	_tmp2_ = _data4_->row;
#line 146 "/home/test/core/extensions/adblock/extension.vala"
	gtk_widget_destroy ((GtkWidget*) _tmp2_);
#line 2025 "extension.c"
}


static void
______lambda9__gtk_button_clicked (GtkButton* _sender,
                                   gpointer self)
{
#line 144 "/home/test/core/extensions/adblock/extension.vala"
	_____lambda9_ (self);
#line 2035 "extension.c"
}


static gboolean
__lambda10_ (AdblockPreferences* self,
             const gchar* uri)
{
	gboolean result = FALSE;
	GFile** files = NULL;
	GFile** _tmp0_;
	gint files_length1;
	gint _files_size_;
	GFile* _tmp1_;
	GApplication* _tmp2_;
#line 159 "/home/test/core/extensions/adblock/extension.vala"
	g_return_val_if_fail (uri != NULL, FALSE);
#line 160 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = g_new0 (GFile*, 1 + 1);
#line 160 "/home/test/core/extensions/adblock/extension.vala"
	files = _tmp0_;
#line 160 "/home/test/core/extensions/adblock/extension.vala"
	files_length1 = 1;
#line 160 "/home/test/core/extensions/adblock/extension.vala"
	_files_size_ = files_length1;
#line 161 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = g_file_new_for_uri (uri);
#line 161 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (files[0]);
#line 161 "/home/test/core/extensions/adblock/extension.vala"
	files[0] = _tmp1_;
#line 162 "/home/test/core/extensions/adblock/extension.vala"
	_tmp2_ = g_application_get_default ();
#line 162 "/home/test/core/extensions/adblock/extension.vala"
	g_application_open (_tmp2_, files, files_length1, "");
#line 163 "/home/test/core/extensions/adblock/extension.vala"
	result = TRUE;
#line 163 "/home/test/core/extensions/adblock/extension.vala"
	files = (_vala_array_free (files, files_length1, (GDestroyNotify) g_object_unref), NULL);
#line 163 "/home/test/core/extensions/adblock/extension.vala"
	return result;
#line 2076 "extension.c"
}


static gboolean
___lambda10__gtk_label_activate_link (GtkLabel* _sender,
                                      const gchar* uri,
                                      gpointer self)
{
	gboolean result;
	result = __lambda10_ ((AdblockPreferences*) self, uri);
#line 159 "/home/test/core/extensions/adblock/extension.vala"
	return result;
#line 2089 "extension.c"
}


static void
__lambda11_ (Block3Data* _data3_)
{
	AdblockPreferences* self;
	MidoriLabelWidget* _tmp0_;
#line 170 "/home/test/core/extensions/adblock/extension.vala"
	self = _data3_->self;
#line 171 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = _data3_->box;
#line 171 "/home/test/core/extensions/adblock/extension.vala"
	gtk_widget_destroy ((GtkWidget*) _tmp0_);
#line 2104 "extension.c"
}


static void
___lambda11__midori_preferences_activatable_deactivate (MidoriPreferencesActivatable* _sender,
                                                        gpointer self)
{
#line 170 "/home/test/core/extensions/adblock/extension.vala"
	__lambda11_ (self);
#line 2114 "extension.c"
}


static void
adblock_preferences_real_activate (MidoriPreferencesActivatable* base)
{
	AdblockPreferences * self;
	Block3Data* _data3_;
	MidoriLabelWidget* _tmp0_;
	GtkListBox* listbox = NULL;
	GtkListBox* _tmp1_;
	GtkListBox* _tmp2_;
	AdblockSettings* _tmp3_;
	GtkLabel* label = NULL;
	gchar* _tmp46_;
	gchar* _tmp47_;
	GtkLabel* _tmp48_;
	GtkLabel* _tmp49_;
	GtkListBox* _tmp50_;
	MidoriLabelWidget* _tmp51_;
	GtkListBox* _tmp52_;
	MidoriLabelWidget* _tmp53_;
	MidoriPreferences* _tmp54_;
	MidoriPreferences* _tmp55_;
	MidoriPreferences* _tmp56_;
	MidoriLabelWidget* _tmp57_;
#line 130 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockPreferences*) base;
#line 130 "/home/test/core/extensions/adblock/extension.vala"
	_data3_ = g_slice_new0 (Block3Data);
#line 130 "/home/test/core/extensions/adblock/extension.vala"
	_data3_->_ref_count_ = 1;
#line 130 "/home/test/core/extensions/adblock/extension.vala"
	_data3_->self = g_object_ref (self);
#line 131 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = midori_label_widget_new (_ ("Configure Advertisement filters"), NULL);
#line 131 "/home/test/core/extensions/adblock/extension.vala"
	g_object_ref_sink (_tmp0_);
#line 131 "/home/test/core/extensions/adblock/extension.vala"
	_data3_->box = _tmp0_;
#line 132 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = (GtkListBox*) gtk_list_box_new ();
#line 132 "/home/test/core/extensions/adblock/extension.vala"
	g_object_ref_sink (_tmp1_);
#line 132 "/home/test/core/extensions/adblock/extension.vala"
	listbox = _tmp1_;
#line 133 "/home/test/core/extensions/adblock/extension.vala"
	_tmp2_ = listbox;
#line 133 "/home/test/core/extensions/adblock/extension.vala"
	gtk_list_box_set_selection_mode (_tmp2_, GTK_SELECTION_NONE);
#line 134 "/home/test/core/extensions/adblock/extension.vala"
	_tmp3_ = adblock_settings_get_default ();
#line 134 "/home/test/core/extensions/adblock/extension.vala"
	_data3_->settings = _tmp3_;
#line 2169 "extension.c"
	{
		AdblockSettings* _sub_list = NULL;
		AdblockSettings* _tmp4_;
		AdblockSettings* _tmp5_;
		guint _sub_size = 0U;
		AdblockSettings* _tmp6_;
		guint _tmp7_;
		guint _tmp8_;
		gint _sub_index = 0;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_tmp4_ = _data3_->settings;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_tmp5_ = _g_object_ref0 (_tmp4_);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_sub_list = _tmp5_;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_tmp6_ = _sub_list;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_tmp7_ = adblock_settings_get_size (_tmp6_);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_tmp8_ = _tmp7_;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_sub_size = _tmp8_;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_sub_index = -1;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		while (TRUE) {
#line 2197 "extension.c"
			Block4Data* _data4_;
			gint _tmp9_;
			gint _tmp10_;
			guint _tmp11_;
			AdblockSettings* _tmp12_;
			gint _tmp13_;
			AdblockSubscription* _tmp14_;
			AdblockSubscription* _tmp15_;
			GtkBox* _tmp16_;
			GtkCheckButton* button = NULL;
			AdblockSubscription* _tmp17_;
			const gchar* _tmp18_;
			const gchar* _tmp19_;
			GtkCheckButton* _tmp20_;
			GtkCheckButton* _tmp21_;
			AdblockSubscription* _tmp22_;
			const gchar* _tmp23_;
			const gchar* _tmp24_;
			AdblockSubscription* _tmp25_;
			GtkCheckButton* _tmp26_;
			GtkBox* _tmp27_;
			GtkCheckButton* _tmp28_;
			AdblockSettings* _tmp29_;
			const gchar* _tmp30_;
			AdblockSubscription* _tmp31_;
			const gchar* _tmp32_;
			const gchar* _tmp33_;
			gchar** _tmp34_;
			gchar** _tmp35_;
			gchar** _tmp36_;
			gint _tmp36__length1;
			const gchar* _tmp37_;
			gboolean _tmp38_;
			GtkListBox* _tmp44_;
			GtkBox* _tmp45_;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_data4_ = g_slice_new0 (Block4Data);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_data4_->_ref_count_ = 1;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_data4_->_data3_ = block3_data_ref (_data3_);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_tmp9_ = _sub_index;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_sub_index = _tmp9_ + 1;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_tmp10_ = _sub_index;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_tmp11_ = _sub_size;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			if (!(((guint) _tmp10_) < _tmp11_)) {
#line 135 "/home/test/core/extensions/adblock/extension.vala"
				block4_data_unref (_data4_);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
				_data4_ = NULL;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
				break;
#line 2255 "extension.c"
			}
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_tmp12_ = _sub_list;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_tmp13_ = _sub_index;
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_tmp14_ = adblock_settings_get (_tmp12_, (guint) _tmp13_);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_tmp15_ = _g_object_ref0 (_tmp14_);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_data4_->sub = _tmp15_;
#line 136 "/home/test/core/extensions/adblock/extension.vala"
			_tmp16_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 4);
#line 136 "/home/test/core/extensions/adblock/extension.vala"
			g_object_ref_sink (_tmp16_);
#line 136 "/home/test/core/extensions/adblock/extension.vala"
			_data4_->row = _tmp16_;
#line 137 "/home/test/core/extensions/adblock/extension.vala"
			_tmp17_ = _data4_->sub;
#line 137 "/home/test/core/extensions/adblock/extension.vala"
			_tmp18_ = adblock_subscription_get_title (_tmp17_);
#line 137 "/home/test/core/extensions/adblock/extension.vala"
			_tmp19_ = _tmp18_;
#line 137 "/home/test/core/extensions/adblock/extension.vala"
			_tmp20_ = (GtkCheckButton*) gtk_check_button_new_with_label (_tmp19_);
#line 137 "/home/test/core/extensions/adblock/extension.vala"
			g_object_ref_sink (_tmp20_);
#line 137 "/home/test/core/extensions/adblock/extension.vala"
			button = _tmp20_;
#line 138 "/home/test/core/extensions/adblock/extension.vala"
			_tmp21_ = button;
#line 138 "/home/test/core/extensions/adblock/extension.vala"
			_tmp22_ = _data4_->sub;
#line 138 "/home/test/core/extensions/adblock/extension.vala"
			_tmp23_ = adblock_subscription_get_uri (_tmp22_);
#line 138 "/home/test/core/extensions/adblock/extension.vala"
			_tmp24_ = _tmp23_;
#line 138 "/home/test/core/extensions/adblock/extension.vala"
			gtk_widget_set_tooltip_text ((GtkWidget*) _tmp21_, _tmp24_);
#line 139 "/home/test/core/extensions/adblock/extension.vala"
			_tmp25_ = _data4_->sub;
#line 139 "/home/test/core/extensions/adblock/extension.vala"
			_tmp26_ = button;
#line 139 "/home/test/core/extensions/adblock/extension.vala"
			g_object_bind_property_with_closures ((GObject*) _tmp25_, "active", (GObject*) _tmp26_, "active", G_BINDING_SYNC_CREATE | G_BINDING_BIDIRECTIONAL, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 140 "/home/test/core/extensions/adblock/extension.vala"
			_tmp27_ = _data4_->row;
#line 140 "/home/test/core/extensions/adblock/extension.vala"
			_tmp28_ = button;
#line 140 "/home/test/core/extensions/adblock/extension.vala"
			gtk_box_pack_start (_tmp27_, (GtkWidget*) _tmp28_, TRUE, TRUE, (guint) 0);
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			_tmp29_ = _data3_->settings;
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			_tmp30_ = _tmp29_->default_filters;
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			_tmp31_ = _data4_->sub;
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			_tmp32_ = adblock_subscription_get_uri (_tmp31_);
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			_tmp33_ = _tmp32_;
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			_tmp35_ = _tmp34_ = g_strsplit (_tmp33_, "&", 0);
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			_tmp36_ = _tmp35_;
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			_tmp36__length1 = _vala_array_length (_tmp34_);
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			_tmp37_ = _tmp36_[0];
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			_tmp38_ = !string_contains (_tmp30_, _tmp37_);
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			_tmp36_ = (_vala_array_free (_tmp36_, _tmp36__length1, (GDestroyNotify) g_free), NULL);
#line 141 "/home/test/core/extensions/adblock/extension.vala"
			if (_tmp38_) {
#line 2331 "extension.c"
				GtkButton* remove = NULL;
				GtkButton* _tmp39_;
				GtkButton* _tmp40_;
				GtkButton* _tmp41_;
				GtkBox* _tmp42_;
				GtkButton* _tmp43_;
#line 142 "/home/test/core/extensions/adblock/extension.vala"
				_tmp39_ = (GtkButton*) gtk_button_new_from_icon_name ("list-remove-symbolic", (GtkIconSize) GTK_ICON_SIZE_BUTTON);
#line 142 "/home/test/core/extensions/adblock/extension.vala"
				g_object_ref_sink (_tmp39_);
#line 142 "/home/test/core/extensions/adblock/extension.vala"
				remove = _tmp39_;
#line 143 "/home/test/core/extensions/adblock/extension.vala"
				_tmp40_ = remove;
#line 143 "/home/test/core/extensions/adblock/extension.vala"
				gtk_button_set_relief (_tmp40_, GTK_RELIEF_NONE);
#line 144 "/home/test/core/extensions/adblock/extension.vala"
				_tmp41_ = remove;
#line 144 "/home/test/core/extensions/adblock/extension.vala"
				g_signal_connect_data (_tmp41_, "clicked", (GCallback) ______lambda9__gtk_button_clicked, block4_data_ref (_data4_), (GClosureNotify) block4_data_unref, 0);
#line 148 "/home/test/core/extensions/adblock/extension.vala"
				_tmp42_ = _data4_->row;
#line 148 "/home/test/core/extensions/adblock/extension.vala"
				_tmp43_ = remove;
#line 148 "/home/test/core/extensions/adblock/extension.vala"
				gtk_box_pack_end (_tmp42_, (GtkWidget*) _tmp43_, FALSE, TRUE, (guint) 0);
#line 141 "/home/test/core/extensions/adblock/extension.vala"
				_g_object_unref0 (remove);
#line 2360 "extension.c"
			}
#line 150 "/home/test/core/extensions/adblock/extension.vala"
			_tmp44_ = listbox;
#line 150 "/home/test/core/extensions/adblock/extension.vala"
			_tmp45_ = _data4_->row;
#line 150 "/home/test/core/extensions/adblock/extension.vala"
			gtk_list_box_insert (_tmp44_, (GtkWidget*) _tmp45_, -1);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_g_object_unref0 (button);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			block4_data_unref (_data4_);
#line 135 "/home/test/core/extensions/adblock/extension.vala"
			_data4_ = NULL;
#line 2374 "extension.c"
		}
#line 135 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (_sub_list);
#line 2378 "extension.c"
	}
#line 154 "/home/test/core/extensions/adblock/extension.vala"
	_tmp46_ = g_strdup_printf (_ ("You can find more lists by visiting following sites:\n %s, %s\n"), "<a href=\"https://adblockplus.org/en/subscriptions\">AdblockPlus</a>", "<a href=\"https://easylist.to\">EasyList</a>");
#line 154 "/home/test/core/extensions/adblock/extension.vala"
	_tmp47_ = _tmp46_;
#line 154 "/home/test/core/extensions/adblock/extension.vala"
	_tmp48_ = (GtkLabel*) gtk_label_new (_tmp47_);
#line 154 "/home/test/core/extensions/adblock/extension.vala"
	g_object_ref_sink (_tmp48_);
#line 154 "/home/test/core/extensions/adblock/extension.vala"
	_tmp49_ = _tmp48_;
#line 154 "/home/test/core/extensions/adblock/extension.vala"
	_g_free0 (_tmp47_);
#line 154 "/home/test/core/extensions/adblock/extension.vala"
	label = _tmp49_;
#line 158 "/home/test/core/extensions/adblock/extension.vala"
	gtk_label_set_use_markup (label, TRUE);
#line 159 "/home/test/core/extensions/adblock/extension.vala"
	g_signal_connect_object (label, "activate-link", (GCallback) ___lambda10__gtk_label_activate_link, self, 0);
#line 165 "/home/test/core/extensions/adblock/extension.vala"
	_tmp50_ = listbox;
#line 165 "/home/test/core/extensions/adblock/extension.vala"
	gtk_list_box_insert (_tmp50_, (GtkWidget*) label, -1);
#line 167 "/home/test/core/extensions/adblock/extension.vala"
	_tmp51_ = _data3_->box;
#line 167 "/home/test/core/extensions/adblock/extension.vala"
	_tmp52_ = listbox;
#line 167 "/home/test/core/extensions/adblock/extension.vala"
	gtk_container_add ((GtkContainer*) _tmp51_, (GtkWidget*) _tmp52_);
#line 168 "/home/test/core/extensions/adblock/extension.vala"
	_tmp53_ = _data3_->box;
#line 168 "/home/test/core/extensions/adblock/extension.vala"
	gtk_widget_show_all ((GtkWidget*) _tmp53_);
#line 169 "/home/test/core/extensions/adblock/extension.vala"
	_tmp54_ = midori_preferences_activatable_get_preferences ((MidoriPreferencesActivatable*) self);
#line 169 "/home/test/core/extensions/adblock/extension.vala"
	_tmp55_ = _tmp54_;
#line 169 "/home/test/core/extensions/adblock/extension.vala"
	_tmp56_ = _tmp55_;
#line 169 "/home/test/core/extensions/adblock/extension.vala"
	_tmp57_ = _data3_->box;
#line 169 "/home/test/core/extensions/adblock/extension.vala"
	midori_preferences_add (_tmp56_, _ ("Privacy"), (GtkWidget*) _tmp57_);
#line 169 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (_tmp56_);
#line 170 "/home/test/core/extensions/adblock/extension.vala"
	g_signal_connect_data ((MidoriPreferencesActivatable*) self, "deactivate", (GCallback) ___lambda11__midori_preferences_activatable_deactivate, block3_data_ref (_data3_), (GClosureNotify) block3_data_unref, 0);
#line 130 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (label);
#line 130 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (listbox);
#line 130 "/home/test/core/extensions/adblock/extension.vala"
	block3_data_unref (_data3_);
#line 130 "/home/test/core/extensions/adblock/extension.vala"
	_data3_ = NULL;
#line 2434 "extension.c"
}


AdblockPreferences*
adblock_preferences_construct (GType object_type)
{
	AdblockPreferences * self = NULL;
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockPreferences*) g_object_new (object_type, NULL);
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	return self;
#line 2446 "extension.c"
}


AdblockPreferences*
adblock_preferences_new (void)
{
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	return adblock_preferences_construct (ADBLOCK_TYPE_PREFERENCES);
#line 2455 "extension.c"
}


static MidoriPreferences*
adblock_preferences_real_get_preferences (MidoriPreferencesActivatable* base)
{
	MidoriPreferences* result;
	AdblockPreferences* self;
	MidoriPreferences* _tmp0_;
	MidoriPreferences* _tmp1_;
#line 128 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockPreferences*) base;
#line 128 "/home/test/core/extensions/adblock/extension.vala"
	_tmp0_ = self->priv->_preferences;
#line 128 "/home/test/core/extensions/adblock/extension.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 128 "/home/test/core/extensions/adblock/extension.vala"
	result = _tmp1_;
#line 128 "/home/test/core/extensions/adblock/extension.vala"
	return result;
#line 2476 "extension.c"
}


static void
adblock_preferences_real_set_preferences (MidoriPreferencesActivatable* base,
                                          MidoriPreferences* value)
{
	AdblockPreferences* self;
#line 128 "/home/test/core/extensions/adblock/extension.vala"
	self = (AdblockPreferences*) base;
#line 128 "/home/test/core/extensions/adblock/extension.vala"
	if (adblock_preferences_real_get_preferences (base) != value) {
#line 2489 "extension.c"
		MidoriPreferences* _tmp0_;
#line 128 "/home/test/core/extensions/adblock/extension.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 128 "/home/test/core/extensions/adblock/extension.vala"
		_g_object_unref0 (self->priv->_preferences);
#line 128 "/home/test/core/extensions/adblock/extension.vala"
		self->priv->_preferences = _tmp0_;
#line 128 "/home/test/core/extensions/adblock/extension.vala"
		g_object_notify_by_pspec ((GObject *) self, adblock_preferences_properties[ADBLOCK_PREFERENCES_PREFERENCES_PROPERTY]);
#line 2499 "extension.c"
	}
}


static void
adblock_preferences_class_init (AdblockPreferencesClass * klass)
{
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	adblock_preferences_parent_class = g_type_class_peek_parent (klass);
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	g_type_class_add_private (klass, sizeof (AdblockPreferencesPrivate));
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_adblock_preferences_get_property;
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_adblock_preferences_set_property;
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->finalize = adblock_preferences_finalize;
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), ADBLOCK_PREFERENCES_PREFERENCES_PROPERTY, adblock_preferences_properties[ADBLOCK_PREFERENCES_PREFERENCES_PROPERTY] = g_param_spec_object ("preferences", "preferences", "preferences", MIDORI_TYPE_PREFERENCES, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 2519 "extension.c"
}


static void
adblock_preferences_midori_preferences_activatable_interface_init (MidoriPreferencesActivatableIface * iface)
{
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	adblock_preferences_midori_preferences_activatable_parent_iface = g_type_interface_peek_parent (iface);
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	iface->activate = (void (*) (MidoriPreferencesActivatable*)) adblock_preferences_real_activate;
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	iface->get_preferences = adblock_preferences_real_get_preferences;
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	iface->set_preferences = adblock_preferences_real_set_preferences;
#line 2534 "extension.c"
}


static void
adblock_preferences_instance_init (AdblockPreferences * self)
{
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	self->priv = ADBLOCK_PREFERENCES_GET_PRIVATE (self);
#line 2543 "extension.c"
}


static void
adblock_preferences_finalize (GObject * obj)
{
	AdblockPreferences * self;
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, ADBLOCK_TYPE_PREFERENCES, AdblockPreferences);
#line 128 "/home/test/core/extensions/adblock/extension.vala"
	_g_object_unref0 (self->priv->_preferences);
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (adblock_preferences_parent_class)->finalize (obj);
#line 2557 "extension.c"
}


GType
adblock_preferences_get_type (void)
{
	return adblock_preferences_type_id;
}


GType
adblock_preferences_register_type (GTypeModule * module)
{
	static const GTypeInfo g_define_type_info = { sizeof (AdblockPreferencesClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) adblock_preferences_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (AdblockPreferences), 0, (GInstanceInitFunc) adblock_preferences_instance_init, NULL };
	static const GInterfaceInfo midori_preferences_activatable_info = { (GInterfaceInitFunc) adblock_preferences_midori_preferences_activatable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
	adblock_preferences_type_id = g_type_module_register_type (module, G_TYPE_OBJECT, "AdblockPreferences", &g_define_type_info, 0);
	g_type_module_add_interface (module, adblock_preferences_type_id, MIDORI_TYPE_PREFERENCES_ACTIVATABLE, &midori_preferences_activatable_info);
	return adblock_preferences_type_id;
}


static void
_vala_adblock_preferences_get_property (GObject * object,
                                        guint property_id,
                                        GValue * value,
                                        GParamSpec * pspec)
{
	AdblockPreferences * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, ADBLOCK_TYPE_PREFERENCES, AdblockPreferences);
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	switch (property_id) {
#line 127 "/home/test/core/extensions/adblock/extension.vala"
		case ADBLOCK_PREFERENCES_PREFERENCES_PROPERTY:
#line 127 "/home/test/core/extensions/adblock/extension.vala"
		g_value_take_object (value, midori_preferences_activatable_get_preferences ((MidoriPreferencesActivatable*) self));
#line 127 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 2595 "extension.c"
		default:
#line 127 "/home/test/core/extensions/adblock/extension.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 127 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 2601 "extension.c"
	}
}


static void
_vala_adblock_preferences_set_property (GObject * object,
                                        guint property_id,
                                        const GValue * value,
                                        GParamSpec * pspec)
{
	AdblockPreferences * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, ADBLOCK_TYPE_PREFERENCES, AdblockPreferences);
#line 127 "/home/test/core/extensions/adblock/extension.vala"
	switch (property_id) {
#line 127 "/home/test/core/extensions/adblock/extension.vala"
		case ADBLOCK_PREFERENCES_PREFERENCES_PROPERTY:
#line 127 "/home/test/core/extensions/adblock/extension.vala"
		midori_preferences_activatable_set_preferences ((MidoriPreferencesActivatable*) self, g_value_get_object (value));
#line 127 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 2622 "extension.c"
		default:
#line 127 "/home/test/core/extensions/adblock/extension.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 127 "/home/test/core/extensions/adblock/extension.vala"
		break;
#line 2628 "extension.c"
	}
}


void
peas_register_types (GTypeModule* module)
{
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	g_return_if_fail (module != NULL);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_button_register_type (module);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_frontend_register_type (module);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_request_filter_register_type (module);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_preferences_register_type (module);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_feature_register_type (module);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_filter_register_type (module);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_keys_register_type (module);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_options_register_type (module);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_pattern_register_type (module);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_settings_register_type (module);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_subscription_register_type (module);
#line 178 "/home/test/core/extensions/adblock/extension.vala"
	adblock_whitelist_register_type (module);
#line 179 "/home/test/core/extensions/adblock/extension.vala"
	peas_object_module_register_extension_type (G_TYPE_CHECK_INSTANCE_CAST (module, peas_object_module_get_type (), PeasObjectModule), MIDORI_TYPE_BROWSER_ACTIVATABLE, ADBLOCK_TYPE_FRONTEND);
#line 181 "/home/test/core/extensions/adblock/extension.vala"
	peas_object_module_register_extension_type (G_TYPE_CHECK_INSTANCE_CAST (module, peas_object_module_get_type (), PeasObjectModule), peas_activatable_get_type (), ADBLOCK_TYPE_REQUEST_FILTER);
#line 183 "/home/test/core/extensions/adblock/extension.vala"
	peas_object_module_register_extension_type (G_TYPE_CHECK_INSTANCE_CAST (module, peas_object_module_get_type (), PeasObjectModule), MIDORI_TYPE_PREFERENCES_ACTIVATABLE, ADBLOCK_TYPE_PREFERENCES);
#line 2668 "extension.c"
}


static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint
_vala_array_length (gpointer array)
{
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



