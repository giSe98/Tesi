/* history.c generated by valac 0.40.23, the Vala compiler
 * generated from history.vala, do not modify */

/*
 Copyright (C) 2013-2018 Christian Dywan <christian@twotoats.de>

 This library is free software; you can redistribute it and/or
 modify it under the terms of the GNU Lesser General Public
 License as published by the Free Software Foundation; either
 version 2.1 of the License, or (at your option) any later version.

 See the file COPYING for the full license text.
*/


#include <glib.h>
#include <glib-object.h>
#include <gio/gio.h>
#include <stdlib.h>
#include <string.h>
#include <sqlite3.h>


#define MIDORI_TYPE_LOGGABLE (midori_loggable_get_type ())
#define MIDORI_LOGGABLE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_LOGGABLE, MidoriLoggable))
#define MIDORI_IS_LOGGABLE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_LOGGABLE))
#define MIDORI_LOGGABLE_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), MIDORI_TYPE_LOGGABLE, MidoriLoggableIface))

typedef struct _MidoriLoggable MidoriLoggable;
typedef struct _MidoriLoggableIface MidoriLoggableIface;

#define MIDORI_TYPE_DATABASE (midori_database_get_type ())
#define MIDORI_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_DATABASE, MidoriDatabase))
#define MIDORI_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_DATABASE, MidoriDatabaseClass))
#define MIDORI_IS_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_DATABASE))
#define MIDORI_IS_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_DATABASE))
#define MIDORI_DATABASE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_DATABASE, MidoriDatabaseClass))

typedef struct _MidoriDatabase MidoriDatabase;
typedef struct _MidoriDatabaseClass MidoriDatabaseClass;
typedef struct _MidoriDatabasePrivate MidoriDatabasePrivate;

#define MIDORI_TYPE_DATABASE_ITEM (midori_database_item_get_type ())
#define MIDORI_DATABASE_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_DATABASE_ITEM, MidoriDatabaseItem))
#define MIDORI_DATABASE_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_DATABASE_ITEM, MidoriDatabaseItemClass))
#define MIDORI_IS_DATABASE_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_DATABASE_ITEM))
#define MIDORI_IS_DATABASE_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_DATABASE_ITEM))
#define MIDORI_DATABASE_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_DATABASE_ITEM, MidoriDatabaseItemClass))

typedef struct _MidoriDatabaseItem MidoriDatabaseItem;
typedef struct _MidoriDatabaseItemClass MidoriDatabaseItemClass;

#define MIDORI_TYPE_HISTORY_DATABASE (midori_history_database_get_type ())
#define MIDORI_HISTORY_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_HISTORY_DATABASE, MidoriHistoryDatabase))
#define MIDORI_HISTORY_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_HISTORY_DATABASE, MidoriHistoryDatabaseClass))
#define MIDORI_IS_HISTORY_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_HISTORY_DATABASE))
#define MIDORI_IS_HISTORY_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_HISTORY_DATABASE))
#define MIDORI_HISTORY_DATABASE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_HISTORY_DATABASE, MidoriHistoryDatabaseClass))

typedef struct _MidoriHistoryDatabase MidoriHistoryDatabase;
typedef struct _MidoriHistoryDatabaseClass MidoriHistoryDatabaseClass;
typedef struct _MidoriHistoryDatabasePrivate MidoriHistoryDatabasePrivate;
enum  {
	MIDORI_HISTORY_DATABASE_0_PROPERTY,
	MIDORI_HISTORY_DATABASE_NUM_PROPERTIES
};
static GParamSpec* midori_history_database_properties[MIDORI_HISTORY_DATABASE_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define MIDORI_TYPE_SETTINGS (midori_settings_get_type ())
#define MIDORI_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_SETTINGS, MidoriSettings))
#define MIDORI_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_SETTINGS, MidoriSettingsClass))
#define MIDORI_IS_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_SETTINGS))
#define MIDORI_IS_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_SETTINGS))
#define MIDORI_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_SETTINGS, MidoriSettingsClass))

typedef struct _MidoriSettings MidoriSettings;
typedef struct _MidoriSettingsClass MidoriSettingsClass;

#define MIDORI_TYPE_CORE_SETTINGS (midori_core_settings_get_type ())
#define MIDORI_CORE_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MIDORI_TYPE_CORE_SETTINGS, MidoriCoreSettings))
#define MIDORI_CORE_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MIDORI_TYPE_CORE_SETTINGS, MidoriCoreSettingsClass))
#define MIDORI_IS_CORE_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MIDORI_TYPE_CORE_SETTINGS))
#define MIDORI_IS_CORE_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MIDORI_TYPE_CORE_SETTINGS))
#define MIDORI_CORE_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MIDORI_TYPE_CORE_SETTINGS, MidoriCoreSettingsClass))

typedef struct _MidoriCoreSettings MidoriCoreSettings;
typedef struct _MidoriCoreSettingsClass MidoriCoreSettingsClass;

struct _MidoriLoggableIface {
	GTypeInterface parent_iface;
};

typedef enum  {
	MIDORI_DATABASE_ERROR_OPEN,
	MIDORI_DATABASE_ERROR_NAMING,
	MIDORI_DATABASE_ERROR_FILENAME,
	MIDORI_DATABASE_ERROR_EXECUTE,
	MIDORI_DATABASE_ERROR_COMPILE,
	MIDORI_DATABASE_ERROR_TYPE
} MidoriDatabaseError;
#define MIDORI_DATABASE_ERROR midori_database_error_quark ()
struct _MidoriDatabase {
	GObject parent_instance;
	MidoriDatabasePrivate * priv;
	sqlite3* db;
};

struct _MidoriDatabaseClass {
	GObjectClass parent_class;
	gboolean (*init) (MidoriDatabase* self, GCancellable* cancellable, GError** error);
	void (*delete) (MidoriDatabase* self, MidoriDatabaseItem* item, GAsyncReadyCallback _callback_, gpointer _user_data_);
	gboolean (*delete_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
	void (*lookup) (MidoriDatabase* self, const gchar* uri, GAsyncReadyCallback _callback_, gpointer _user_data_);
	MidoriDatabaseItem* (*lookup_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
	void (*query) (MidoriDatabase* self, const gchar* filter, gint64 max_items, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
	GList* (*query_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
	void (*update) (MidoriDatabase* self, MidoriDatabaseItem* item, GAsyncReadyCallback _callback_, gpointer _user_data_);
	gboolean (*update_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
	void (*insert) (MidoriDatabase* self, MidoriDatabaseItem* item, GAsyncReadyCallback _callback_, gpointer _user_data_);
	gboolean (*insert_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
	void (*clear) (MidoriDatabase* self, GTimeSpan timespan, GAsyncReadyCallback _callback_, gpointer _user_data_);
	gboolean (*clear_finish) (MidoriDatabase* self, GAsyncResult* _res_, GError** error);
};

struct _MidoriHistoryDatabase {
	MidoriDatabase parent_instance;
	MidoriHistoryDatabasePrivate * priv;
};

struct _MidoriHistoryDatabaseClass {
	MidoriDatabaseClass parent_class;
};


static gpointer midori_history_database_parent_class = NULL;
static MidoriHistoryDatabase* midori_history_database__default;
static MidoriHistoryDatabase* midori_history_database__default = NULL;
static MidoriHistoryDatabase* midori_history_database__default_incognito;
static MidoriHistoryDatabase* midori_history_database__default_incognito = NULL;

GType midori_loggable_get_type (void) G_GNUC_CONST;
GType midori_database_get_type (void) G_GNUC_CONST;
GQuark midori_database_error_quark (void);
GType midori_database_item_get_type (void) G_GNUC_CONST;
GType midori_history_database_get_type (void) G_GNUC_CONST;
MidoriHistoryDatabase* midori_history_database_get_default (gboolean incognito,
                                                            GError** error);
static MidoriHistoryDatabase* midori_history_database_new (gboolean incognito,
                                                    GError** error);
static MidoriHistoryDatabase* midori_history_database_construct (GType object_type,
                                                          gboolean incognito,
                                                          GError** error);
gboolean midori_database_init (MidoriDatabase* self,
                               GCancellable* cancellable,
                               GError** error);
gboolean midori_database_exec (MidoriDatabase* self,
                               const gchar* query,
                               GError** error);
gboolean midori_database_exec_script (MidoriDatabase* self,
                                      const gchar* filename,
                                      GError** error);
GType midori_settings_get_type (void) G_GNUC_CONST;
GType midori_core_settings_get_type (void) G_GNUC_CONST;
MidoriCoreSettings* midori_core_settings_get_default (void);
static void midori_history_database_finalize (GObject * obj);


static gpointer
_g_object_ref0 (gpointer self)
{
#line 19 "/home/test/core/core/history.vala"
	return self ? g_object_ref (self) : NULL;
#line 176 "history.c"
}


MidoriHistoryDatabase*
midori_history_database_get_default (gboolean incognito,
                                     GError** error)
{
	MidoriHistoryDatabase* result = NULL;
	MidoriHistoryDatabase* _tmp7_ = NULL;
	MidoriHistoryDatabase* _tmp8_;
	MidoriHistoryDatabase* _tmp9_ = NULL;
	MidoriHistoryDatabase* _tmp10_;
	MidoriHistoryDatabase* _tmp11_;
	MidoriHistoryDatabase* _tmp12_;
	MidoriHistoryDatabase* _tmp13_;
	GError* _inner_error0_ = NULL;
#line 18 "/home/test/core/core/history.vala"
	if (incognito) {
#line 195 "history.c"
		MidoriHistoryDatabase* _tmp0_ = NULL;
		MidoriHistoryDatabase* _tmp1_;
		MidoriHistoryDatabase* _tmp2_ = NULL;
		MidoriHistoryDatabase* _tmp3_;
		MidoriHistoryDatabase* _tmp4_;
		MidoriHistoryDatabase* _tmp5_;
		MidoriHistoryDatabase* _tmp6_;
#line 19 "/home/test/core/core/history.vala"
		_tmp1_ = midori_history_database_new (TRUE, &_inner_error0_);
#line 19 "/home/test/core/core/history.vala"
		_tmp0_ = _tmp1_;
#line 19 "/home/test/core/core/history.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 19 "/home/test/core/core/history.vala"
			if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 19 "/home/test/core/core/history.vala"
				g_propagate_error (error, _inner_error0_);
#line 19 "/home/test/core/core/history.vala"
				return NULL;
#line 215 "history.c"
			} else {
#line 19 "/home/test/core/core/history.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 19 "/home/test/core/core/history.vala"
				g_clear_error (&_inner_error0_);
#line 19 "/home/test/core/core/history.vala"
				return NULL;
#line 223 "history.c"
			}
		}
#line 19 "/home/test/core/core/history.vala"
		_tmp3_ = midori_history_database__default_incognito;
#line 19 "/home/test/core/core/history.vala"
		_tmp2_ = _tmp3_;
#line 19 "/home/test/core/core/history.vala"
		if (_tmp2_ == NULL) {
#line 19 "/home/test/core/core/history.vala"
			_tmp2_ = _tmp0_;
#line 234 "history.c"
		}
#line 19 "/home/test/core/core/history.vala"
		_tmp4_ = _g_object_ref0 (_tmp2_);
#line 19 "/home/test/core/core/history.vala"
		_g_object_unref0 (midori_history_database__default_incognito);
#line 19 "/home/test/core/core/history.vala"
		midori_history_database__default_incognito = _tmp4_;
#line 20 "/home/test/core/core/history.vala"
		_tmp5_ = midori_history_database__default_incognito;
#line 20 "/home/test/core/core/history.vala"
		_tmp6_ = _g_object_ref0 (_tmp5_);
#line 20 "/home/test/core/core/history.vala"
		result = _tmp6_;
#line 20 "/home/test/core/core/history.vala"
		_g_object_unref0 (_tmp0_);
#line 20 "/home/test/core/core/history.vala"
		return result;
#line 252 "history.c"
	}
#line 22 "/home/test/core/core/history.vala"
	_tmp8_ = midori_history_database_new (FALSE, &_inner_error0_);
#line 22 "/home/test/core/core/history.vala"
	_tmp7_ = _tmp8_;
#line 22 "/home/test/core/core/history.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 22 "/home/test/core/core/history.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 22 "/home/test/core/core/history.vala"
			g_propagate_error (error, _inner_error0_);
#line 22 "/home/test/core/core/history.vala"
			return NULL;
#line 266 "history.c"
		} else {
#line 22 "/home/test/core/core/history.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 22 "/home/test/core/core/history.vala"
			g_clear_error (&_inner_error0_);
#line 22 "/home/test/core/core/history.vala"
			return NULL;
#line 274 "history.c"
		}
	}
#line 22 "/home/test/core/core/history.vala"
	_tmp10_ = midori_history_database__default;
#line 22 "/home/test/core/core/history.vala"
	_tmp9_ = _tmp10_;
#line 22 "/home/test/core/core/history.vala"
	if (_tmp9_ == NULL) {
#line 22 "/home/test/core/core/history.vala"
		_tmp9_ = _tmp7_;
#line 285 "history.c"
	}
#line 22 "/home/test/core/core/history.vala"
	_tmp11_ = _g_object_ref0 (_tmp9_);
#line 22 "/home/test/core/core/history.vala"
	_g_object_unref0 (midori_history_database__default);
#line 22 "/home/test/core/core/history.vala"
	midori_history_database__default = _tmp11_;
#line 23 "/home/test/core/core/history.vala"
	_tmp12_ = midori_history_database__default;
#line 23 "/home/test/core/core/history.vala"
	_tmp13_ = _g_object_ref0 (_tmp12_);
#line 23 "/home/test/core/core/history.vala"
	result = _tmp13_;
#line 23 "/home/test/core/core/history.vala"
	_g_object_unref0 (_tmp7_);
#line 23 "/home/test/core/core/history.vala"
	return result;
#line 303 "history.c"
}


static MidoriHistoryDatabase*
midori_history_database_construct (GType object_type,
                                   gboolean incognito,
                                   GError** error)
{
	MidoriHistoryDatabase * self = NULL;
	MidoriCoreSettings* _tmp0_;
	MidoriCoreSettings* _tmp1_;
	GError* _inner_error0_ = NULL;
#line 27 "/home/test/core/core/history.vala"
	self = (MidoriHistoryDatabase*) g_object_new (object_type, "path", "history.db", "readonly", incognito, NULL);
#line 28 "/home/test/core/core/history.vala"
	midori_database_init ((MidoriDatabase*) self, NULL, &_inner_error0_);
#line 28 "/home/test/core/core/history.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 28 "/home/test/core/core/history.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 28 "/home/test/core/core/history.vala"
			g_propagate_error (error, _inner_error0_);
#line 28 "/home/test/core/core/history.vala"
			_g_object_unref0 (self);
#line 28 "/home/test/core/core/history.vala"
			return NULL;
#line 330 "history.c"
		} else {
#line 28 "/home/test/core/core/history.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 28 "/home/test/core/core/history.vala"
			g_clear_error (&_inner_error0_);
#line 28 "/home/test/core/core/history.vala"
			return NULL;
#line 338 "history.c"
		}
	}
	{
#line 31 "/home/test/core/core/history.vala"
		midori_database_exec ((MidoriDatabase*) self, "SELECT day FROM history LIMIT 1", &_inner_error0_);
#line 31 "/home/test/core/core/history.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 346 "history.c"
			goto __catch11_g_error;
		}
	}
	goto __finally11;
	__catch11_g_error:
	{
		GError* _error_ = NULL;
#line 30 "/home/test/core/core/history.vala"
		_error_ = _inner_error0_;
#line 30 "/home/test/core/core/history.vala"
		_inner_error0_ = NULL;
#line 33 "/home/test/core/core/history.vala"
		midori_database_exec_script ((MidoriDatabase*) self, "Day", &_inner_error0_);
#line 33 "/home/test/core/core/history.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 33 "/home/test/core/core/history.vala"
			_g_error_free0 (_error_);
#line 364 "history.c"
			goto __finally11;
		}
#line 30 "/home/test/core/core/history.vala"
		_g_error_free0 (_error_);
#line 369 "history.c"
	}
	__finally11:
#line 30 "/home/test/core/core/history.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 30 "/home/test/core/core/history.vala"
		if (_inner_error0_->domain == MIDORI_DATABASE_ERROR) {
#line 30 "/home/test/core/core/history.vala"
			g_propagate_error (error, _inner_error0_);
#line 30 "/home/test/core/core/history.vala"
			_g_object_unref0 (self);
#line 30 "/home/test/core/core/history.vala"
			return NULL;
#line 382 "history.c"
		} else {
#line 30 "/home/test/core/core/history.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 30 "/home/test/core/core/history.vala"
			g_clear_error (&_inner_error0_);
#line 30 "/home/test/core/core/history.vala"
			return NULL;
#line 390 "history.c"
		}
	}
#line 36 "/home/test/core/core/history.vala"
	_tmp0_ = midori_core_settings_get_default ();
#line 36 "/home/test/core/core/history.vala"
	_tmp1_ = _tmp0_;
#line 36 "/home/test/core/core/history.vala"
	g_object_bind_property_with_closures ((GObject*) _tmp1_, "maximum-history-age", (GObject*) self, "maximum-age", G_BINDING_SYNC_CREATE, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 36 "/home/test/core/core/history.vala"
	_g_object_unref0 (_tmp1_);
#line 26 "/home/test/core/core/history.vala"
	return self;
#line 403 "history.c"
}


static MidoriHistoryDatabase*
midori_history_database_new (gboolean incognito,
                             GError** error)
{
#line 26 "/home/test/core/core/history.vala"
	return midori_history_database_construct (MIDORI_TYPE_HISTORY_DATABASE, incognito, error);
#line 413 "history.c"
}


static void
midori_history_database_class_init (MidoriHistoryDatabaseClass * klass)
{
#line 13 "/home/test/core/core/history.vala"
	midori_history_database_parent_class = g_type_class_peek_parent (klass);
#line 13 "/home/test/core/core/history.vala"
	G_OBJECT_CLASS (klass)->finalize = midori_history_database_finalize;
#line 424 "history.c"
}


static void
midori_history_database_instance_init (MidoriHistoryDatabase * self)
{
}


static void
midori_history_database_finalize (GObject * obj)
{
	MidoriHistoryDatabase * self;
#line 13 "/home/test/core/core/history.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MIDORI_TYPE_HISTORY_DATABASE, MidoriHistoryDatabase);
#line 13 "/home/test/core/core/history.vala"
	G_OBJECT_CLASS (midori_history_database_parent_class)->finalize (obj);
#line 442 "history.c"
}


GType
midori_history_database_get_type (void)
{
	static volatile gsize midori_history_database_type_id__volatile = 0;
	if (g_once_init_enter (&midori_history_database_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MidoriHistoryDatabaseClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) midori_history_database_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MidoriHistoryDatabase), 0, (GInstanceInitFunc) midori_history_database_instance_init, NULL };
		GType midori_history_database_type_id;
		midori_history_database_type_id = g_type_register_static (MIDORI_TYPE_DATABASE, "MidoriHistoryDatabase", &g_define_type_info, 0);
		g_once_init_leave (&midori_history_database_type_id__volatile, midori_history_database_type_id);
	}
	return midori_history_database_type_id__volatile;
}



